<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Land Cover Classification using Sentinel2 and Deep Learning</title>
    <link href="/2022/06/30/Land-Cover-Classification-using-Sentinel2-and-Deep-Learning/"/>
    <url>/2022/06/30/Land-Cover-Classification-using-Sentinel2-and-Deep-Learning/</url>
    
    <content type="html"><![CDATA[<h1 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h1><p>This post is about getting to know LULC classificaiton using Sentinel 2 based on deep learing.</p><span id="more"></span><h1 id="sentinel-2"><a class="markdownIt-Anchor" href="#sentinel-2"></a> Sentinel 2</h1><p><a href="https://sentinel.esa.int/web/sentinel/missions/sentinel-2">Sentinel-2</a> is a mission of two twin satellites, promoted by the European Space Agency, travelling around the Globe, completing a full circle every ten days. The two satellites are flying in the same orbit but phased at 180°, which means that they co-operate to provide freshly captured imagery every five days. One is called S2A and its twin is called S2B<a href="https://www.staridasgeography.gr/how-to-make-outstanding-maps-with-sentinel-2-and-arcgis-pro-part-1-band-combinations/" title="How to Make Outstanding Maps with Sentinel-2 and ArcGIS Pro – Part 1: Band Combinations">1</a>!</p><h2 id="data-download"><a class="markdownIt-Anchor" href="#data-download"></a> Data Download</h2><figure class="highlight dsconfig"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-string">wget</span> <span class="hljs-built_in">--content-disposition</span> <span class="hljs-built_in">--continue</span> <span class="hljs-built_in">--user=&#123;mengyuchi&#125;</span> <span class="hljs-built_in">--password=&#123;5212109mengle&#125;</span> <span class="hljs-string">&quot;https://scihub.copernicus.eu/dhus/odata/v1/Products(&#x27;9586b4cc-c2bf-4efb-8ee7-87f2ff6f2089&#x27;)/$value&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Deep Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>LULC</tag>
      
      <tag>Land Cover Classification</tag>
      
      <tag>Sentinel 2</tag>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Research about influences of Xuzhou metro construction upon land sustainability</title>
    <link href="/2022/05/18/Research-about-influences-of-Xuzhou-railway-construction-upon-land-sustainability/"/>
    <url>/2022/05/18/Research-about-influences-of-Xuzhou-railway-construction-upon-land-sustainability/</url>
    
    <content type="html"><![CDATA[<h1 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h1><p>This post is about the influences of metro contrution upon land subsidence in Xuzhou.</p><h1 id="about-xuzhou-metro"><a class="markdownIt-Anchor" href="#about-xuzhou-metro"></a> About Xuzhou metro</h1><p>The Xuzhou Metro is a rapid transit system in Xuzhou, Jiangsu Province, China. Construction began in February 2014, and Line 1 was opened on September-28-2019, Line 2 was opened on November-28-2020, and Line 3 was opened on June-28-2021<a href="https://en.wikipedia.org/wiki/Xuzhou_Metro" title="Xuzhou Metro">1</a>.</p><p>By 2020, the network is scheduled to comprise three lines with a total length of about 67 kilometres. The total investment is expected to be 44.3 billion renminbi.The system is planned to comprise 11 lines and 323 kilometres of track when fully built out.</p><p>In its first year of operation the ridership was 7.5 million (2019).</p><h1 id="line-1"><a class="markdownIt-Anchor" href="#line-1"></a> Line 1</h1><p>Line 1 began construction in February 2014. The first phase is 21.967 kilometres (13.6 mi) in length, and has 18 stations (17 underground and one elevated). It runs from Luwo in the west to Xuzhoudong Railway Station in the east. In June 2018, the civil engineering construction work was reported to be 95% complete, leaving mostly track laying, decorations, and electromechanical installations to be completed. On August 30, 2018, railway work was declared complete, and electromechanical installations and decorations declared as “under intense progress”. It was opened on September 28, 2019. Line 1 runs in east–west, starting from Luwo Station in Tongshan District in the west, and ending at Xuzhoudong Railway Station in Jiawang District in the east. It passes through Quanshan District, Gulou District, and Yunlong District, covering the east–west passenger flow corridor of Xuzhou City. Important nodes in Xuzhou city downtown, Bashan Area, and Chengdong New District connect to commercial centers such as People’s Square, Pengcheng Square, Huaihai Square and Wanda Plaza, and quickly connect with the two major comprehensive passenger transport hubs, Xuzhou Railway Station and Xuzhoudong Railway Station.</p><p>Line 1 opened on September 28, 2019. This was the first metro line in Xuzhou city. As of November 2020, Line 1 has a total length of 21.97 km (13.65 mi), of which the line is elevated for 0.571 km (0.355 mi), underground for 20.996 km (13.046 mi), and at-grade for 0.4 km (0.25 mi). There are a total of 18 stations, including one elevated station and 17 underground stations. Rolling stock for line 1 is six-section B-type trains. As of November 2020, the average daily ridership of Line 1 is 56,500, and the single-day ridership record is 150,000, set on October 2, 2019. Yearly ridership for 2020 on line 1 was 19 million.</p><h1 id="line-2"><a class="markdownIt-Anchor" href="#line-2"></a> Line 2</h1><p>Line 2, opened on November 28, 2020, is 24.25 kilometres (15.07 mi) long with 20 underground stations. The line is fully underground Xuzhou Metro Line 2 was the second metro line in Xuzhou city to open. It is a north–south to east–west backbone line that runs through the old city and Xuzhou New District, covering the north and southeast passenger flow corridors of the city, connecting the Jiulishan area, the old city and the new city.</p><h2 id="dalonghu-phase-1"><a class="markdownIt-Anchor" href="#dalonghu-phase-1"></a> Dalonghu - Phase 1</h2><p>Station Dalonghu was successfully topped out in 2017-03-14<a href="https://www.xzdtjt.com/article/11/190/2722.html" title="Dalonghu Station">2</a>, along with City-Council Station within Line 2. The duration of the contruction of Dalonghu Station was less than 1 year.</p>]]></content>
    
    
    <categories>
      
      <category>Xuzhou</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Land Subsidence</tag>
      
      <tag>Xuzhou</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Post-PS-SARscape Analysis in ArcGIS Pro</title>
    <link href="/2022/05/17/Post-PS-SARscape-Analysis-in-ArcGIS-Pro/"/>
    <url>/2022/05/17/Post-PS-SARscape-Analysis-in-ArcGIS-Pro/</url>
    
    <content type="html"><![CDATA[<p>This post is about post-SARscape-PSinsar analysis for Xuzhou city in ArcGIS and RStudio.</p><h1 id="r-arcgis-bridge"><a class="markdownIt-Anchor" href="#r-arcgis-bridge"></a> R-ArcGIS bridge</h1><p>R is an open-source statistical computing language that offers a large suite of data analysis and statistical tools. You can use R to extend the capabilities of ArcGIS and allow for more robust spatial and non-spatial data analysis. In this tutorial, a process will be outlined which will guide you through configuring ArcGIS with the RArcGIS bridge to enable you to access ArcGIS datasets in R, install third-party R packages, and execute R tools configured as script tools in an ArcGIS toolbox. By establishing this link, you will be able to develop R programs that interoperate with ArcGIS datasets, and create custom geoprocessing tools that use R functionality within an ArcGIS Pro or ArcGIS Desktop  environment<a href="https://highered-esricanada.github.io/r-arcgis-tutorials/1-Getting-Started.pdf" title="Tutorial for ArcGIS Pro 2.2 / ArcGIS Desktop 10.6.1 Getting Started with the R-ArcGIS Bridge">1</a>.</p><h2 id="background-information"><a class="markdownIt-Anchor" href="#background-information"></a> Background Information</h2><blockquote><p>ArcGIS offers a multitude of statistical tools for data analysis. These tools are especially useful when working with GIS data, as they can help you extract information that might not be apparent by looking at a map. The tools available in ArcGIS include basic descriptive statistics (e.g., mean, median, standard deviation), and a variety of spatial statistics, many of which can be found in the Spatial Statistics Toolbox. You are encouraged to use these built-in tools where applicable.</p></blockquote><blockquote><p>While these resources can be beneficial, certain common non-spatial analysis techniques (e.g., ANOVA, correlation, etc.) are not available from within ArcGIS. If you need to apply such techniques, you may have to draw on other statistical software, and exporting data from ArcGIS to a third-party system to perform a simple test can be time consuming and sometimes cumbersome. Being able to communicate with other statistical software systems directly from within ArcGIS helps to alleviate this problem. This is made possible by the R-ArcGIS Bridge by connecting ArcGIS to the R statistical computing software.</p></blockquote><blockquote><p>R is an open-source statistical computing language that offers a large suite of data analysis and statistical tools. R also has an active and growing user community of data scientists, academics, and software engineers who are constantly implementing new tools and techniques that keep R up to date with the latest research methods. Harnessing these tools can reduce some of the work of performing statistical tests, and is a reason to consider using R with ArcGIS.</p></blockquote><blockquote><p>Setting up the R-ArcGIS Bridge to establish the link between ArcGIS and R is a relatively straightforward process. By completing this tutorial, you will have successfully installed the R-ArcGIS Bridge. This initial setup is a requirement for associated tutorial that teach you to work with ArcGIS data in R, and create custom R tools that can be execute from ArcGIS.</p></blockquote><h2 id=""><a class="markdownIt-Anchor" href="#"></a> </h2>]]></content>
    
    
    <categories>
      
      <category>PS-InSAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PS-InSAR</tag>
      
      <tag>SARscape</tag>
      
      <tag>ArcGIS Pro</tag>
      
      <tag>R</tag>
      
      <tag>RStudio</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>StaMPS Process of Xuzhou City using Sentinel1A in LiDO3</title>
    <link href="/2022/05/11/StaMPS-Process-of-Xuzhou-City-using-Sentinel1A-in-LiDO3/"/>
    <url>/2022/05/11/StaMPS-Process-of-Xuzhou-City-using-Sentinel1A-in-LiDO3/</url>
    
    <content type="html"><![CDATA[<h1 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h1><p>To monitor the land subsidence inside Xuzhou city and to compare the resule of StaMPS-InSAR with SARscape PS process, and to understand the difference of these two methods.</p><h1 id="xuzhou-city"><a class="markdownIt-Anchor" href="#xuzhou-city"></a> Xuzhou City</h1><span id="more"></span><p>Xuzhou, or known as Pengcheng in ancient times, is a major city in and the fourth largest prefecture-level city of Jiangsu province. It is known for its role as a transportation hub in northwestern Jiangsu, as it has expressways and railway links connecting directly to the provinces of Henan and Shandong, the neighboring port city of Lianyungang, as well as the economic hub Shanghai<a href="http://english.jsjyt.edu.cn/2015-12/08/c_46782.htm" title="Xuzhou">1</a>.</p><p>Xuzhou is “a city of science and education” with a galaxy of talents. There are altogether 31 independent scientific research institutes, 335 R&amp;D institutions and 14 colleges and universities, including China University of Mining &amp; Technology, Xuzhou Medical College, Jiangsu Normal University, Xuzhou Institute of Technology, etc, which jointly provide Xuzhou with solid and strong intellectual support for its economic and social development.</p><h2 id="location"><a class="markdownIt-Anchor" href="#location"></a> Location</h2><p>Xuzhou is located in the northwest of Jiangsu Province, the common boundary of Jiangsu Province, Shandong Province, Henan Province and Anhui Province. It is about 300 kilometers away from Nanjing, Jinan, Zhengzhou and Hefei. Covering a land of 1,125 square kilometers, Xuzhou has a population of 8.63 million.</p><p>The prefecture-level city of Xuzhou administers 10 county-level divisions, including five districts, two county-level cities and three counties.</p><h2 id="climate"><a class="markdownIt-Anchor" href="#climate"></a> Climate</h2><p>By the influence of warm temperature zone semi-moist monsoon climate, Xuzhou has apparently different four seasons with cool summer and warm winter. The yearly average temperature is 14℃ with the yearly average rainfall volume of 866mm and the frost free period in Xuzhou is between 200 and 220 days. The yearly average sunshine period is 2,100 hours to 2,400 hours. The best time for traveling in Xuzhou is in fall.</p><p><img src="xuzhou1.jpg" alt="Xuzhou" /></p><h2 id="economy"><a class="markdownIt-Anchor" href="#economy"></a> Economy</h2><p>Xuzhou is rich in resources and diversified in agricultural and sideline produce. It has a huge reserve of high-quality mineral resources such as coal, iron, limestone, marble stone, etc.</p><p>The industrialization management of agriculture has achieved great progress. The guiding role of industrial economy has being continuously intensified. Coal, electronic, fabric, medicine and construction material industries have certain scope and level.</p><p>Xuzhou Construction Machinery Group (XCMG), Weiwei Group and Datun Coal and Electricity Corporation are listed the top 520 corporations in China. Tertiary industry has developed boomingly and the role of regional logistics center and tourism center has further intensified. Foreign-oriented economy has made great headway. Many world well-known companies such as Caterpillar, Rockwell and Haier Group settled here.</p><p>The construction machinery manufacturer XCMG is the largest company based in Xuzhou. It is the world’s 10th largest construction equipment maker measured by 2011 revenues, and the third-largest based in China (after Sany and Zoomlion).</p><h2 id="history-and-culture"><a class="markdownIt-Anchor" href="#history-and-culture"></a> History and Culture</h2><p>With a civilization of over 5,000 years, Xuzhou was built 2,600 years ago and is one of the most ancient cities in China. Xuzhou was one of the nine states of the country over 3,000 years ago.</p><p>As a city of Han Dynasty Culture, Xuzhou was the hometown of Liu Bang (256-195BC), the first emperor of Western Han Dynasty. The Han Dynasty was divided into Eastern Han and Western Han periods (206BC-189AD) lasting for over 400 years. During which the local kings in Xuzhou left numerous historical heritages, including Han clay figurines, Han stone relief carvings and Han Tombs, which are called “Three Wonders of the Han Dynasty”. They are representatives of the Chinese Han culture.</p><p><img src="xuzhou2.jpg" alt="Xuzhou" /></p><h1 id="dataset"><a class="markdownIt-Anchor" href="#dataset"></a> Dataset</h1><p>134 Sentinel1-A SLC IW arcsending SAR data with path <code>142</code> and frame <code>106</code> from <code>2016-08-29</code> to <code>2021-11-07</code> has been acquired from ASF data search vertex<a href="https://search.asf.alaska.edu/#/?zoom=7.701&amp;center=117.637,32.499&amp;polygon=POLYGON((117.0208%2034.0743,117.5322%2034.0743,117.5322%2034.3928,117.0208%2034.3928,117.0208%2034.0743))&amp;start=2014-06-14T22:00:00Z&amp;end=2021-12-11T22:59:59Z&amp;productTypes=SLC&amp;beamModes=IW&amp;subtypes=SA&amp;path=142-&amp;resultsLoaded=true&amp;granule=S1A_IW_SLC__1SDV_20211201T101219_20211201T101247_040814_04D85B_8DCC-SLC&amp;frame=106-" title="ASF data search vertex">2</a>.</p><p><img src="dataset.png" alt="Preview of Sentinel 1A data" /></p><p>File name: <code>S1A_IW_SLC__1SDV_20190428T101159_20190428T101227_026989_0309CA_8C7C</code></p><figure class="highlight apache"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Start</span> Time • <span class="hljs-number">04</span>/<span class="hljs-number">28</span>/<span class="hljs-number">19</span>, <span class="hljs-number">10</span>:<span class="hljs-number">11</span>:<span class="hljs-number">59</span>Z<br><span class="hljs-attribute">Stop</span> Time • <span class="hljs-number">04</span>/<span class="hljs-number">28</span>/<span class="hljs-number">19</span>, <span class="hljs-number">10</span>:<span class="hljs-number">12</span>:<span class="hljs-number">27</span>Z<br><span class="hljs-attribute">Beam</span> Mode • IW<br><span class="hljs-attribute">Path</span> • <span class="hljs-number">142</span><br><span class="hljs-attribute">Frame</span> • <span class="hljs-number">106</span> <br><span class="hljs-attribute">Flight</span> Direction • ASCENDING <br><span class="hljs-attribute">Polarization</span> • VV+VH <br><span class="hljs-attribute">Absolute</span> Orbit • <span class="hljs-number">26989</span><br><span class="hljs-attribute">Data</span> courtesy of ESA<br><span class="hljs-attribute">Citation</span><br></code></pre></td></tr></table></figure><h1 id="pre-process-with-snap2stamps"><a class="markdownIt-Anchor" href="#pre-process-with-snap2stamps"></a> Pre-process with snap2stamps</h1><h2 id="wsl-and-xlaunch"><a class="markdownIt-Anchor" href="#wsl-and-xlaunch"></a> WSL and Xlaunch</h2><p>In Xlaunch:<br /><code>One large window</code> -&gt; <code>Start no client</code> -&gt; <code>Disable access control</code></p><p>Ubuntu on Windows</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">yuchi@DESKTOP-C79LC47:~$ export DISPLAY=$(ip route list default | awk &#x27;&#123;print $3&#125;&#x27;):0<br>yuchi@DESKTOP-C79LC47:~$ export LIBGL_ALWAYS_INDIRECT=1<br>yuchi@DESKTOP-C79LC47:~$ startlxde<br>** Message: 17:46:13.991: main.vala:102: Session is LXDE<br>** Message: 17:46:13.991: main.vala:103: DE is LXDE<br>** Message: 17:46:14.060: main.vala:134: log directory: /home/yuchi/.cache/lxsession/LXDE<br>** Message: 17:46:14.060: main.vala:135: log path: /home/yuchi/.cache/lxsession/LXDE/run.log<br></code></pre></td></tr></table></figure><h2 id="snap-desktop"><a class="markdownIt-Anchor" href="#snap-desktop"></a> SNAP Desktop</h2><ul><li>Select optimal master in SNAP using <code>Radar / Interferometric / InSAR Stack Overview</code></li></ul><p><img src="master_select.png" alt="Select optimal master in SNAP" /></p><ul><li>Perform subsetting of whole image using TOPSAR Split via <code>Radar / Sentinel-1 TOPS / S-1 TOPS Split</code>. Set the processing parameters<ul><li>subswath IW2</li><li>polarization  Vv</li><li>bursts 6-10</li></ul></li></ul><p><img src="deburst.png" alt="Subsetting of whole image" /></p><ul><li>Get LAT/LON MIN/MAX (bounding box) for PSI area of interest. This can be obtained e.g. from ROI polygon in QGIS <code>Layer Properties | Metadata | Properties | Extent</code> or ArcGIS.</li></ul><p>Extent of Study area:<br />Top: 34.585279<br />Bottom: 34.022282<br />Left: 116.811255<br />Right: 117.713315</p><h2 id="snap2stamps-in-wsl"><a class="markdownIt-Anchor" href="#snap2stamps-in-wsl"></a> snap2stamps in WSL</h2><ul><li>Edit <code>project.conf</code> to set up configuration for your project.</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs conf">######### CONFIGURATION FILE ######<br>###################################<br># PROJECT DEFINITION<br>PROJECTFOLDER=/mnt/i/SAR/Data/Xuzhou_city/<br>GRAPHSFOLDER=/home/yuchi/software/snap2stamps/graphs<br>##################################<br># PROCESSING PARAMETERS<br>IW1=IW2<br>MASTER=/mnt/i/SAR/Data/Xuzhou_city/master/S1A_IW_SLC__1SDV_20190919T101207_20190919T101235_029089_034D30_8446_split.dim<br># AOI BBOX DEFINITION<br>LONMIN=116.811255<br>LATMIN=34.022282<br>LONMAX=117.713315<br>LATMAX=34.585279<br>##################################<br># SNAP GPT <br>GPTBIN_PATH=/home/yuchi/snap/bin/gpt<br>##################################<br># COMPUTING RESOURCES TO EMPLOY<br>CPU=2<br>CACHE=16G<br>##################################<br></code></pre></td></tr></table></figure><ul><li><p>Move the master (zip + TOPS - Split Output) to the directory <code>master</code> in your PROJECTFOLDER <code>/mnt/i/SAR/Data/Xuzhou_city/master/</code>.</p></li><li><p>Make sure that all slave images (zip) are stored in the subfolder <code>slaves</code> in the PROJECTFOLDER <code>/mnt/i/SAR/Data/Xuzhou_city/slaves/</code>.</p></li><li><p>Check if all libraries are available for your Python 2 installation (you might need to <code>pip install pathlib</code>).</p></li><li><p>Run the python scripts of snap2stamp directly in your shell:</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">slave sorting</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">(fast) 2-3 seconds</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-keyword">in</span> WSL</span><br>python slaves_prep.py project.conf<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">slave splitting and orbit correction</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">(this takes some time, approx. 50 seconds per slave) 120 seconds per slave</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-keyword">in</span> WSL</span><br><br>python splitting_slaves.py project.conf<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">master-slave coregistration and interferometric generation</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">(this takes some time, approx. 180 seconds per slave) 680+ seconds per slave, around 24 hours to process all</span><br>python coreg_ifg_topsar.py project.conf<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ouput data generation <span class="hljs-keyword">in</span> StaMPS compatible format</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">(approx. 30 seconds)</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">python stamps_export.py project.conf</span><br></code></pre></td></tr></table></figure><ul><li><p><strong>DO</strong> Copy <code>/Xuzhou_city/coreg /graphs /ifg /logs</code> folder to LiDO use Winscp and run the fellowing scripts in LiDO.</p></li><li><p><strong>DO</strong> Edit the <code>project.conf</code> file in <code>\work\smyumeng\snap2stamps\bin</code>:</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs conf">######### CONFIGURATION FILE ######<br>###################################<br># PROJECT DEFINITION<br>PROJECTFOLDER=/work/smyumeng/Sentinel_PS/xuzhou_city/<br>GRAPHSFOLDER=/work/smyumeng/snap2stamps/graphs<br>##################################<br># PROCESSING PARAMETERS<br>IW1=IW2<br>MASTER=/work/smyumeng/Sentinel_PS/xuzhou_city/master/S1A_IW_SLC__1SDV_20190919T101207_20190919T101235_029089_034D30_8446_split.dim<br>##################################<br># AOI BBOX DEFINITION<br>LONMIN=116.811255<br>LATMIN=34.022282<br>LONMAX=117.713315<br>LATMAX=34.585279<br>##################################<br># SNAP GPT <br>GPTBIN_PATH=/home/smyumeng/snap/bin/gpt<br>##################################<br># COMPUTING RESOURCES TO EMPLOY<br>CPU=16<br>CACHE=160G<br>##################################<br></code></pre></td></tr></table></figure></li><li><p><strong>DO</strong> cd to <code>/work/smyumeng/project/snap2stamps_script/</code> and open in terminal</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sbatch snap2stamps_stamps_output.sh<br></code></pre></td></tr></table></figure><ul><li><p>The data final output structure after performing the last step should contain these four folders: <code>rslc</code>, <code>diff0</code>, <code>geo</code> and <code>dem</code>.</p></li><li><p>Check for empty interferograms. If any exist, remove files containing the date of the empty file from the folders <code>rslc</code> and <code>diff0</code>. Otherwise, this will throw warnings related to 0 mean amplitude during the final preparation step use in stamps (i.e. <code>mt_prep_snap</code>) and eventually screw up the selection of PS candidates.</p></li><li><p>copy <code>INSAR_master_date</code> folder from MATLAB workstation</p></li><li><p>prepare for StaMPS MATLAB process</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">source</span> /work/smyumeng/StaMPS/StaMPS_CONFIG.bash</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">mt_prep_snap 20190919 /work/smyumeng/Sentinel_PS/Xuzhou_city/INSAR_20190919 0.4 3 2 50 200</span><br></code></pre></td></tr></table></figure><ul><li>launch <code>matlab</code> to continue with StaMPS PS analysis</li></ul><h2 id="matlab"><a class="markdownIt-Anchor" href="#matlab"></a> MATLAB</h2><p>In LiDO, <code>cd</code> to shell scripts folder. In this case is <code>cd /work/smyumeng/project/sentinel_scripts</code>, edit script <code>stamps13</code>, <code>stamps678</code> and run shell scripts.</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">sbatch </span>stamps1_4.<span class="hljs-keyword">sh</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">sbatch </span>stamps5.<span class="hljs-keyword">sh</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">sbatch </span>stamps6.<span class="hljs-keyword">sh</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">sbatch </span>stamps7_8.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><ul><li>PS_info</li></ul><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; ps_info<br>  <span class="hljs-number">1</span>  <span class="hljs-number">05</span>-Aug<span class="hljs-number">-2016</span>   <span class="hljs-number">-31</span> m   <span class="hljs-number">53.765</span> deg<br>  <span class="hljs-number">2</span>  <span class="hljs-number">17</span>-Aug<span class="hljs-number">-2016</span>    <span class="hljs-number">15</span> m   <span class="hljs-number">51.862</span> deg<br>  <span class="hljs-number">3</span>  <span class="hljs-number">29</span>-Aug<span class="hljs-number">-2016</span>    <span class="hljs-number">24</span> m   <span class="hljs-number">49.975</span> deg<br>  <span class="hljs-number">4</span>  <span class="hljs-number">20</span>-May<span class="hljs-number">-2017</span>   <span class="hljs-number">-65</span> m   <span class="hljs-number">43.667</span> deg<br>  <span class="hljs-number">5</span>  <span class="hljs-number">13</span>-Jun<span class="hljs-number">-2017</span>    <span class="hljs-number">-4</span> m   <span class="hljs-number">40.435</span> deg<br>  <span class="hljs-number">6</span>  <span class="hljs-number">25</span>-Jun<span class="hljs-number">-2017</span>    <span class="hljs-number">30</span> m   <span class="hljs-number">39.724</span> deg<br>  <span class="hljs-number">7</span>  <span class="hljs-number">19</span>-Jul<span class="hljs-number">-2017</span>    <span class="hljs-number">-4</span> m   <span class="hljs-number">41.734</span> deg<br>  <span class="hljs-number">8</span>  <span class="hljs-number">31</span>-Jul<span class="hljs-number">-2017</span>   <span class="hljs-number">-51</span> m   <span class="hljs-number">44.778</span> deg<br>  <span class="hljs-number">9</span>  <span class="hljs-number">12</span>-Aug<span class="hljs-number">-2017</span>   <span class="hljs-number">-49</span> m   <span class="hljs-number">42.578</span> deg<br> <span class="hljs-number">10</span>  <span class="hljs-number">24</span>-Aug<span class="hljs-number">-2017</span>    <span class="hljs-number">55</span> m   <span class="hljs-number">38.236</span> deg<br> <span class="hljs-number">11</span>  <span class="hljs-number">05</span>-Sep<span class="hljs-number">-2017</span>    <span class="hljs-number">56</span> m   <span class="hljs-number">40.778</span> deg<br> <span class="hljs-number">12</span>  <span class="hljs-number">17</span>-Sep<span class="hljs-number">-2017</span>   <span class="hljs-number">-42</span> m   <span class="hljs-number">37.375</span> deg<br> <span class="hljs-number">13</span>  <span class="hljs-number">11</span>-Oct<span class="hljs-number">-2017</span>  <span class="hljs-number">-112</span> m   <span class="hljs-number">46.294</span> deg<br> <span class="hljs-number">14</span>  <span class="hljs-number">23</span>-Oct<span class="hljs-number">-2017</span>   <span class="hljs-number">-58</span> m   <span class="hljs-number">35.192</span> deg<br> <span class="hljs-number">15</span>  <span class="hljs-number">04</span>-Nov<span class="hljs-number">-2017</span>    <span class="hljs-number">18</span> m   <span class="hljs-number">35.254</span> deg<br> <span class="hljs-number">16</span>  <span class="hljs-number">16</span>-Nov<span class="hljs-number">-2017</span>   <span class="hljs-number">-13</span> m   <span class="hljs-number">33.478</span> deg<br> <span class="hljs-number">17</span>  <span class="hljs-number">28</span>-Nov<span class="hljs-number">-2017</span>   <span class="hljs-number">-83</span> m   <span class="hljs-number">33.531</span> deg<br> <span class="hljs-number">18</span>  <span class="hljs-number">10</span>-Dec<span class="hljs-number">-2017</span>   <span class="hljs-number">-47</span> m   <span class="hljs-number">35.339</span> deg<br> <span class="hljs-number">19</span>  <span class="hljs-number">22</span>-Dec<span class="hljs-number">-2017</span>    <span class="hljs-number">40</span> m   <span class="hljs-number">35.074</span> deg<br> <span class="hljs-number">20</span>  <span class="hljs-number">03</span>-Jan<span class="hljs-number">-2018</span>    <span class="hljs-number">59</span> m   <span class="hljs-number">38.786</span> deg<br> <span class="hljs-number">21</span>  <span class="hljs-number">15</span>-Jan<span class="hljs-number">-2018</span>     <span class="hljs-number">4</span> m   <span class="hljs-number">37.448</span> deg<br> <span class="hljs-number">22</span>  <span class="hljs-number">27</span>-Jan<span class="hljs-number">-2018</span>   <span class="hljs-number">-32</span> m   <span class="hljs-number">42.990</span> deg<br> <span class="hljs-number">23</span>  <span class="hljs-number">08</span>-Feb<span class="hljs-number">-2018</span>   <span class="hljs-number">-89</span> m   <span class="hljs-number">34.891</span> deg<br> <span class="hljs-number">24</span>  <span class="hljs-number">20</span>-Feb<span class="hljs-number">-2018</span>   <span class="hljs-number">-76</span> m   <span class="hljs-number">32.894</span> deg<br> <span class="hljs-number">25</span>  <span class="hljs-number">04</span>-Mar<span class="hljs-number">-2018</span>   <span class="hljs-number">-59</span> m   <span class="hljs-number">41.880</span> deg<br> <span class="hljs-number">26</span>  <span class="hljs-number">28</span>-Mar<span class="hljs-number">-2018</span>   <span class="hljs-number">-10</span> m   <span class="hljs-number">29.675</span> deg<br> <span class="hljs-number">27</span>  <span class="hljs-number">09</span>-Apr<span class="hljs-number">-2018</span>   <span class="hljs-number">-32</span> m   <span class="hljs-number">30.275</span> deg<br> <span class="hljs-number">28</span>  <span class="hljs-number">21</span>-Apr<span class="hljs-number">-2018</span>    <span class="hljs-number">-9</span> m   <span class="hljs-number">42.681</span> deg<br> <span class="hljs-number">29</span>  <span class="hljs-number">03</span>-May<span class="hljs-number">-2018</span>    <span class="hljs-number">45</span> m   <span class="hljs-number">28.915</span> deg<br> <span class="hljs-number">30</span>  <span class="hljs-number">15</span>-May<span class="hljs-number">-2018</span>   <span class="hljs-number">-13</span> m   <span class="hljs-number">30.676</span> deg<br> <span class="hljs-number">31</span>  <span class="hljs-number">27</span>-May<span class="hljs-number">-2018</span>   <span class="hljs-number">-21</span> m   <span class="hljs-number">30.958</span> deg<br> <span class="hljs-number">32</span>  <span class="hljs-number">08</span>-Jun<span class="hljs-number">-2018</span>   <span class="hljs-number">-34</span> m   <span class="hljs-number">32.425</span> deg<br> <span class="hljs-number">33</span>  <span class="hljs-number">20</span>-Jun<span class="hljs-number">-2018</span>   <span class="hljs-number">-19</span> m   <span class="hljs-number">32.944</span> deg<br> <span class="hljs-number">34</span>  <span class="hljs-number">02</span>-Jul<span class="hljs-number">-2018</span>    <span class="hljs-number">58</span> m   <span class="hljs-number">28.058</span> deg<br> <span class="hljs-number">35</span>  <span class="hljs-number">14</span>-Jul<span class="hljs-number">-2018</span>    <span class="hljs-number">60</span> m   <span class="hljs-number">30.617</span> deg<br> <span class="hljs-number">36</span>  <span class="hljs-number">26</span>-Jul<span class="hljs-number">-2018</span>    <span class="hljs-number">32</span> m   <span class="hljs-number">48.992</span> deg<br> <span class="hljs-number">37</span>  <span class="hljs-number">07</span>-Aug<span class="hljs-number">-2018</span>     <span class="hljs-number">1</span> m   <span class="hljs-number">34.364</span> deg<br> <span class="hljs-number">38</span>  <span class="hljs-number">19</span>-Aug<span class="hljs-number">-2018</span>   <span class="hljs-number">-74</span> m   <span class="hljs-number">42.650</span> deg<br> <span class="hljs-number">39</span>  <span class="hljs-number">31</span>-Aug<span class="hljs-number">-2018</span>   <span class="hljs-number">-49</span> m   <span class="hljs-number">32.299</span> deg<br> <span class="hljs-number">40</span>  <span class="hljs-number">12</span>-Sep<span class="hljs-number">-2018</span>    <span class="hljs-number">14</span> m   <span class="hljs-number">27.427</span> deg<br> <span class="hljs-number">41</span>  <span class="hljs-number">24</span>-Sep<span class="hljs-number">-2018</span>    <span class="hljs-number">55</span> m   <span class="hljs-number">26.934</span> deg<br> <span class="hljs-number">42</span>  <span class="hljs-number">06</span>-Oct<span class="hljs-number">-2018</span>    <span class="hljs-number">19</span> m   <span class="hljs-number">26.798</span> deg<br> <span class="hljs-number">43</span>  <span class="hljs-number">18</span>-Oct<span class="hljs-number">-2018</span>  <span class="hljs-number">-110</span> m   <span class="hljs-number">28.005</span> deg<br> <span class="hljs-number">44</span>  <span class="hljs-number">11</span>-Nov<span class="hljs-number">-2018</span>   <span class="hljs-number">-37</span> m   <span class="hljs-number">29.667</span> deg<br> <span class="hljs-number">45</span>  <span class="hljs-number">23</span>-Nov<span class="hljs-number">-2018</span>    <span class="hljs-number">34</span> m   <span class="hljs-number">29.855</span> deg<br> <span class="hljs-number">46</span>  <span class="hljs-number">05</span>-Dec<span class="hljs-number">-2018</span>   <span class="hljs-number">-19</span> m   <span class="hljs-number">40.999</span> deg<br> <span class="hljs-number">47</span>  <span class="hljs-number">17</span>-Dec<span class="hljs-number">-2018</span>   <span class="hljs-number">-11</span> m   <span class="hljs-number">31.237</span> deg<br> <span class="hljs-number">48</span>  <span class="hljs-number">29</span>-Dec<span class="hljs-number">-2018</span>  <span class="hljs-number">-117</span> m   <span class="hljs-number">30.164</span> deg<br> <span class="hljs-number">49</span>  <span class="hljs-number">10</span>-Jan<span class="hljs-number">-2019</span>   <span class="hljs-number">-37</span> m   <span class="hljs-number">40.075</span> deg<br> <span class="hljs-number">50</span>  <span class="hljs-number">22</span>-Jan<span class="hljs-number">-2019</span>   <span class="hljs-number">-52</span> m   <span class="hljs-number">28.011</span> deg<br> <span class="hljs-number">51</span>  <span class="hljs-number">03</span>-Feb<span class="hljs-number">-2019</span>   <span class="hljs-number">-12</span> m   <span class="hljs-number">35.595</span> deg<br> <span class="hljs-number">52</span>  <span class="hljs-number">27</span>-Feb<span class="hljs-number">-2019</span>  <span class="hljs-number">-115</span> m   <span class="hljs-number">26.293</span> deg<br> <span class="hljs-number">53</span>  <span class="hljs-number">11</span>-Mar<span class="hljs-number">-2019</span>  <span class="hljs-number">-111</span> m   <span class="hljs-number">24.771</span> deg<br> <span class="hljs-number">54</span>  <span class="hljs-number">23</span>-Mar<span class="hljs-number">-2019</span>   <span class="hljs-number">-92</span> m   <span class="hljs-number">25.106</span> deg<br> <span class="hljs-number">55</span>  <span class="hljs-number">04</span>-Apr<span class="hljs-number">-2019</span>   <span class="hljs-number">-59</span> m   <span class="hljs-number">24.716</span> deg<br> <span class="hljs-number">56</span>  <span class="hljs-number">16</span>-Apr<span class="hljs-number">-2019</span>   <span class="hljs-number">-10</span> m   <span class="hljs-number">24.913</span> deg<br> <span class="hljs-number">57</span>  <span class="hljs-number">28</span>-Apr<span class="hljs-number">-2019</span>  <span class="hljs-number">-122</span> m   <span class="hljs-number">28.848</span> deg<br> <span class="hljs-number">58</span>  <span class="hljs-number">10</span>-May<span class="hljs-number">-2019</span>   <span class="hljs-number">-18</span> m   <span class="hljs-number">25.191</span> deg<br> <span class="hljs-number">59</span>  <span class="hljs-number">22</span>-May<span class="hljs-number">-2019</span>   <span class="hljs-number">-24</span> m   <span class="hljs-number">27.777</span> deg<br> <span class="hljs-number">60</span>  <span class="hljs-number">03</span>-Jun<span class="hljs-number">-2019</span>    <span class="hljs-number">-3</span> m   <span class="hljs-number">27.778</span> deg<br> <span class="hljs-number">61</span>  <span class="hljs-number">15</span>-Jun<span class="hljs-number">-2019</span>    <span class="hljs-number">60</span> m   <span class="hljs-number">27.487</span> deg<br> <span class="hljs-number">62</span>  <span class="hljs-number">27</span>-Jun<span class="hljs-number">-2019</span>    <span class="hljs-number">-9</span> m   <span class="hljs-number">27.436</span> deg<br> <span class="hljs-number">63</span>  <span class="hljs-number">09</span>-Jul<span class="hljs-number">-2019</span>   <span class="hljs-number">-19</span> m   <span class="hljs-number">27.882</span> deg<br> <span class="hljs-number">64</span>  <span class="hljs-number">21</span>-Jul<span class="hljs-number">-2019</span>   <span class="hljs-number">-36</span> m   <span class="hljs-number">30.697</span> deg<br> <span class="hljs-number">65</span>  <span class="hljs-number">02</span>-Aug<span class="hljs-number">-2019</span>    <span class="hljs-number">59</span> m   <span class="hljs-number">33.582</span> deg<br> <span class="hljs-number">66</span>  <span class="hljs-number">14</span>-Aug<span class="hljs-number">-2019</span>   <span class="hljs-number">-42</span> m   <span class="hljs-number">30.115</span> deg<br> <span class="hljs-number">67</span>  <span class="hljs-number">26</span>-Aug<span class="hljs-number">-2019</span>   <span class="hljs-number">-78</span> m   <span class="hljs-number">29.975</span> deg<br> <span class="hljs-number">68</span>  <span class="hljs-number">07</span>-Sep<span class="hljs-number">-2019</span>   <span class="hljs-number">-98</span> m   <span class="hljs-number">29.634</span> deg<br> <span class="hljs-number">69</span>  <span class="hljs-number">19</span>-Sep<span class="hljs-number">-2019</span>     <span class="hljs-number">0</span> m   <span class="hljs-number">27.047</span> deg<br> <span class="hljs-number">70</span>  <span class="hljs-number">01</span>-Oct<span class="hljs-number">-2019</span>   <span class="hljs-number">-84</span> m   <span class="hljs-number">28.263</span> deg<br> <span class="hljs-number">71</span>  <span class="hljs-number">13</span>-Oct<span class="hljs-number">-2019</span>    <span class="hljs-number">49</span> m   <span class="hljs-number">28.745</span> deg<br> <span class="hljs-number">72</span>  <span class="hljs-number">25</span>-Oct<span class="hljs-number">-2019</span>    <span class="hljs-number">43</span> m   <span class="hljs-number">26.720</span> deg<br> <span class="hljs-number">73</span>  <span class="hljs-number">06</span>-Nov<span class="hljs-number">-2019</span>   <span class="hljs-number">-88</span> m   <span class="hljs-number">23.890</span> deg<br> <span class="hljs-number">74</span>  <span class="hljs-number">18</span>-Nov<span class="hljs-number">-2019</span>  <span class="hljs-number">-130</span> m   <span class="hljs-number">26.777</span> deg<br> <span class="hljs-number">75</span>  <span class="hljs-number">30</span>-Nov<span class="hljs-number">-2019</span>   <span class="hljs-number">-53</span> m   <span class="hljs-number">37.977</span> deg<br> <span class="hljs-number">76</span>  <span class="hljs-number">12</span>-Dec<span class="hljs-number">-2019</span>     <span class="hljs-number">3</span> m   <span class="hljs-number">27.751</span> deg<br> <span class="hljs-number">77</span>  <span class="hljs-number">24</span>-Dec<span class="hljs-number">-2019</span>     <span class="hljs-number">0</span> m   <span class="hljs-number">29.870</span> deg<br> <span class="hljs-number">78</span>  <span class="hljs-number">05</span>-Jan<span class="hljs-number">-2020</span>   <span class="hljs-number">-44</span> m   <span class="hljs-number">41.667</span> deg<br> <span class="hljs-number">79</span>  <span class="hljs-number">17</span>-Jan<span class="hljs-number">-2020</span>   <span class="hljs-number">-90</span> m   <span class="hljs-number">34.344</span> deg<br> <span class="hljs-number">80</span>  <span class="hljs-number">29</span>-Jan<span class="hljs-number">-2020</span>   <span class="hljs-number">-74</span> m   <span class="hljs-number">29.120</span> deg<br> <span class="hljs-number">81</span>  <span class="hljs-number">10</span>-Feb<span class="hljs-number">-2020</span>   <span class="hljs-number">-37</span> m   <span class="hljs-number">25.491</span> deg<br> <span class="hljs-number">82</span>  <span class="hljs-number">22</span>-Feb<span class="hljs-number">-2020</span>   <span class="hljs-number">-25</span> m   <span class="hljs-number">26.369</span> deg<br> <span class="hljs-number">83</span>  <span class="hljs-number">05</span>-Mar<span class="hljs-number">-2020</span>   <span class="hljs-number">-62</span> m   <span class="hljs-number">25.282</span> deg<br> <span class="hljs-number">84</span>  <span class="hljs-number">17</span>-Mar<span class="hljs-number">-2020</span>  <span class="hljs-number">-114</span> m   <span class="hljs-number">24.210</span> deg<br> <span class="hljs-number">85</span>  <span class="hljs-number">29</span>-Mar<span class="hljs-number">-2020</span>   <span class="hljs-number">-85</span> m   <span class="hljs-number">24.555</span> deg<br> <span class="hljs-number">86</span>  <span class="hljs-number">10</span>-Apr<span class="hljs-number">-2020</span>   <span class="hljs-number">-24</span> m   <span class="hljs-number">27.543</span> deg<br> <span class="hljs-number">87</span>  <span class="hljs-number">22</span>-Apr<span class="hljs-number">-2020</span>     <span class="hljs-number">2</span> m   <span class="hljs-number">26.744</span> deg<br> <span class="hljs-number">88</span>  <span class="hljs-number">04</span>-May<span class="hljs-number">-2020</span>    <span class="hljs-number">-2</span> m   <span class="hljs-number">24.821</span> deg<br> <span class="hljs-number">89</span>  <span class="hljs-number">16</span>-May<span class="hljs-number">-2020</span>   <span class="hljs-number">-24</span> m   <span class="hljs-number">26.998</span> deg<br> <span class="hljs-number">90</span>  <span class="hljs-number">28</span>-May<span class="hljs-number">-2020</span>   <span class="hljs-number">-35</span> m   <span class="hljs-number">30.625</span> deg<br> <span class="hljs-number">91</span>  <span class="hljs-number">09</span>-Jun<span class="hljs-number">-2020</span>    <span class="hljs-number">43</span> m   <span class="hljs-number">28.305</span> deg<br> <span class="hljs-number">92</span>  <span class="hljs-number">21</span>-Jun<span class="hljs-number">-2020</span>    <span class="hljs-number">14</span> m   <span class="hljs-number">28.372</span> deg<br> <span class="hljs-number">93</span>  <span class="hljs-number">03</span>-Jul<span class="hljs-number">-2020</span>    <span class="hljs-number">75</span> m   <span class="hljs-number">30.817</span> deg<br> <span class="hljs-number">94</span>  <span class="hljs-number">15</span>-Jul<span class="hljs-number">-2020</span>     <span class="hljs-number">2</span> m   <span class="hljs-number">31.607</span> deg<br> <span class="hljs-number">95</span>  <span class="hljs-number">27</span>-Jul<span class="hljs-number">-2020</span>   <span class="hljs-number">-88</span> m   <span class="hljs-number">33.561</span> deg<br> <span class="hljs-number">96</span>  <span class="hljs-number">08</span>-Aug<span class="hljs-number">-2020</span>   <span class="hljs-number">-43</span> m   <span class="hljs-number">34.077</span> deg<br> <span class="hljs-number">97</span>  <span class="hljs-number">20</span>-Aug<span class="hljs-number">-2020</span>    <span class="hljs-number">89</span> m   <span class="hljs-number">33.414</span> deg<br> <span class="hljs-number">98</span>  <span class="hljs-number">01</span>-Sep<span class="hljs-number">-2020</span>    <span class="hljs-number">-4</span> m   <span class="hljs-number">33.438</span> deg<br> <span class="hljs-number">99</span>  <span class="hljs-number">13</span>-Sep<span class="hljs-number">-2020</span>   <span class="hljs-number">-74</span> m   <span class="hljs-number">29.420</span> deg<br><span class="hljs-number">100</span>  <span class="hljs-number">25</span>-Sep<span class="hljs-number">-2020</span>  <span class="hljs-number">-115</span> m   <span class="hljs-number">29.306</span> deg<br><span class="hljs-number">101</span>  <span class="hljs-number">07</span>-Oct<span class="hljs-number">-2020</span>  <span class="hljs-number">-126</span> m   <span class="hljs-number">27.926</span> deg<br><span class="hljs-number">102</span>  <span class="hljs-number">19</span>-Oct<span class="hljs-number">-2020</span>   <span class="hljs-number">-27</span> m   <span class="hljs-number">26.992</span> deg<br><span class="hljs-number">103</span>  <span class="hljs-number">31</span>-Oct<span class="hljs-number">-2020</span>     <span class="hljs-number">5</span> m   <span class="hljs-number">27.406</span> deg<br><span class="hljs-number">104</span>  <span class="hljs-number">12</span>-Nov<span class="hljs-number">-2020</span>   <span class="hljs-number">-59</span> m   <span class="hljs-number">26.295</span> deg<br><span class="hljs-number">105</span>  <span class="hljs-number">24</span>-Nov<span class="hljs-number">-2020</span>   <span class="hljs-number">-26</span> m   <span class="hljs-number">33.760</span> deg<br><span class="hljs-number">106</span>  <span class="hljs-number">06</span>-Dec<span class="hljs-number">-2020</span>   <span class="hljs-number">-96</span> m   <span class="hljs-number">27.112</span> deg<br><span class="hljs-number">107</span>  <span class="hljs-number">18</span>-Dec<span class="hljs-number">-2020</span>   <span class="hljs-number">-95</span> m   <span class="hljs-number">28.680</span> deg<br><span class="hljs-number">108</span>  <span class="hljs-number">30</span>-Dec<span class="hljs-number">-2020</span>    <span class="hljs-number">-6</span> m   <span class="hljs-number">58.614</span> deg<br><span class="hljs-number">109</span>  <span class="hljs-number">11</span>-Jan<span class="hljs-number">-2021</span>    <span class="hljs-number">24</span> m   <span class="hljs-number">37.044</span> deg<br><span class="hljs-number">110</span>  <span class="hljs-number">23</span>-Jan<span class="hljs-number">-2021</span>     <span class="hljs-number">6</span> m   <span class="hljs-number">32.530</span> deg<br><span class="hljs-number">111</span>  <span class="hljs-number">04</span>-Feb<span class="hljs-number">-2021</span>   <span class="hljs-number">-54</span> m   <span class="hljs-number">28.520</span> deg<br><span class="hljs-number">112</span>  <span class="hljs-number">16</span>-Feb<span class="hljs-number">-2021</span>   <span class="hljs-number">-65</span> m   <span class="hljs-number">29.469</span> deg<br><span class="hljs-number">113</span>  <span class="hljs-number">28</span>-Feb<span class="hljs-number">-2021</span>   <span class="hljs-number">-46</span> m   <span class="hljs-number">41.582</span> deg<br><span class="hljs-number">114</span>  <span class="hljs-number">12</span>-Mar<span class="hljs-number">-2021</span>   <span class="hljs-number">-27</span> m   <span class="hljs-number">31.155</span> deg<br><span class="hljs-number">115</span>  <span class="hljs-number">24</span>-Mar<span class="hljs-number">-2021</span>   <span class="hljs-number">-44</span> m   <span class="hljs-number">27.754</span> deg<br><span class="hljs-number">116</span>  <span class="hljs-number">05</span>-Apr<span class="hljs-number">-2021</span>   <span class="hljs-number">-35</span> m   <span class="hljs-number">30.524</span> deg<br><span class="hljs-number">117</span>  <span class="hljs-number">17</span>-Apr<span class="hljs-number">-2021</span>   <span class="hljs-number">-45</span> m   <span class="hljs-number">31.035</span> deg<br><span class="hljs-number">118</span>  <span class="hljs-number">29</span>-Apr<span class="hljs-number">-2021</span>   <span class="hljs-number">101</span> m   <span class="hljs-number">33.577</span> deg<br><span class="hljs-number">119</span>  <span class="hljs-number">11</span>-May<span class="hljs-number">-2021</span>     <span class="hljs-number">4</span> m   <span class="hljs-number">30.074</span> deg<br><span class="hljs-number">120</span>  <span class="hljs-number">23</span>-May<span class="hljs-number">-2021</span>   <span class="hljs-number">-25</span> m   <span class="hljs-number">30.407</span> deg<br><span class="hljs-number">121</span>  <span class="hljs-number">04</span>-Jun<span class="hljs-number">-2021</span>   <span class="hljs-number">-37</span> m   <span class="hljs-number">35.760</span> deg<br><span class="hljs-number">122</span>  <span class="hljs-number">16</span>-Jun<span class="hljs-number">-2021</span>   <span class="hljs-number">-76</span> m   <span class="hljs-number">34.532</span> deg<br><span class="hljs-number">123</span>  <span class="hljs-number">28</span>-Jun<span class="hljs-number">-2021</span>    <span class="hljs-number">23</span> m   <span class="hljs-number">34.516</span> deg<br><span class="hljs-number">124</span>  <span class="hljs-number">10</span>-Jul<span class="hljs-number">-2021</span>    <span class="hljs-number">36</span> m   <span class="hljs-number">35.456</span> deg<br><span class="hljs-number">125</span>  <span class="hljs-number">22</span>-Jul<span class="hljs-number">-2021</span>    <span class="hljs-number">24</span> m   <span class="hljs-number">34.594</span> deg<br><span class="hljs-number">126</span>  <span class="hljs-number">03</span>-Aug<span class="hljs-number">-2021</span>   <span class="hljs-number">-25</span> m   <span class="hljs-number">36.501</span> deg<br><span class="hljs-number">127</span>  <span class="hljs-number">15</span>-Aug<span class="hljs-number">-2021</span>   <span class="hljs-number">-15</span> m   <span class="hljs-number">36.154</span> deg<br><span class="hljs-number">128</span>  <span class="hljs-number">27</span>-Aug<span class="hljs-number">-2021</span>   <span class="hljs-number">-57</span> m   <span class="hljs-number">44.687</span> deg<br><span class="hljs-number">129</span>  <span class="hljs-number">08</span>-Sep<span class="hljs-number">-2021</span>   <span class="hljs-number">-12</span> m   <span class="hljs-number">35.791</span> deg<br><span class="hljs-number">130</span>  <span class="hljs-number">20</span>-Sep<span class="hljs-number">-2021</span>    <span class="hljs-number">34</span> m   <span class="hljs-number">40.224</span> deg<br><span class="hljs-number">131</span>  <span class="hljs-number">02</span>-Oct<span class="hljs-number">-2021</span>   <span class="hljs-number">-69</span> m   <span class="hljs-number">36.497</span> deg<br><span class="hljs-number">132</span>  <span class="hljs-number">14</span>-Oct<span class="hljs-number">-2021</span>   <span class="hljs-number">-92</span> m   <span class="hljs-number">34.842</span> deg<br><span class="hljs-number">133</span>  <span class="hljs-number">26</span>-Oct<span class="hljs-number">-2021</span>  <span class="hljs-number">-104</span> m   <span class="hljs-number">34.270</span> deg<br><span class="hljs-number">134</span>  <span class="hljs-number">07</span>-Nov<span class="hljs-number">-2021</span>   <span class="hljs-number">-43</span> m   <span class="hljs-number">45.862</span> deg<br>Number of stable-phase pixels: <span class="hljs-number">654086</span><br></code></pre></td></tr></table></figure><ul><li>PS_plot</li></ul><p><img src="ps_plot_u.png" alt="phase unwrap results" /></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; ps_plot(<span class="hljs-string">&#x27;v-do&#x27;</span>, <span class="hljs-string">&#x27;ts&#x27;</span>);<br>Deramping computed on the fly. <br>**** z = ax + by+ c<br><span class="hljs-number">654086</span> ref PS selected<br>Color Range: <span class="hljs-number">-5.53427</span> to <span class="hljs-number">8.19528</span> mm/yr<br></code></pre></td></tr></table></figure><ul><li>Result</li></ul><p>TS plot for default parameter.</p><p><img src="ps_result1.png" alt="TS plot" /></p><p>Selected point coordinates (lon,lat):116.8939, 34.0225</p><p><img src="ts_result1.png" alt="Time series plot for #points" /></p><p>Selected point coordinates (lon,lat):116.9868, 34.132</p><p>![<a href="ts_result2.png">Time series plot for #points</a></p><h2 id="process-2"><a class="markdownIt-Anchor" href="#process-2"></a> Process 2</h2><p>Change parameter to below and restart process.</p><table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>scla_deramp</code></td><td>‘n’</td><td>‘y’</td></tr><tr><td><code>unwrap_gold_n_win</code></td><td>32</td><td>8</td></tr><tr><td><code>unwrap_grid_size</code></td><td>200</td><td>50</td></tr><tr><td><code>unwrap_time_win</code></td><td>730</td><td>60</td></tr><tr><td><code>scn_time_win</code></td><td>365</td><td>120</td></tr></tbody></table><p>Rerun step6</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">sbatch </span>stamps6.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><h2 id="post-stamps"><a class="markdownIt-Anchor" href="#post-stamps"></a> Post-StaMPS</h2><p>After getting the result of stamps, copy the files to windows through Winscp, furthur analysis is in Matlab.</p><h3 id="write-csv-file-in-matlab"><a class="markdownIt-Anchor" href="#write-csv-file-in-matlab"></a> Write csv file in Matlab</h3><p>Make a <code>csv</code> file with all data vor visualizations:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">ps_plot(<span class="hljs-string">&#x27;v-do&#x27;</span>, <span class="hljs-string">&#x27;ts&#x27;</span>);<br><span class="hljs-comment">% after the plot has appeared magically, set radius and location by clicking into the plot</span><br><span class="hljs-comment">% set radius to 50000 m, and set a point in plot</span><br><span class="hljs-comment">% Please select a point on the figure to plot time series (TS)</span><br><span class="hljs-comment">% Selected point coordinates (lon,lat):117.161, 34.1283</span><br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs matlab">load parms.mat;<br>ps_plot(<span class="hljs-string">&#x27;v-do&#x27;</span>, <span class="hljs-number">-1</span>);<br>load ps_plot_v-do.mat;<br>lon2_str = cellstr(num2str(lon2));<br>lat2_str = cellstr(num2str(lat2));<br>lonlat2_str = strcat(lon2_str, lat2_str);<br><br>lonlat_str = strcat(cellstr(num2str(lonlat(:,<span class="hljs-number">1</span>))), cellstr(num2str(lonlat(:,<span class="hljs-number">2</span>))));<br>ind = <span class="hljs-built_in">ismember</span>(lonlat_str, lonlat2_str);<br><br><span class="hljs-built_in">disp</span> = ph_disp(ind);<br>disp_ts = ph_mm(ind,:);<br>export_res = [lon2 lat2 <span class="hljs-built_in">disp</span> disp_ts];<br><br>metarow = [ref_centre_lonlat NaN transpose(day)<span class="hljs-number">-1</span>];<br>k = <span class="hljs-number">0</span>;<br>export_res = [export_res(<span class="hljs-number">1</span>:k,:); metarow; export_res(k+<span class="hljs-number">1</span>:<span class="hljs-keyword">end</span>,:)];<br>export_res = <span class="hljs-built_in">table</span>(export_res);<br><span class="hljs-built_in">writetable</span>(export_res,<span class="hljs-string">&#x27;stamps_tsexport.csv&#x27;</span>)<br></code></pre></td></tr></table></figure><p><img src="ts_plot.png" alt="Figure v-do" /></p><h3 id="stamps_visualizer"><a class="markdownIt-Anchor" href="#stamps_visualizer"></a> StamPS_visualizer</h3><ul><li><p>open the <code>StaMPS_Visualizer.Rproj</code> file with Rstudio</p></li><li><p>run <code>install.packages(&quot;renv&quot;)</code> in the R Console</p></li><li><p>run <code>renv::restore()</code> in the R Console to restore the complete environment (this might take some time)</p></li><li><p>go to File --&gt; Open File… and open <code>ui.R</code></p></li><li><p>click on Run App in the upper left panel in the upper right corner</p></li></ul><h4 id="resample-of-stamps-results"><a class="markdownIt-Anchor" href="#resample-of-stamps-results"></a> Resample of stamps results</h4><ul><li><p>Create <code>roi.kml</code> in Google Earth</p></li><li><p>Open R.Studio</p></li><li><p>Open file <code>subset_ts_export.R</code> and edit inputs and outputs</p></li><li><p>Run script</p></li></ul><h2 id="redo-snap2stamps-and-steps-after"><a class="markdownIt-Anchor" href="#redo-snap2stamps-and-steps-after"></a> Redo snap2stamps and steps after</h2><p>Due to some errors in PS_result, we redo all the processes in Lido.</p><ul><li><p>Copy folder <code>I:\SAR\Data\Xuzhou_city\master</code> and <code>\slaves</code> to LiDO <code>work\smyumeng\Sentinel_PS\xuzhou_city_new</code></p></li><li><p>Rerun snap2stamps</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">######### CONFIGURATION FILE ######</span><br><span class="hljs-comment">###################################</span><br><span class="hljs-comment"># PROJECT DEFINITION</span><br>PROJECTFOLDER=/work/smyumeng/Sentinel_PS/Xuzhou_city_new/<br>GRAPHSFOLDER=/work/smyumeng/snap2stamps/graphs<br><span class="hljs-comment">##################################</span><br><span class="hljs-comment"># PROCESSING PARAMETERS</span><br>IW1=IW2<br>MASTER=/work/smyumeng/Sentinel_PS/Xuzhou_city_new/master/S1A_IW_SLC__1SDV_20190919T101207_20190919T101235_029089_034D30_8446_split.dim<br><span class="hljs-comment">##################################</span><br><span class="hljs-comment"># AOI BBOX DEFINITION</span><br>LONMIN=116.42<br>LATMIN=33.81<br>LONMAX=117.61<br>LATMAX=34.81<br><span class="hljs-comment">##################################</span><br><span class="hljs-comment"># SNAP GPT </span><br>GPTBIN_PATH=/home/smyumeng/snap/bin/gpt<br><span class="hljs-comment">##################################</span><br><span class="hljs-comment"># COMPUTING RESOURCES TO EMPLOY</span><br>CPU=28<br>CACHE=256G<br><span class="hljs-comment">##################################</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">python slaves_prep.py project.conf<br><br>python splitting_slaves.py project.conf<br><br>python coreg_ifg_topsar.py project.conf<br><br>python stamps_export.py project.conf<br></code></pre></td></tr></table></figure><ul><li><p>Rerun StaMPS</p></li><li><p>prepare for StaMPS MATLAB process</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">source</span> /work/smyumeng/StaMPS/StaMPS_CONFIG.bash</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">mt_prep_snap 20190919 /work/smyumeng/Sentinel_PS/Xuzhou_city/INSAR_20190919 0.4 3 2 50 200</span><br></code></pre></td></tr></table></figure><ul><li>In LiDO, <code>cd</code> to shell scripts folder. In this case is <code>cd /work/smyumeng/project/sentinel_scripts</code>, edit script <code>stamps13</code>, <code>stamps678</code> and run shell scripts.</li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">sbatch </span>stamps1_4.<span class="hljs-keyword">sh</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">sbatch </span>stamps5.<span class="hljs-keyword">sh</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">sbatch </span>stamps6.<span class="hljs-keyword">sh</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">sbatch </span>stamps7_8.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><p>To be continued!</p>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Land Subsidence</tag>
      
      <tag>InSAR</tag>
      
      <tag>Sentinel1-A</tag>
      
      <tag>PS-InSAR</tag>
      
      <tag>StaMPS-InSAR</tag>
      
      <tag>Xuzhou</tag>
      
      <tag>LiDO3</tag>
      
      <tag>snap2stamps</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ideas for Land Subsidence Analysis in Xuzhou</title>
    <link href="/2022/04/29/Ideas-for-Subsidence-Analysis/"/>
    <url>/2022/04/29/Ideas-for-Subsidence-Analysis/</url>
    
    <content type="html"><![CDATA[<h1 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h1><p>Ideas collected from articles about land subsidence analysis.</p><span id="more"></span><h1 id="spatiotemporal-evolution-of-subsidence-bowls"><a class="markdownIt-Anchor" href="#spatiotemporal-evolution-of-subsidence-bowls"></a> Spatiotemporal Evolution of Subsidence Bowls</h1><p>The mean deformation rate map was produced from the time-series data of PS points during the study period (2003–2015). It is clear that the main land subsidence region is located in the East and north parts of the Beijing Plain (Haidian and Tongzhou district). The deformation rate ranges from 􀀀138.8 to +13.9 mm/year. This serious land subsidence with a rapid rate and a wide range of values has been observed in previous studies<a href="https://www.mdpi.com/2072-4292/10/4/552" title="Spatiotemporal Evolution of Land Subsidence in the Beijing Plain 2003–2015 Using Persistent Scatterer Interferometry (PSI) with Multi-Source SAR Data">1</a>.</p><p>As there is a clear distinction across the <em>-40 mm/year</em> deformation line in the map, we used the <em>-40 mm/year</em> deformation line as a boundary of the subsidence regions. Combining with the <em>-60 mm/year</em> deformation line, we found there are mainly seven subsidence bowls in the Beijing Plain:</p><p><img src="Spatiotemporal_Evolution.jpg" alt="Subsidence bowls by mean deformation velocity from 2003 to 2015." /></p><p>In order to analyze the development of the subsidence bowls, points (A–G) located almost in the central part of each of the main seven subsidence bowls, were selected for time series analysis of the deformation.</p><blockquote><p>The largest subsidence (more than 100 mm/year) occurred in the central part of the CT subsidence bowl, near point A. Similarly, the land subsidence velocities of TZ (point B) and CJ (point C) subsidence bowls were more than 80 mm/year. A notable feature of Figure 7 is that the year of 2007 was a clear turning point, before which the cumulative subsidence of all points (A–G) was mostly stable following an initial period of subsidence in early 2004. In contrast, the cumulative subsidence increased rapidly after the year of 2007. The other important turning point is the year 2012, when the subsidence speed of D and E slowed down relative to the other subsidence bowls, resulting in lower overall subsidence compared to the other bowls by the end of 2015, and the cumulative subsidence of the two bowls was smaller than the other bowls in the end of 2015.</p></blockquote><p><img src="Time_series_cumulative_subsidence.jpg" alt="Time series cumulative subsidence of the typical points: A–G" /></p><blockquote><p>We examined deformation profiles through time in the northwest–southeast (AA’) and southwest–northeast (BB’) directions. The cumulative deformation of the profiles are shown in Figure 8 from 2003 to 2015. Profile AA’ which is almost along Nankou–Sunhe fault across subsidence bowls CP, CL, CJ and TZ. It is apparent that Fb-1 is located between CP and CL, Fb-2 is located between CL and CJ, and Fb-3 is located between CJ and TZ, which means that the subsidence area is divided into regions along the northwest–southeast direction. From the profile BB’ we can see that there was almost no subsidence in the left part (i.e., southwest), but there was large subsidence (about 500 mm from 2003 to 2015) in the right part (i.e., northeast). We can conclude that there are generally two parts (stable and subsidence areas) along the southwest–northeast direction.</p></blockquote><p><img src="Cumulative_deformation.jpg" alt="Cumulative deformation along the profiles A–A’ and B–B’ from 2003 to 2015" /></p><blockquote><p>From the GIS spatial analysis, we discovered that the most serious part of land subsidence in the Beijing Plain is located in the east part of Chaoyang district, a 26.51 km^2 region with a subsidence rate of more than 100 mm/year. The area of subsidence rate with more than 40 mm/year is 536.06 km^2 large.</p></blockquote><p><img src="contour_lines.jpg" alt="The distribution of different deformation rate contour lines from -40 to -120 mm/yearduring the period from 2003 to 2015." /></p><p>Combining ground water level contours from 2003 to 2015 and the cumulative deformation extracted by PSI during the period, the correlation between subsidence response patterns and phreatic groundwater flow field was analyzed comprehensively (Figure 12). A comparison of 2015 groundwater levels with 2004 levels shows water level declines of 15–30 m throughout the north plain, with a 50 m maximum decline occurring in the central part of the Beijing Plain.</p><p><img src="hydraulic.jpg" alt="Relationship between the variation of hydraulic head and displacement. All of the cumulativedeformationmaps are relative to the first image in 2003." /></p><h1 id="verfy-with-gps-time-series"><a class="markdownIt-Anchor" href="#verfy-with-gps-time-series"></a> Verfy with GPS time series</h1><blockquote><p>To better verify the accuracy of the monitoring results through PSInSAR analysis, we have compared the estimated results with GPS measurements from the nearby station in Beijing. Using the observed result in 20170520 as the common reference, both GPS and PS time series are displayed in Fig 8. And we can see that the PS deformation results are in well agreement with GPS time series, which confirms the validity of above processing method<a href="https://www.researchgate.net/publication/336336941_Land_Subsidence_Monitoring_for_Beijing-Tianjin-Hebei_Region_using_Sentinel-1" title="Land Subsidence Monitoring for Beijing-Tianjin-Hebei Region using Sentinel-1">2</a>.</p></blockquote><p><img src="GPS_time_series_PS.jpg" alt="GPS time series (blue dot) and the nearest PS displacement timeseries (red diamond) from 2017/5/1 to 2018/7/30" /></p><h1 id=""><a class="markdownIt-Anchor" href="#"></a> </h1><p><img src="workflow.png" alt="Workflow" /></p>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Land Subsidence</tag>
      
      <tag>Reposititory</tag>
      
      <tag>InSAR</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Post-StaMPS Analysis in Xuzhou</title>
    <link href="/2022/04/21/Post-StaMPS-Analysis-in-Xuzhou/"/>
    <url>/2022/04/21/Post-StaMPS-Analysis-in-Xuzhou/</url>
    
    <content type="html"><![CDATA[<h1 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h1><h1 id="stamps-visualizer"><a class="markdownIt-Anchor" href="#stamps-visualizer"></a> StaMPS-Visualizer</h1><p>A Shiny application for visualizing DInSAR results processed by StaMPS/MTI<a href="https://github.com/thho/StaMPS_Visualizer" title="StaMPS-Visualizer">1</a>.</p><span id="more"></span><blockquote><p>Who wants to use this<a href="https://forum.step.esa.int/t/stamps-visualizer-snap-stamps-workflow/9613" title="STEP Forum">2</a>?<br />If you want to visualize your StaMPS processed data to explore it in a much more comfortable way (my opinion) as in the Matlab plots, you can use these application.</p><p>What to do</p><p>install R 244 and RStudio 184</p><p>Download and unzip this file stamps_visualizer_01beta.zip 96 (476.4 KB)</p><p>launch RStudio and open the install_packages.R script in the extracted folder</p><p>run the whole script (select all lines in the script and press strg+enter), this will install some packages and take some time</p><p>open the ui.R script in the upper left window you find a Run app button, the first time you will be asked if the shiny package should be installed, click yes and wait. The app should launch after that, if this does not happen, quit Rstudio launch it again and hit Run app again.</p><p>In the opened app you will find four panel options at the top TS explorer, TS comparison, Manual and Cite. Read Cite and Manual to get familiar with the app (its very easy) and have fun exploring the example and your own StaMPS data when imported :slight_smile:</p></blockquote><h1 id="stampsmti-visualizer-20-manual"><a class="markdownIt-Anchor" href="#stampsmti-visualizer-20-manual"></a> StaMPS/MTI-Visualizer 2.0 Manual</h1><h2 id="ts-explorer"><a class="markdownIt-Anchor" href="#ts-explorer"></a> TS Explorer</h2><blockquote><p>In the Single TS Selection panel you can choose a case study. The map is automatically adjusted to show the data of the case study. In the map, you can click on each marker (colored points) and a plot of its deformation time series will be plotted in the Single TS Selection panel.<br />The number of the selected point is also shown below the plot, this number may be interesting for use in TS Comparison.</p></blockquote><blockquote><p>To add a vertical line of an event of interest to the TS plot choose a date within the time line of the TS plot.</p></blockquote><h2 id="adding-costume-case-study-data"><a class="markdownIt-Anchor" href="#adding-costume-case-study-data"></a> Adding Costume Case Study Data</h2><blockquote><p>To explore and plot costume data, you have to export a dataset from StaMPS/MTI-Matlab in a specific .csv table, create a folder with the name of the case study in the stusi folder of the application and put the .csv table in this folder. After that, reload StaMPS/MTI-Visualizer to choose the new dataset.</p></blockquote><blockquote><p>To prepare the dataset in StaMPS/MTI-Matlab run your process in Matlab until step 6 or further. Create a ‘ts’ plot where you choose a region of interest you want to export. I recommend a search radius of 500m but this depends on point density and study site. If you have trouble because of an error telling something about different dimension during the export, use a search radius that is large enough to fit all your PS in it. We can use this huge table later in R and make a subset there which is easier. In both cases, this action will create some needed objects in Matlab. Which ps_plot you create depends on you, ‘V-DO’, ‘V-D’, ‘V-O’ etc. but be sure that you repeat the same plot without ‘ts’ but with -1 argument after that, see line 1, 3 and 4 in the chunk below. In this example the ‘v-do’ argument must be the same in all lines, adapt it to your chosen method. Additional data is prepared in this step, similar to the googleearth-kml export in StaMPS/MTI.</p></blockquote><blockquote><p>The last adaption is optional, you can change the name of the outpufile.csv in the last line. The file will be written into your SMALL_BASELINES directory. After the export, move the .csv file to your case study folder in stusi directory of the StaMSP-Visualizer application.</p></blockquote><figure class="highlight matlab"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><pre><code class="hljs matlab">ps_plot(<span class="hljs-string">&#x27;v-doa&#x27;</span>, <span class="hljs-string">&#x27;ts&#x27;</span>);<br>load parms.mat;<br>ps_plot(<span class="hljs-string">&#x27;v-doa&#x27;</span>, <span class="hljs-number">-1</span>);<br>load ps_plot_v-doa.mat<br>lon2_str = cellstr(num2str(lon2));<br>lat2_str = cellstr(num2str(lat2));<br>lonlat2_str = strcat(lon2_str, lat2_str);<br><br>lonlat_str = strcat(cellstr(num2str(lonlat(:,<span class="hljs-number">1</span>))), cellstr(num2str(lonlat(:,<span class="hljs-number">2</span>))));<br>ind = <span class="hljs-built_in">ismember</span>(lonlat_str, lonlat2_str);<br><br><span class="hljs-built_in">disp</span> = ph_disp(ind);<br>export_res = [lon2 lat2 <span class="hljs-built_in">disp</span> ts];<br>metarow = [ref_centre_lonlat NaN transpose(day)<span class="hljs-number">-1</span>];<br>k = <span class="hljs-number">0</span>;<br>export_res = [export_res(<span class="hljs-number">1</span>:k,:); metarow; export_res(k+<span class="hljs-number">1</span>:<span class="hljs-keyword">end</span>,:)];<br>export_res = <span class="hljs-built_in">table</span>(export_res);<br><span class="hljs-built_in">writetable</span>(export_res,<span class="hljs-string">&#x27;stamps_tsexport.csv&#x27;</span>)<br></code></pre></td></tr></table></figure><blockquote><p>If the export is not a subset of some measurement points but all points, because you encountered errors during exporting and set the search radius very high, use this R script to spatially subset the csv. table afterwards:</p></blockquote><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs clean">###########################<br>###subset ts plot <span class="hljs-keyword">export</span>###<br>###########################<br>library(sp)<br>library(rgdal)<br>library(rgeos)<br><br>#read subsetpolygon<br>roi &lt;- readOGR(<span class="hljs-string">&quot;/home/user/studysite/roi.kml&quot;</span>)<br>#read exported .csv<br>pnts &lt;- read.csv(<span class="hljs-string">&quot;/home/user/ISNAR_20170310/20170310_all.csv&quot;</span>)<br>#create spatial object<br>lon &lt;- pnts$export_res_<span class="hljs-number">.1</span>[<span class="hljs-number">2</span>:nrow(pnts)]<br>lat &lt;- pnts$export_res_<span class="hljs-number">.2</span>[<span class="hljs-number">2</span>:nrow(pnts)]<br>loc &lt;- data.frame(lon, lat)<br>pnts.geo &lt;- SpatialPointsDataFrame(loc, pnts[<span class="hljs-number">2</span>:nrow(pnts), ],<br>            proj4string = CRS(<span class="hljs-string">&quot;+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs&quot;</span>))<br>#spatial subset<br>pnts.sub &lt;- pnts.geo[roi, ]<br>#create table <span class="hljs-keyword">from</span> spatial subset<br>sub.csv &lt;- rbind(pnts[<span class="hljs-number">1</span>, ], pnts.sub@data)<br>#<span class="hljs-keyword">export</span> csv to StaMPS-Visualizer application<br>write.table(sub, file = <span class="hljs-string">&quot;/home/user/stamps_visualizer/stusi/newstudysite/20170310.csv&quot;</span>,<br>            row.names = F, col.names = T, sep = <span class="hljs-string">&quot;,&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="ts-comparison"><a class="markdownIt-Anchor" href="#ts-comparison"></a> TS Comparison</h2><blockquote><p>After you have explored your points, you might want to compare some of the single time series. During exploration you can see the point number after you have clicked on a marker on the map. Note your points of interest and change to TS Comparison here you can compare up to five time series, by choosing the case study and the numbers of points you have noted.</p></blockquote><h2 id="error-1"><a class="markdownIt-Anchor" href="#error-1"></a> <em>Error 1</em></h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; export_res = [lon2 lat2 <span class="hljs-built_in">disp</span> disp_ts];<br>Error using horzcat<br>Dimensions of arrays being concatenated are not consistent.<br></code></pre></td></tr></table></figure><p><strong>Solution</strong></p><blockquote><p>sorry, I was a bit imprecise. First when you execute the ps_plot with ts option, you have to select a really large radius which includes all measurement points of your processed data, which results in a really large csv table which you have to export using the usual way, the error will not occur, because no subset is made and all points are used to create the table…therefore no uneven objects can be created. Using this table, the work around in R described in the manual, can be used to subset the points of interest outside Matlab to avoid the error you have been encountered, what you need is an additional polygon which describes the area you are interested in. I suggest to create it in google earth and export it in the .kml format. It is even possible to load the large csv table into StaMPS-Visualizer, but your computer will have to do a lot of rendering to display all points within the csv table…</p></blockquote><blockquote><p>Hence, you do not have to weed your points<a href="https://forum.step.esa.int/t/stamps-visualizer-snap-stamps-workflow/9613/26" title="STEP Forum">4</a>.</p></blockquote><h2 id="error-2"><a class="markdownIt-Anchor" href="#error-2"></a> <em>Error 2</em></h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs R"><span class="hljs-operator">&gt;</span> library<span class="hljs-punctuation">(</span>sp<span class="hljs-punctuation">)</span><br><span class="hljs-operator">&gt;</span> library<span class="hljs-punctuation">(</span>rgdal<span class="hljs-punctuation">)</span><br><span class="hljs-operator">&gt;</span> library<span class="hljs-punctuation">(</span>rgeos<span class="hljs-punctuation">)</span><br><span class="hljs-operator">&gt;</span> <br><span class="hljs-operator">&gt;</span> <span class="hljs-comment">#read subsetpolygon</span><br><span class="hljs-operator">&gt;</span> roi <span class="hljs-operator">&lt;-</span> readOGR<span class="hljs-punctuation">(</span><span class="hljs-string">&quot;H:\\StaMPS_result\\ROIs\\test.kml&quot;</span><span class="hljs-punctuation">)</span><br>OGR data source with driver<span class="hljs-operator">:</span> KML <br>Source<span class="hljs-operator">:</span> <span class="hljs-string">&quot;H:\StaMPS_result\ROIs\test.kml&quot;</span><span class="hljs-punctuation">,</span> layer<span class="hljs-operator">:</span> <span class="hljs-string">&quot;test.kml&quot;</span><br>with <span class="hljs-number">1</span> features<br>It has <span class="hljs-number">2</span> fields<br>Warning message<span class="hljs-operator">:</span><br>In readOGR<span class="hljs-punctuation">(</span><span class="hljs-string">&quot;H:\\StaMPS_result\\ROIs\\test.kml&quot;</span><span class="hljs-punctuation">)</span> <span class="hljs-operator">:</span> Z<span class="hljs-operator">-</span>dimension discarded<br><span class="hljs-operator">&gt;</span> <span class="hljs-comment">#read exported .csv</span><br><span class="hljs-operator">&gt;</span> pnts <span class="hljs-operator">&lt;-</span> read.csv<span class="hljs-punctuation">(</span><span class="hljs-string">&quot;E:\\software\\StaMPS_Visualizer\\input\\stusi\\stamps_tsexport.csv&quot;</span><span class="hljs-punctuation">)</span><br><span class="hljs-operator">&gt;</span> <span class="hljs-comment">#create spatial object</span><br><span class="hljs-operator">&gt;</span> lon <span class="hljs-operator">&lt;-</span> pnts<span class="hljs-operator">$</span>export_res_.1<span class="hljs-punctuation">[</span><span class="hljs-number">2</span><span class="hljs-operator">:</span>nrow<span class="hljs-punctuation">(</span>pnts<span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span><br><span class="hljs-operator">&gt;</span> lat <span class="hljs-operator">&lt;-</span> pnts<span class="hljs-operator">$</span>export_res_.2<span class="hljs-punctuation">[</span><span class="hljs-number">2</span><span class="hljs-operator">:</span>nrow<span class="hljs-punctuation">(</span>pnts<span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span><br><span class="hljs-operator">&gt;</span> loc <span class="hljs-operator">&lt;-</span> data.frame<span class="hljs-punctuation">(</span>lon<span class="hljs-punctuation">,</span> lat<span class="hljs-punctuation">)</span><br><span class="hljs-operator">&gt;</span> pnts.geo <span class="hljs-operator">&lt;-</span> SpatialPointsDataFrame<span class="hljs-punctuation">(</span>loc<span class="hljs-punctuation">,</span> pnts<span class="hljs-punctuation">[</span><span class="hljs-number">2</span><span class="hljs-operator">:</span>nrow<span class="hljs-punctuation">(</span>pnts<span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> proj4string <span class="hljs-operator">=</span> CRS<span class="hljs-punctuation">(</span><span class="hljs-string">&quot;+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs&quot;</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">)</span><br>Error <span class="hljs-keyword">in</span> .local<span class="hljs-punctuation">(</span>obj<span class="hljs-punctuation">,</span> ...<span class="hljs-punctuation">)</span> <span class="hljs-operator">:</span> <br>  cannot derive coordinates from non<span class="hljs-operator">-</span>numeric matrix<br><span class="hljs-operator">&gt;</span> <span class="hljs-comment">#spatial subset</span><br><span class="hljs-operator">&gt;</span> pnts.sub <span class="hljs-operator">&lt;-</span> pnts.geo<span class="hljs-punctuation">[</span>roi<span class="hljs-punctuation">,</span> <span class="hljs-punctuation">]</span><br>Error<span class="hljs-operator">:</span> object <span class="hljs-string">&#x27;pnts.geo&#x27;</span> not found<br><span class="hljs-operator">&gt;</span> <span class="hljs-comment">#create table from spatial subset</span><br><span class="hljs-operator">&gt;</span> sub.csv <span class="hljs-operator">&lt;-</span> rbind<span class="hljs-punctuation">(</span>pnts<span class="hljs-punctuation">[</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> pnts.sub<span class="hljs-operator">@</span>data<span class="hljs-punctuation">)</span><br>Error <span class="hljs-keyword">in</span> rbind<span class="hljs-punctuation">(</span>deparse.level<span class="hljs-punctuation">,</span> ...<span class="hljs-punctuation">)</span> <span class="hljs-operator">:</span> object <span class="hljs-string">&#x27;pnts.sub&#x27;</span> not found<br><span class="hljs-operator">&gt;</span> <span class="hljs-comment">#export csv to StaMPS-Visualizer application</span><br><span class="hljs-operator">&gt;</span> write.table<span class="hljs-punctuation">(</span>sub<span class="hljs-punctuation">,</span> file <span class="hljs-operator">=</span> <span class="hljs-string">&quot;E:\\software\\StaMPS_Visualizer\\input\\stusi\\sub\\test.csv&quot;</span><span class="hljs-punctuation">,</span> row.names <span class="hljs-operator">=</span> <span class="hljs-built_in">F</span><span class="hljs-punctuation">,</span> col.names <span class="hljs-operator">=</span> <span class="hljs-built_in">T</span><span class="hljs-punctuation">,</span> sep <span class="hljs-operator">=</span> <span class="hljs-string">&quot;,&quot;</span><span class="hljs-punctuation">)</span><br>Error <span class="hljs-keyword">in</span> as.data.frame.default<span class="hljs-punctuation">(</span>x<span class="hljs-punctuation">[[</span>i<span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> optional <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">)</span> <span class="hljs-operator">:</span> <br>  cannot coerce <span class="hljs-built_in">class</span> ‘<span class="hljs-string">&quot;function&quot;</span>’ to a data.frame<br></code></pre></td></tr></table></figure><p><strong>Solution</strong></p><blockquote><p>Thank you and I’m sorry for late reply.<br />I try to change (delete “.”) in your R script, turns out it works. I try to adapt it with my <code>.csv</code> export result.</p><p>in command for #create spatial object, I delete “.” to adapt with my <code>.csv</code> export result<a href="https://forum.step.esa.int/t/stamps-visualizer-snap-stamps-workflow/9613/501" title="STEP Forum">5</a>.</p></blockquote><p><em>Original Script</em>:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs R"><span class="hljs-comment">#create spatial object</span><br>lon <span class="hljs-operator">&lt;-</span> pnts<span class="hljs-operator">$</span>export_res_.1<span class="hljs-punctuation">[</span><span class="hljs-number">2</span><span class="hljs-operator">:</span>nrow<span class="hljs-punctuation">(</span>pnts<span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span><br>lat <span class="hljs-operator">&lt;-</span> pnts<span class="hljs-operator">$</span>export_res_.2<span class="hljs-punctuation">[</span><span class="hljs-number">2</span><span class="hljs-operator">:</span>nrow<span class="hljs-punctuation">(</span>pnts<span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span><br>loc <span class="hljs-operator">&lt;-</span> data.frame<span class="hljs-punctuation">(</span>lon<span class="hljs-punctuation">,</span> lat<span class="hljs-punctuation">)</span><br>pnts.geo <span class="hljs-operator">&lt;-</span> SpatialPointsDataFrame<span class="hljs-punctuation">(</span>loc<span class="hljs-punctuation">,</span> pnts<span class="hljs-punctuation">[</span><span class="hljs-number">2</span><span class="hljs-operator">:</span>nrow<span class="hljs-punctuation">(</span>pnts<span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>proj4string <span class="hljs-operator">=</span> CRS<span class="hljs-punctuation">(</span><span class="hljs-string">&quot;+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs&quot;</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><p><em>Modified Script</em>:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs R"><span class="hljs-comment">#create spatial object</span><br>lon <span class="hljs-operator">&lt;-</span> pnts<span class="hljs-operator">$</span>export_res_1<span class="hljs-punctuation">[</span><span class="hljs-number">2</span><span class="hljs-operator">:</span>nrow<span class="hljs-punctuation">(</span>pnts<span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">#modified line</span><br>lat <span class="hljs-operator">&lt;-</span> pnts<span class="hljs-operator">$</span>export_res_2<span class="hljs-punctuation">[</span><span class="hljs-number">2</span><span class="hljs-operator">:</span>nrow<span class="hljs-punctuation">(</span>pnts<span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">#modified line</span><br>loc <span class="hljs-operator">&lt;-</span> data.frame<span class="hljs-punctuation">(</span>lon<span class="hljs-punctuation">,</span> lat<span class="hljs-punctuation">)</span><br>pnts.geo <span class="hljs-operator">&lt;-</span> SpatialPointsDataFrame<span class="hljs-punctuation">(</span>loc<span class="hljs-punctuation">,</span> pnts<span class="hljs-punctuation">[</span><span class="hljs-number">2</span><span class="hljs-operator">:</span>nrow<span class="hljs-punctuation">(</span>pnts<span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>proj4string <span class="hljs-operator">=</span> CRS<span class="hljs-punctuation">(</span><span class="hljs-string">&quot;+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs&quot;</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><blockquote><p>Hmm for some reason, in the <code>.csv</code> tables which I provide within the visualizer the “.” is needed…Will check this again, when I work on it next time, thanks for mentioning<a href="https://forum.step.esa.int/t/stamps-visualizer-snap-stamps-workflow/9613/499" title="STEP Forum">6</a>!</p></blockquote><h2 id="error-3"><a class="markdownIt-Anchor" href="#error-3"></a> <em>Error 3</em></h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs R">Error <span class="hljs-keyword">in</span> as.data.frame.default<span class="hljs-punctuation">(</span>x<span class="hljs-punctuation">[[</span>i<span class="hljs-punctuation">]</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> optional <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">)</span> <span class="hljs-operator">:</span> <br>  cannot coerce <span class="hljs-built_in">class</span> ‘<span class="hljs-string">&quot;function&quot;</span>’ to a data.frame<br></code></pre></td></tr></table></figure><p><strong>Solution</strong></p><blockquote><p>There seems to be a mistake in line 23 (I know you copy pasted it from the manual of the application from github or the online example, I have fixed it there too)</p><p>use:</p></blockquote><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs r">write.table<span class="hljs-punctuation">(</span>sub.csv<span class="hljs-punctuation">,</span> file <span class="hljs-operator">=</span> <span class="hljs-string">&quot;/home/user/stamps_visualizer/stusi/newstudysite/20170310.csv&quot;</span><span class="hljs-punctuation">,</span> row.names <span class="hljs-operator">=</span> <span class="hljs-built_in">F</span><span class="hljs-punctuation">,</span> col.names <span class="hljs-operator">=</span> <span class="hljs-built_in">T</span><span class="hljs-punctuation">,</span> sep <span class="hljs-operator">=</span> <span class="hljs-string">&quot;,&quot;</span><span class="hljs-punctuation">)</span><br></code></pre></td></tr></table></figure><blockquote><p>Explanation: sub is not an object created by the script containing a data.frame but a function called sub (which is an object too). the function write.table() awaits a data.frame like object in x as input, this explains the error message. It maybe that I first worked with an object called sub, when I wrote the script but then changed sub to sub.csv, to avoid logical conflicts with the function sub…nice style be me but bad implemented by forgetting to rename all sub objects. Thanks for the report<a href="https://forum.step.esa.int/t/stamps-visualizer-snap-stamps-workflow/9613/66" title="STEP Forum">7</a>.</p></blockquote><h2 id="manual"><a class="markdownIt-Anchor" href="#manual"></a> Manual</h2><ul><li>Process StaMPS until step 6 or further<a href="https://thho.shinyapps.io/StaMPS_Visualizer/#importbl" title="StaMPS-Visualizer 3.0 Manual">3</a></li><li>Use the following lines in Matlab to export the data. Run the code line by line and follow the instructions in the comments</li></ul><h3 id="import-custom-stamps-data"><a class="markdownIt-Anchor" href="#import-custom-stamps-data"></a> Import custom StaMPS data</h3><p>After the export from Matlab/StaMPS was successful, the <code>.csv</code> table can be imported to the Visualizer:</p><p>move the <code>.csv</code> file to th <code>StaMPS_Visualizer/input/stusi directory</code><br />open or restart the app<br />now the new study site can be selected in the Visualizer control panel<br />If you encounter a pop up error message after you have selected your import, follow the instructions of in the message.</p><h3 id="export-custom-data-from-snap-baseline-plot"><a class="markdownIt-Anchor" href="#export-custom-data-from-snap-baseline-plot"></a> Export custom data from SNAP (baseline plot)</h3><p>Create a coregistered stack product (InSAR stack) in SNAP. Be sure that the prime image is the first in the stack!<br />in SNAP go to View –&gt; Tool Windows –&gt; Radar –&gt; InSAR Stack and choose the Baseline Chart tab<br />Copy the chart to clipboard (on right side the upper icon)<br />open a text editor and paste the chart<br />delete all white spaces and exchange the ? in the first row to be a 0 (zero)<br />when you use Linux, save chart info to a .csv file and use this: <code>sed -i 's/?/0/g' &lt;file_with_chart_info.csv&gt; | sed 's/ //g'</code><br />save the resulting table as <code>&lt;name&gt;.csv</code></p><h3 id="import-custom-baseline-plot-data"><a class="markdownIt-Anchor" href="#import-custom-baseline-plot-data"></a> Import custom baseline plot data</h3><p>move the <code>.csv</code> file to th StaMPS_Visualizer/input/baseline_info directory<br />open or restart the app<br />now the new baseline chart can be selected in the Baseline Plot tab</p><h2 id="result-of-fengkml"><a class="markdownIt-Anchor" href="#result-of-fengkml"></a> Result of Feng.kml</h2><p>Create <code>Feng.kml</code> in google maps and use <code>subset_ts_plot_export.R</code> to subset all PS points within roi.</p><p><img src="Feng_visualizer.png" alt="PS results of Feng County in StaMPS_Visualizer" /></p><h2 id="result-of-panankml"><a class="markdownIt-Anchor" href="#result-of-panankml"></a> Result of Panan.kml</h2><p>Create <code>Panan.kml</code> in google maps and use <code>subset_ts_plot_export.R</code> to subset all PS points within roi.</p><p><img src="Panan_visualizer1.png" alt="PS results of Panan Lake in StaMPS_Visualizer" /></p><p><img src="Panan_visualizer2.png" alt="PS results of Panan Lake in StaMPS_Visualizer" /></p>]]></content>
    
    
    <categories>
      
      <category>StaMPS-InSAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ENVISAT</tag>
      
      <tag>StaMPS-InSAR</tag>
      
      <tag>Xuzhou</tag>
      
      <tag>StaMPS-Visualizer</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>StaMPS Process of Feng-Pei County using Sentinel1A in LiDO3</title>
    <link href="/2022/04/20/StaMPS-Process-of-Feng-Pei-County-using-Sentinel1A-in-LiDO3/"/>
    <url>/2022/04/20/StaMPS-Process-of-Feng-Pei-County-using-Sentinel1A-in-LiDO3/</url>
    
    <content type="html"><![CDATA[<h1 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h1><p>This post is about working in Land Subsidence in Feng-Pei county in Xuzhou city. Cause the only free and available SAR dataset in this area is Sentinel-1A<span id="more"></span>, so we downloaded 20 scenes SLC data to process.</p><h1 id="snap2stamps-process-in-lido"><a class="markdownIt-Anchor" href="#snap2stamps-process-in-lido"></a> snap2stamps process in LiDO</h1><h2 id="errors-and-solutions"><a class="markdownIt-Anchor" href="#errors-and-solutions"></a> Errors and Solutions</h2><h3 id="error-1-no-pathlib-found-in-python-module"><a class="markdownIt-Anchor" href="#error-1-no-pathlib-found-in-python-module"></a> <em>Error 1 No pathlib found in python module</em></h3><p><strong>Solution</strong></p><blockquote><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> pathlib2 <span class="hljs-keyword">import</span> Path<br></code></pre></td></tr></table></figure></blockquote><h3 id="error-2-error-nodeid-apply-orbit-file-qcsentinel1eoesaint-name-or-service-not-known"><a class="markdownIt-Anchor" href="#error-2-error-nodeid-apply-orbit-file-qcsentinel1eoesaint-name-or-service-not-known"></a> <em>Error 2 Error: [NodeId: Apply-Orbit-File] qc.sentinel1.eo.esa.int: Name or service not known</em></h3><blockquote><p><strong>Solution</strong></p><p>Both indicates outdated SNAP versions, run Menu &gt; Help &gt; Check for Updates?</p><p>the most recent version is 8.0.4 (Menu &gt; Help &gt; About SNAP)<a href="https://forum.step.esa.int/t/apply-orbit-file-qc-sentinel1-eo-esa-int-name-or-service-not-know/14877/6" title="STEP Forum">1</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">cd</span> /work/smyumeng/snap/bin</span> <br><span class="hljs-meta prompt_">$ </span><span class="language-bash">./snap</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">update <span class="hljs-keyword">in</span> SNAP GUI</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-built_in">cd</span> to downloaded esa-snap_sentinel_unix_8_0.sh</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">properties-permission-Allow executing file as program</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">./esa-snap_sentinel_unix_8_0.sh</span><br></code></pre></td></tr></table></figure><h3 id="error-3-nodeid-interferogram-orgjblasnativeblasdgemm"><a class="markdownIt-Anchor" href="#error-3-nodeid-interferogram-orgjblasnativeblasdgemm"></a> <em>Error 3 [NodeId: Interferogram] org.jblas.NativeBlas.dgemm</em></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell">SNAP STDOUT:INFO: org.esa.snap.core.gpf.operators.tooladapter.ToolAdapterIO: Initializing external tool adapters<br>INFO: org.esa.s2tbx.dataio.gdal.GDALVersion: GDAL not found on system. Internal GDAL 3.0.0 from distribution will be used. (f1)<br>INFO: org.esa.s2tbx.dataio.gdal.GDALVersion: Internal GDAL 3.0.0 set to be used by SNAP.<br>INFO: org.esa.snap.core.util.EngineVersionCheckActivator: Please check regularly for new updates for the best SNAP experience.<br>INFO: org.esa.s2tbx.dataio.gdal.GDALVersion: Internal GDAL 3.0.0 set to be used by SNAP.<br>Executing processing graph<br>INFO: org.hsqldb.persist.Logger: dataFileCache open start<br>-- org.jblas ERROR Couldn&#x27;t load copied link file: java.lang.UnsatisfiedLinkError: /tmp/jblas8683114676634715002/libquadmath-0.so: /lib64/libm.so.6: version `GLIBC_2.23&#x27; not found (required by /tmp/jblas8683114676634715002/libquadmath-0.so).<br><br>WARNING: org.esa.s1tbx.insar.gpf.coregistration.CreateStackOp: Unable to calculate baselines. org.jblas.NativeBlas.dgemm(CCIIID[DII[DIID[DII)V<br>org.jblas.NativeBlas.dgemm(CCIIID[DII[DIID[DII)V<br> done.<br><br>Error: [NodeId: Interferogram] org.jblas.NativeBlas.dgemm(CCIIID[DII[DIID[DII)V<br>-- org.jblas INFO Deleting /tmp/jblas8683114676634715002/libquadmath-0.so<br>-- org.jblas INFO Deleting /tmp/jblas8683114676634715002<br></code></pre></td></tr></table></figure><p><strong>Solution</strong></p><blockquote><p>My workaround linking the v7 jblas.jar, suggested in the first post in this thread, only worked until an update was applied, which unfortunately overwrote the linked files in v7<a href="https://step.esa.int/main/download/snap-download/previous-versions/" title="Previous Versions of SNAP">3</a>. So linking was not the best solution. I had to download v7 again to get the jblas.jar<a href="https://forum.step.esa.int/t/8-0-x-centos-7-jblas-static-and-dynamic-libraries/27688" title="STEP Forum">2</a>.</p><p>If you have this issue, I recommend keeping a copy of the v7 jblas.jar so you can overwrite the file if it is required after it is replaced by an update. The workaround uses the v7 jblas.jar which is linked to older GLIBC library. Just copy the v7 file:</p></blockquote><blockquote><p>snap_7.0.4/s1tbx/modules/ext/org.jlinda.jlinda-core/org-jblas/jblas.jar</p></blockquote><p>over both:</p><blockquote><p>snap_8.0.9/s1tbx/modules/ext/org.jlinda.jlinda-core/org-jblas/jblas.jar<br />snap_8.0.9/s1tbx/modules/ext/org.jlinda.jlinda-nest/org-jblas/jblas.jar</p></blockquote><h2 id="snap2staps"><a class="markdownIt-Anchor" href="#snap2staps"></a> snap2staps</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">module avail</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">module add python/2.7.18</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">usual python commands</span><br></code></pre></td></tr></table></figure><h2 id="stamps-process"><a class="markdownIt-Anchor" href="#stamps-process"></a> StaMPS Process</h2><p>After snap2stamps, move folder to /work/smyumeng/Sentinel_PS/Feng-Pei/, start stamps processing with slurm scripts in folder /work/smyumeng/project/scripts/.</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">$ mt_prep_snap <span class="hljs-number">20161028</span> <span class="hljs-regexp">/work/</span>smyumeng<span class="hljs-regexp">/Sentinel_PS/</span>Feng_Pei/INSAR_20161028 <span class="hljs-number">0.4</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">50</span> <span class="hljs-number">200</span><br></code></pre></td></tr></table></figure><p>Prefilter phase before unwrapping to reduce noise. SCLA and AOE subtraction is applied when step 6 is redone after step 7. To avoid subtraction use <em>scla_reset</em>.</p><blockquote><p>Note In case of re-running Step 6 after a full StaMPS run, estimates of SCLA and master atmosphere and orbit error (AOE) will be subtracted before unwrapping. If you do not wish this to occur, reset these estimates before running Step 6 again with <em>scla_reset</em>. This is useful if one is interested in local signals only, or when looking for landslides in a larger area. This subtraction of SCLA and master AOE has not been implemented with the <em>unwrap_prefilter_flag = ‘n’</em> option.)</p></blockquote><h3 id="how-to-process-in-stamps"><a class="markdownIt-Anchor" href="#how-to-process-in-stamps"></a> How to process in StaMPS</h3><blockquote><p>run steps 1-6<a href="https://github.com/gjvanleeuwen/SNAP-StaMPS-Visualizing" title="SNAP-StaMPS workflow documentation">5</a><br />check <code>ps_plot ('u')</code><br />add bad ifgs to scla_drop_index<br />run step 7<br />check <code>ps_plot('u-dm')</code> is generally smoother<br />rerun step 6<br />check <code>ps_plot('u')</code><br />remove ifgs that have improved in unwrapping result from scla_index and rerun step 7<br />rerun step 6 and check again.<br />keep doing this process until results are satisfying and command: <code>ps_plot('v-do'. 'ts')</code> to check if the total velocities are okay, if result is not &gt; satisfying try:</p></blockquote><blockquote><p>rerun from step 6 with more goldstein filtering<br />rerun from step 5 with a higher <code>merge_resample_size</code><br />rerun from step 4 with changes to the <code>weed_standard_dev</code> parameter<br />rerun from step 2 with bad ifgs added to <code>drop_ifg_index</code> and possible changes to parameters step 2 and 3</p></blockquote><p>set your reference location for plotting using:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">setparm(<span class="hljs-string">&#x27;ref_centre_lonlat&#x27;</span> , [lon lat])<br>setparm(<span class="hljs-string">&#x27;ref_radius&#x27;</span>, radius_m)<br></code></pre></td></tr></table></figure><h2 id="stamps-plotting"><a class="markdownIt-Anchor" href="#stamps-plotting"></a> StaMPS Plotting</h2><p>Display <strong>wrapped phase</strong> with</p><ul><li><code>&gt;&gt;ps_plot('w')</code>: Check the wrapped phase of the selected pixels. In terms of reprocessing, the first parameter to play with is <code>weed_standard_dev</code>. If it looks like too many noisy pixels are being chosen, the value can be reduced. If very few pixels are chosen, the value can be increased. If still too few pixels are being selected such that any signal is generally undersampled, variation of Step 2 parameters can be tried. The number of initial candidates can also be increased by setting the amplitude dispersion higher in <code>mt_prep</code> (step 5)<a href="https://github.com/dbekaert/StaMPS/releases/tag/v4.1-beta" title="StaMPS 4.1-beta Manual">4</a>.</li></ul><p>Display <strong>unwrapping error</strong> with</p><ul><li><code>&gt;&gt;ps_plot('u')</code>: Check for unwrapping errors i.e., phase jumps in space which are uncorrelated in time (step 6). Pay attention to the color scale. It may help to set it to a narrower range <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mn>2</mn><mi>π</mi><mo separator="true">,</mo><mn>2</mn><mi>π</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-2\pi,2\pi]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mclose">]</span></span></span></span>. Unwrapping errors are more likely to occur in longer perpendicular baseline interferograms. This is for two reasons, firstly there is more noise associated with each PS pixel, and secondly, the phase due to any <strong>spatially-correlated look angle (SCLA)</strong> error is larger, as it is proportional to perpendicular baseline. Noise is reduced by spatial filtering before unwrapping, but it is also possible to reduce the SCLA error phase by estimating the SCLA error from the interferograms that have been unwrapped OK by running Step 7. If Step 6 is re-run after Step 7 has been run, the SCLA error phase is temporarily subtracted from the wrapped phase before unwrapping. The unwrapping accuracy is further improved by also temporarily subtracting the <strong>atmosphere and orbit error (AOE)</strong> phase of the master image, present in all the interferograms, which is also estimated in Step 7.</li></ul><p>Display the estimate of <strong>SCLA error</strong> with</p><ul><li><code>&gt;&gt;ps plot('d')</code>: Units are phase per m of perpendicular baseline, with 0.01 radians/m corresponding to about 12 m of DEM error for the Envisat I2 swath. You can use <code>&gt;&gt;K2q</code> to do the conversion for ERS, Envisat I2 swath or ALOS.</li></ul><p>Display the estimate of <strong>master atmosphere and orbit erroe AOE phase</strong> with</p><ul><li><code>&gt;&gt;ps plot('m')</code></li></ul><p>Display the phase ramps (if <code>scla_deramp</code> is set to ‘y’) with</p><ul><li><code>&gt;&gt;ps_plot('o')</code></li></ul><p>Unwrapped phase minus one of, or a combination of the above can be plotted with <code>u-d</code>, <code>u-m</code>, <code>u-o</code>, <code>u-dm</code>, <code>u-do</code> and <code>u-dmo</code>.</p><blockquote><p>After running step 7, check that the estimates seem reasonable, i.e. ps plot(‘u-dm’) looks generally smoother than ps plot(‘u’) (note that the default colour scales will be different). If not generally smoother, one or more interferograms have probably been incorrectly unwrapped (usually those with large perpendicular baselines)<a href="https://github.com/dbekaert/StaMPS/releases/tag/v4.1-beta" title="StaMPS 4.1-beta Manual">4</a>.</p></blockquote><h2 id="post-stamps"><a class="markdownIt-Anchor" href="#post-stamps"></a> Post-StaMPS</h2><p>To convert the corrected LOS displacement from StaMPS into combined ascending and descending vertical displacement I have created a few python scripts to ease this process. The scripts can be downloaded from this git and meed to be adjusted to your folder system<a href="https://github.com/gjvanleeuwen/SNAP-StaMPS-Visualizing" title="SNAP-StaMPS workflow documentation">5</a>.</p><p>first script to run is vertical_displacement_calculator.py second script to run is asc_desc_combiner.py.</p><h2 id="vertical-displacement"><a class="markdownIt-Anchor" href="#vertical-displacement"></a> Vertical Displacement</h2><blockquote><p>When all images are from the same track, you get the displacement along the line-of-sight (LOS) between the earth and the sensor. If you want to have vertical displacement, you need images from both ascending and descending tracks. There are lots of approaches to achieve this, some are  trightforward, others are more complex. At the moment, none of them is implemented in SNAP<a href="https://forum.step.esa.int/t/matlab-script-for-determining-vertical-displacement-from-snap-stamps-ps-insar-ascending-and-descending-data/15408/8" title="STEP Forum">6</a>.</p></blockquote><h2 id="visualization"><a class="markdownIt-Anchor" href="#visualization"></a> Visualization</h2><p>Visualization of the data in this project is done using QGIS and Python. All scripts used can be found in this Git and shapefiles used can be requested by contacting me directly. Scripts will have to be adjusted to personal file structure and projections to be usable<a href="https://github.com/gjvanleeuwen/SNAP-StaMPS-Visualizing" title="SNAP-StaMPS workflow documentation">5</a>.</p><p>If all results are satisfying make a kml file with all data for <strong>visualization</strong>:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB"><span class="hljs-comment">% save PS velocity estimation to a mat file</span><br>&gt;&gt; ps_plot(<span class="hljs-string">&#x27;v-d&#x27;</span>, <span class="hljs-number">-1</span>)<br><span class="hljs-comment">% load matfile</span><br>&gt;&gt; load ps_plot_v-d<br><span class="hljs-comment">% save ps.kml (generated from ph_disp for every 10 points with an opacity of 0.4</span><br>&gt;&gt; ps_gescatter(<span class="hljs-string">&#x27;ps.kml&#x27;</span>,ph_disp,<span class="hljs-number">10</span>,<span class="hljs-number">0.4</span>)<br></code></pre></td></tr></table></figure><p>or make a csv file with all data vor visualizations:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">ps_plot(<span class="hljs-string">&#x27;v-do&#x27;</span>, <span class="hljs-string">&#x27;ts&#x27;</span>);<br><span class="hljs-comment">% after the plot has appeared magically, set radius and location by clicking into the plot</span><br>load parms.mat;<br>ps_plot(<span class="hljs-string">&#x27;v-do&#x27;</span>, <span class="hljs-number">-1</span>);<br>load ps_plot_v-do.mat;<br>lon2_str = cellstr(num2str(lon2));<br>lat2_str = cellstr(num2str(lat2));<br>lonlat2_str = strcat(lon2_str, lat2_str);<br><br>lonlat_str = strcat(cellstr(num2str(lonlat(:,<span class="hljs-number">1</span>))), cellstr(num2str(lonlat(:,<span class="hljs-number">2</span>))));<br>ind = <span class="hljs-built_in">ismember</span>(lonlat_str, lonlat2_str);<br><br><span class="hljs-built_in">disp</span> = ph_disp(ind);<br>disp_ts = ph_mm(ind,:);<br>export_res = [lon2 lat2 <span class="hljs-built_in">disp</span> disp_ts];<br><br>metarow = [ref_centre_lonlat NaN transpose(day)<span class="hljs-number">-1</span>];<br>k = <span class="hljs-number">0</span>;<br>export_res = [export_res(<span class="hljs-number">1</span>:k,:); metarow; export_res(k+<span class="hljs-number">1</span>:<span class="hljs-keyword">end</span>,:)];<br>export_res = <span class="hljs-built_in">table</span>(export_res);<br><span class="hljs-built_in">writetable</span>(export_res,<span class="hljs-string">&#x27;stamps_tsexport.csv&#x27;</span>)<br></code></pre></td></tr></table></figure><p>if you want to use TRAIN check the <a href="http://davidbekaert.com/download/TRAIN_manual.pdf">TRAIN manual</a> but using linear correction try this:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">aps_linear<br>ps_plot(<span class="hljs-string">&#x27;v-dao&#x27;</span> , <span class="hljs-string">&#x27;a_linear&#x27;</span> , <span class="hljs-string">&#x27;ts&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="train"><a class="markdownIt-Anchor" href="#train"></a> TRAIN</h1><p>TRAIN - Toolbox for Reducing Atmospheric InSAR Noise<a href="http://davidbekaert.com/" title="TRAIN - Toolbox for Reducing Atmospheric InSAR Noise">7</a></p><blockquote><p>One of the main challenges in InSAR processing is related to atmospheric delays, especially tropospheric delays. Different correction methods are applied today based on auxiliary data, including GNSS, weather models (e.g. ECMWF ERA-I, WRF, NARR, etc), spectrometer data (MERIS and MODIS), or combinations of different sources. Alternative methods exist to estimate the tropospheric delays from the radar data themselves. The success rate of the different techniques is dependant on multiple factors like temporal and spatial resolution, cloud cover, signal contamination, local topography, etc.</p></blockquote><blockquote><p>Below we provide a set of MATLAB tools that can be use to correct for tropospheric delays in InSAR data. Once set-up for one correction method, the toolbox allows for easy comparison with other methods, as all are formatted in the same way. The toolbox is fully compatible, but not limited, to the Doris and StaMPS (v4.1+ or github) software. Initial debugging has been done for ROI_PAC and PI-rate processed data, but user feedback and reporting will allow for further development. The toolbox includes the correction methods provided below, with a full descriptive manual on the input parameters, and tips/hints in case of problems. The latest developers version of the manual can be downloaded by clicking here. TRAIN is distributed under a GNU-GPL license and available on github.</p></blockquote><h2 id="included-module"><a class="markdownIt-Anchor" href="#included-module"></a> Included module</h2><p>TRAIN is under continuous development with expansion of additional techniques and models. Most of the methods include download scripts and set-up of the source data. In the latest version we include support for the following techniques:</p><ul><li>Spectrometer - MERIS correction (only Envisat support for now)</li><li>Spectrometer - MODIS correction</li><li>Weather model correction - ERA-I, MERRA, MERRA-2, GACOS</li><li>Weather model correction - when running your own Weather Research and Forecasting Model (WRF)</li><li>Phase-based - Power-law correction for tropospheric delays</li><li>Phase-based - Linear phase-topography correction</li></ul><h2 id="correction"><a class="markdownIt-Anchor" href="#correction"></a> Correction</h2><p>Using linear correction try this<a href="https://github.com/gjvanleeuwen/SNAP-StaMPS-Visualizing" title="SNAP-StaMPS workflow documentation">5</a>:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs matlab">aps_linear<br>ps_plot(<span class="hljs-string">&#x27;v-dao&#x27;</span> , <span class="hljs-string">&#x27;a_linear&#x27;</span> , <span class="hljs-string">&#x27;ts&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="notes"><a class="markdownIt-Anchor" href="#notes"></a> Notes</h2><ul><li><p>edit <code>aps_weather_model_times.m</code> to avoid the need for the Financial Toolbox. Simply replace <code>today</code> by <code>floor(now)</code> in line 19.</p></li><li><p>edit <code>aps_weather_model_InSAR.m</code> since <code>setparm_aps('lambda', ...)</code> does not seem to be working correctly. Set <code>lambda = 0.0547</code> (wavelength [m] for S1) in line 74.</p></li><li><p>Conclusions from <em>Hooper et al. (2015)<a href="https://www.sciencedirect.com/science/article/pii/S0034425715301231?via%3Dihub" title="Statistical comparison of InSAR tropospheric correction techniques. Remote Sensing of Environment, 170 40-47">8</a></em>:</p><blockquote><p>Our analysis included methods based on spectrometer measurements, output of weather models, and empirical interferometric phase-based methods. When available and limited to cloud-free and daylight acquisitions only, we found the spectrometers to provide the largest RMSE reduction. We found that the estimated tropospheric delays using MODIS have at best an accuracy equal to that of MERIS, and at worst twice that of MERIS. We found the phase-based methods (linear and power-law) to outperform the weather model methods in regions where tropospheric delays are mainly correlated with topography. For regions over which this is less apparent, due to turbulence in the troposphere and dynamic local weather, weather models can potentially offer better performance. In those instances where weather models mis-estimate the location of turbulent features, they will have a correspondingly higher RMSE. We did not find a significant improvement when using a local high-resolution weather model (7 km and 2 km) instead of the global reanalysis products. With a longer required runtime, local weather model are less suitable for near real-time InSAR application. From a cloud cover analysis, we found the performance of the different correction methods to worsen with increasing cloud cover, with a ~ 10–20% increase in RMSE for each cloudy SAR date.</p></blockquote></li></ul><h1 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h1><h2 id="result-1"><a class="markdownIt-Anchor" href="#result-1"></a> Result 1</h2><p>This attempt was resulted by all parameter set at <strong>default</strong>.</p><p><img src="plot_v_do_1st.png" alt="Feng_Pei velocity without DEM error and orbit error" /></p><h2 id="result-2"><a class="markdownIt-Anchor" href="#result-2"></a> Result 2</h2><p>Change parameter according to <a href="https://gitlab.com/Rexthor/gis-blog/-/blob/master/StaMPS/2-4_StaMPS-steps.md#summary">gis_blog</a></p><table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th><th>Description</th></tr></thead><tbody><tr><td><code>scla_deramp</code></td><td>‘n’</td><td>‘y’</td><td>If set to ‘y’, a phase ramp is estimated for each interferogram. The estimated ramp will be subtracted before unwrapping. This is useful if one is interested in local signals only (interesting when looking for landslides in a larger area).</td></tr><tr><td><code>unwrap_gold_n_win</code></td><td>32</td><td>16</td><td>Window size for Goldstein filter.</td></tr><tr><td><code>unwrap_grid_size</code></td><td>200</td><td>100</td><td>Resampling grid spacing. If <code>unwrap_prefilter_flag</code> is set to ‘y’, phase is resampled to this grid. Should be at least as large as <code>merge_grid_size</code>.</td></tr><tr><td><code>unwrap_time_win</code></td><td>730</td><td>360</td><td>Smoothing window (in days) for estimating phase noise distribution for each pair of neighbouring pixels (i.e. smoothing filter length in days for smoothing phase in time by estimate the noise contribution for each phase arc). The time series phase for each pair is smoothed using a Gaussian window with standard deviation of this size. Original phase minus smoothed phase is assumed to be noise, which is used for determining probability of a phase jump between the pair in each interferogram. Could be importand when looking for Landslides. See <code>unwrap_grid_size</code></td></tr><tr><td><code>scn_time_win</code></td><td>365</td><td>180</td><td>Temporal filtering window size.</td></tr></tbody></table><p><img src="plot_v_do_2nd.png" alt="Feng_Pei velocity without DEM error and orbit error" /></p><p>Tranfer folder to Windows for futher analysis!</p><h2 id="result-3"><a class="markdownIt-Anchor" href="#result-3"></a> Result 3</h2><table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>scla_deramp</code></td><td>‘n’</td><td>‘y’</td></tr><tr><td><code>unwrap_gold_n_win</code></td><td>32</td><td>8</td></tr><tr><td><code>unwrap_grid_size</code></td><td>200</td><td>50</td></tr><tr><td><code>unwrap_time_win</code></td><td>730</td><td>60</td></tr><tr><td><code>scn_time_win</code></td><td>365</td><td>120</td></tr></tbody></table><p><img src="plot_v_do_3.png" alt="Feng_Pei velocity without DEM error and orbit error" /></p><h3 id="time-series-plot-and-export-to-visualization-in-matlab"><a class="markdownIt-Anchor" href="#time-series-plot-and-export-to-visualization-in-matlab"></a> Time series plot and export to Visualization in MATLAB</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; ps_plot(<span class="hljs-string">&#x27;v-do&#x27;</span>, <span class="hljs-string">&#x27;ts&#x27;</span>);<br>Deramping computed on the fly. <br>**** z = ax + by+ c<br><span class="hljs-number">6607299</span> ref PS selected<br>Warning: MATLAB has disabled some advanced graphics rendering features<br>by switching to software OpenGL. For more information, click here. <br>Color Range: <span class="hljs-number">-47.2193</span> to <span class="hljs-number">25.6615</span> mm/yr<br>Please select a point on the <span class="hljs-built_in">figure</span> to <span class="hljs-built_in">plot</span> time series (TS)<br>Selected point coordinates (lon,lat):<span class="hljs-number">116.6132</span>, <span class="hljs-number">34.6989</span><br>Selected point coordinates (lon,lat):<span class="hljs-number">116.9755</span>, <span class="hljs-number">34.5074</span><br>&gt;&gt; <span class="hljs-built_in">length</span>(lon2)<br><br><span class="hljs-built_in">ans</span> =<br><br>     <span class="hljs-number">6607299</span><br><br></code></pre></td></tr></table></figure><p><img src="time_series_plot_3.png" alt="Time series plots 3rd attampt" /></p>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Land Subsidence</tag>
      
      <tag>InSAR</tag>
      
      <tag>Sentinel1-A</tag>
      
      <tag>PS-InSAR</tag>
      
      <tag>StaMPS-InSAR</tag>
      
      <tag>Xuzhou</tag>
      
      <tag>LiDO3</tag>
      
      <tag>snap2stamps</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Setup and Problem-Solving in WSL2</title>
    <link href="/2022/04/14/Setup-and-Problem-Solving-in-WSL2/"/>
    <url>/2022/04/14/Setup-and-Problem-Solving-in-WSL2/</url>
    
    <content type="html"><![CDATA[<p>Notes about working in WSL!</p><span id="more"></span><h1 id="how-to-set-up-working-x11-forwarding-on-wsl2"><a class="markdownIt-Anchor" href="#how-to-set-up-working-x11-forwarding-on-wsl2"></a> How to set up working X11 forwarding on WSL2?</h1><ul><li>Installing the desktop (GUI) in WSL</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs shell">sudo apt update<br>sudo apt upgrade<br></code></pre></td></tr></table></figure><blockquote><p>Then by the following command, we can install the light ubuntu desktop</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install lxde<br></code></pre></td></tr></table></figure><blockquote><p>In the next step, the <a href="https://sourceforge.net/projects/vcxsrv/files/latest/download">VcXsrv Windows X</a> Server utility should be installed in windows.<br />After installation, we should open VCxsrv software and set the Initial setting.<br />Then we should run the following commands in ubuntu terminal<a href="https://forum.step.esa.int/t/psi-using-snap-stamps-workflow-in-windows-subsystem-for-linux-wsl/23004" title="PSI using SNAP-STaMPS workflow in Windows Subsystem for Linux (WSL)">1</a>.</p></blockquote><p><strong>make sure to check ‘disable access control’ when configure Xlancher</strong></p><p>Add the following to your ~/.bashrc<a href="https://stackoverflow.com/questions/61110603/how-to-set-up-working-x11-forwarding-on-wsl2" title="How to set up working X11 forwarding on WSL2">2</a>:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">export DISPLAY=$(ip route list default | awk &#x27;&#123;print $3&#125;&#x27;):0<br>export LIBGL_ALWAYS_INDIRECT=1<br>startlxde <br><span class="hljs-meta prompt_"># </span><span class="language-bash">main <span class="hljs-built_in">command</span> to run the desktop</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">each time that we want to use it we should rerun the last three commands</span><br></code></pre></td></tr></table></figure><p>*: If you use VcXSrv you can enable public access for your X server by disabling Access Control on the Extra Settings.</p><h1 id="install-snap-in-wsl"><a class="markdownIt-Anchor" href="#install-snap-in-wsl"></a> Install SNAP in WSL</h1><h2 id="download-snap-and-install"><a class="markdownIt-Anchor" href="#download-snap-and-install"></a> Download SNAP and Install</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">yuchi@DESKTOP-C79LC47:~/Downloads/snap$ wget https://download.esa.int/step/snap/8.0/installers/esa-snap_sentinel_unix_8_0.sh<br><br>yuchi@DESKTOP-C79LC47:~/Downloads/snap$ chmod +x esa-snap_sentinel_unix_8_0.sh<br>yuchi@DESKTOP-C79LC47:~/Downloads/snap$ ./esa-snap_sentinel_unix_8_0.sh<br></code></pre></td></tr></table></figure><p><img src="SNAP_install.png" alt="SNAP install in WSL" /></p><p>All DONE! Enjoy SNAP in WSL.</p><p><strong>Suddenly all worked out when download snap2stamps in WSL2, but not runing in actural windows.</strong>.</p><p>Enjoy processing!</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>WSL</tag>
      
      <tag>Ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pre-StamPS Land Subsidence in Xuzhou Feng-Pei County using StaMPS in LiDO3</title>
    <link href="/2022/04/07/Pre-StaMPS%20Land-Subsidence-in-Xuzhou-Feng-Pei-County/"/>
    <url>/2022/04/07/Pre-StaMPS%20Land-Subsidence-in-Xuzhou-Feng-Pei-County/</url>
    
    <content type="html"><![CDATA[<h1 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h1><p>This post is about working in Land Subsidence in Feng-Pei county in Xuzhou city. Cause the only free and available SAR dataset in this area is Sentinel-1A, so we downloaded 20 scenes SLC <span id="more"></span>data to process.</p><h1 id="dataset"><a class="markdownIt-Anchor" href="#dataset"></a> Dataset</h1><p><img src="Dataset.png" alt="Sentinel data overview by ASF" /></p><h1 id="process"><a class="markdownIt-Anchor" href="#process"></a> Process</h1><p>In this process, we use snap2stamps to prepare INSAR_master_date folder for StaMPS.</p><h2 id="anaconda"><a class="markdownIt-Anchor" href="#anaconda"></a> Anaconda</h2><p>Cause snap2stamps needs python 2 environment, so we use anaconda<a href="https://www.anaconda.com/" title="Anaconda official">1</a> to manage python environment and easy switch between python3 and python 2.</p><p>Switching between Python 2 and Python 3 environments<a href="https://docs.anaconda.com/anaconda/user-guide/tasks/switch-environment/" title="Anaconda switch between python2 and python3">2</a>:</p><figure class="highlight shell"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">conda create --name py2 python=2.7</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">conda activate py2 <span class="hljs-comment"># active python 2.7</span></span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">conda deactivate <span class="hljs-comment"># deactivate</span></span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">pyhon</span> <br>Python 2.7.18 |Anaconda, Inc.| (default, Apr 23 2020, 17:26:54) [MSC v.1500 64 bit (AMD64)] on win32<br>Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.<br><span class="hljs-meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="hljs-built_in">exit</span>()</span><br><br>(base) C:/Users/mengy&gt;python <br>Python 3.9.7 (default, Sep 16 2021, 16:59:28) [MSC v.1916 64 bit (AMD64)] :: Anaconda, Inc. on win32<br>Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.<br><br></code></pre></td></tr></table></figure><h2 id="snap-prepare"><a class="markdownIt-Anchor" href="#snap-prepare"></a> SNAP prepare</h2><ul><li><p>File location: FileI:/SAR/Data/Xuzhou/Sentinel/Path_142/Frame_109</p></li><li><p>Master select<a href="https://gitlab.com/Rexthor/gis-blog/-/blob/master/StaMPS/2-3_snap2stamps.md" title="Tutorial of snap2stamps">3</a> - <em>Radar / Interferometric / InSAR Stack</em> Overview: 28OCT2016 <strong>2016-10-28</strong></p></li><li><p>Perform subsetting - <em>Radar / Sentinel-1 TOPS / S-1 TOPS Split</em></p></li></ul><blockquote><ul><li>subswath (IW 2)</li><li>polarization (vertical sent, vertical returned - VV), and</li><li>bursts (using the bursts-slider) in the respective tab (1-7)</li><li>Graph Builder (I:/SAR/Data/Feng_Pei/Auxiliary)</li><li>Batch Processing (I:/SAR/Data/Feng_Pei/Pre)</li></ul></blockquote><ul><li>Subset</li></ul><blockquote><p>POLYGON ((117.335 33.977, 116.61 33.977, 116.61 35.122, 117.355 35.122, 117.335 33.977))</p></blockquote><blockquote><p>POLYGON ((116.61 34.130, 117.335 34.130, 117.335 35.117, 116.61 35.117, 116.61 34.130))</p></blockquote><h2 id="snap2stamps"><a class="markdownIt-Anchor" href="#snap2stamps"></a> snap2stamps</h2><p>Note that snap2stamps requires Python 2.7, so we work the fellowing step in ubuntu, wsl.</p><h3 id="python-environmeng"><a class="markdownIt-Anchor" href="#python-environmeng"></a> Python environmeng</h3><ul><li>Download python2</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">sudo apt install python</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">python --version</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">sudo apt install pip</span><br></code></pre></td></tr></table></figure><ul><li>Change the Python3 default version in Ubuntu<a href="https://linuxhint.com/update_alternatives_ubuntu/" title="How to Use update-alternatives Command on Ubuntu">4</a></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">sudo update-alternatives --config python</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">update-alternatives: error: no alternatives <span class="hljs-keyword">for</span> python3</span> <br><span class="hljs-meta prompt_">$ </span><span class="language-bash">sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 40</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">sudo update-alternatives --install /usr/bin/python python /usr/bin/python2 20</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">sudo update-alternatives --config python</span><br></code></pre></td></tr></table></figure><ul><li>Start working in python2 environment</li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs csharp">$ python2<br>Python <span class="hljs-number">2.7</span><span class="hljs-number">.18</span> (<span class="hljs-literal">default</span>, Mar  <span class="hljs-number">8</span> <span class="hljs-number">2021</span>, <span class="hljs-number">13</span>:<span class="hljs-number">02</span>:<span class="hljs-number">45</span>)<br>[<span class="hljs-meta">GCC 9.3.0</span>] <span class="hljs-keyword">on</span> linux2<br>Type <span class="hljs-string">&quot;help&quot;</span>, <span class="hljs-string">&quot;copyright&quot;</span>, <span class="hljs-string">&quot;credits&quot;</span> <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;license&quot;</span> <span class="hljs-keyword">for</span> more information.<br>&gt;&gt;&gt;<br></code></pre></td></tr></table></figure><h3 id="config-snap2stamps"><a class="markdownIt-Anchor" href="#config-snap2stamps"></a> Config snap2stamps</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">######## CONFIGURATION FILE ######</span></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">##################################</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">PROJECT DEFINITION</span><br>PROJECTFOLDER=/mnt/i/SAR/Data/Feng_Pei/project<br>GRAPHSFOLDER=/mnt/i/SAR/Data/Feng_Pei/project/graphs<br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">#################################</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">PROCESSING PARAMETERS</span><br>IW1=IW2<br>MASTER=/mnt/i/SAR/Data/Feng_Pei/project/master/S1A_IW_SLC__1SDV_20161028T101204_20161028T101231_013689_015F45_AEF2_split.dim<br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">#################################</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">AOI BBOX DEFINITION</span><br>LONMIN=116.61<br>LATMIN=34.130<br>LONMAX=117.335<br>LATMAX=35.117<br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">#################################</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">SNAP GPT</span> <br>GPTBIN_PATH=/mnt/c/&#x27;Program Files&#x27;/snap/bin/gpt.exe<br><span class="hljs-meta prompt_">#</span><span class="language-bash">GPTBIN_PATH=/home/yuchi/snap/bin/gpt</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">#################################</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">COMPUTING RESOURCES TO EMPLOY</span><br>CPU=4<br>CACHE=16G<br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">#################################</span></span><br><br></code></pre></td></tr></table></figure><h3 id="working-in-snap2stamps"><a class="markdownIt-Anchor" href="#working-in-snap2stamps"></a> Working in snap2stamps</h3><ul><li>Go to snap2stamps folder and start processing.</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">yuchi@DESKTOP-C79LC47:~$ cd /mnt/i/Software/snap2stampsbin<br>yuchi@DESKTOP-C79LC47:/mnt/i/Software/snap2stamps$<br></code></pre></td></tr></table></figure><h4 id="error-1-syntaxerror-invalid-syntax"><a class="markdownIt-Anchor" href="#error-1-syntaxerror-invalid-syntax"></a> <em>Error 1 SyntaxError: invalid syntax</em>:</h4><blockquote><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vim">&gt;&gt;&gt; <span class="hljs-keyword">python</span> slaves_prep.<span class="hljs-keyword">py</span> project.<span class="hljs-keyword">conf</span><br> File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, <span class="hljs-built_in">line</span> <span class="hljs-number">1</span><br>   <span class="hljs-keyword">python</span> slaves_prep.<span class="hljs-keyword">py</span> project.<span class="hljs-keyword">conf</span><br>                    ^<br>SyntaxError: invalid <span class="hljs-keyword">syntax</span><br></code></pre></td></tr></table></figure></blockquote><p><strong>Solution</strong><a href="https://stackoverflow.com/questions/13961140/syntax-error-when-using-command-line-in-python" title="syntax error when using command line in python">5</a>:</p><blockquote><p>Looks like your problem is that you are trying to run python <a href="http://test.py">test.py</a> from within the Python interpreter, which is why you’re seeing that traceback.</p><p>Make sure you’re out of the interpreter, then run the python <a href="http://test.py">test.py</a> command from bash or command prompt or whatever.</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">sudo update-alternatives --config python</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">pip install pathlib</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">python slaves_prep.py project.conf</span><br></code></pre></td></tr></table></figure><h4 id="error2-cant-install-pathlib-and-pip2-in-python2"><a class="markdownIt-Anchor" href="#error2-cant-install-pathlib-and-pip2-in-python2"></a> <em>Error2 Can’t install pathlib and pip2 in python2</em></h4><p><strong>Solution</strong><a href="https://www.gungorbudak.com/blog/2018/08/02/correct-installation-and-configuration-of-pip2-and-pip3/" title="Correct Installation and Configuration of pip2 and pip3">6</a>:</p><blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">wget https://bootstrap.pypa.io/get-pip.py</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">sudo python2 get-pip.py</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">pip 20.3.4 from /home/yuchi/.local/lib/python2.7/site-packages/pip (python 2.7)</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">pip2 install pathlib</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"> python2</span><br>Python 2.7.18 (default, Mar  8 2021, 13:02:45)<br>[GCC 9.3.0] on linux2<br>Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.<br><span class="hljs-meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="hljs-built_in">help</span>(<span class="hljs-string">&#x27;modules&#x27;</span>)</span><br></code></pre></td></tr></table></figure></blockquote><ul><li>Start process snap2stamps</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><br>python slaves_prep.py project.conf<br><br>python splitting_slaves.py project.conf<br><br>python coreg_ifg_topsar.py project.conf<br><br>python stamps_export.py project.conf<br><br></code></pre></td></tr></table></figure><h4 id="error-3-subprocesspopen-no-such-file-or-directory-in"><a class="markdownIt-Anchor" href="#error-3-subprocesspopen-no-such-file-or-directory-in"></a> <em>Error 3 subprocess.popen no such file or directory in</em></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pyhton">python splitting_slaves.py project.conf <br></code></pre></td></tr></table></figure><p><strong>Solution</strong>: Try add an extra parameter shell=True to the Popen call<a href="https://stackoverflow.com/questions/9935151/popen-error-errno-2-no-such-file-or-directory" title="Popen error: [Errno 2] No such file or directory">7</a>.</p><h4 id="error-4-snap-stdoutmntisardatafeng_peiprojectgraphssplitgraph2runxml-1-mntcprogram-not-found-in"><a class="markdownIt-Anchor" href="#error-4-snap-stdoutmntisardatafeng_peiprojectgraphssplitgraph2runxml-1-mntcprogram-not-found-in"></a> <em>Error 4</em>: SNAP STDOUT:/mnt/i/SAR/Data/Feng_Pei/project/graphs/splitgraph2run.xml: 1: /mnt/c/Program: not found in</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> splitting_slaves.<span class="hljs-keyword">py</span> project.<span class="hljs-keyword">conf</span><br></code></pre></td></tr></table></figure><p><strong>Solution</strong>: Edit conf file GPTBIN_PATH=/mnt/c/‘Program Files’/snap/bin/gpt.exe instead of GPTBIN_PATH=/mnt/c/Program Files/snap/bin/gpt.exe</p><h4 id="error-5-gdal-not-found-on-system-in-step2"><a class="markdownIt-Anchor" href="#error-5-gdal-not-found-on-system-in-step2"></a> <em>Error 5 GDAL not found on system in step2</em></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell">[18] Folder: 20170225<br>/mnt/i/SAR/Data/Feng_Pei/project/slaves/20170225<br>[&#x27;/mnt/i/SAR/Data/Feng_Pei/project/slaves/20170225/S1A_IW_SLC__1SDV_20170225T101159_20170225T101226_015439_01957D_63E5.zip&#x27;]<br>FILE(s) : /mnt/i/SAR/Data/Feng_Pei/project/slaves/20170225/S1A_IW_SLC__1SDV_20170225T101159_20170225T101226_015439_01957D_63E5.zip<br>[&quot;/mnt/c/&#x27;Program Files&#x27;/snap/bin/gpt.exe&quot;, &#x27;/mnt/i/SAR/Data/Feng_Pei/project/graphs/splitgraph2run.xml&#x27;, &#x27;-c&#x27;, &#x27;16G&#x27;, &#x27;-q&#x27;, &#x27;4&#x27;]<br>SNAP STDOUT:INFO: org.esa.s2tbx.dataio.gdal.GDALVersion: GDAL not found on system. Internal GDAL 3.0.0 from distribution will be used. (f1)<br>INFO: org.esa.s2tbx.dataio.gdal.GDALVersion: Internal GDAL 3.0.0 set to be used by SNAP.<br>INFO: org.esa.snap.core.gpf.operators.tooladapter.ToolAdapterIO: Initializing external tool adapters<br>INFO: org.esa.snap.core.util.EngineVersionCheckActivator: Please check regularly for new updates for the best SNAP experience.<br>INFO: org.esa.s2tbx.dataio.gdal.GDALVersion: Internal GDAL 3.0.0 set to be used by SNAP.<br>Usage:<br>  gpt &lt;op&gt;|&lt;graph-file&gt; [options] [&lt;source-file-1&gt; &lt;source-file-2&gt; ...]<br>  Description:<br>  This tool is used to execute SNAP raster data operators in batch-mode. The<br>  operators can be used stand-alone or combined as a directed acyclic graph<br>  (DAG). Processing graphs are represented using XML. More info about<br>  processing graphs, the operator API, and the graph XML format can be found<br>  in the SNAP documentation.<br></code></pre></td></tr></table></figure><p>Regarding GDAL versions compatible with SNAP, these are:</p><p>Windows: 2.1.x - 3.0.x<br />Linux: 2.0.x - 3.0.x<br />Mac: 2.0.x - 3.0.x</p><p>or by manually updating the configuration (for users using SNAP with no GUI):<br />in .snap/etc/s2tbx.properties, add: s2tbx.dataio.gdal.installed=false<a href="https://forum.step.esa.int/t/snap-8-0-gpt-error-gdal-version-netcdf-c-library-error/26259/2" title="STEP Forum">19</a></p><p>And the file is hidden in home/yuchi/.snap/etc/s2tbx.properties, use <em>show hidden</em> to locate file.</p><p><strong>Solution</strong></p><p>Change of two attributes in range and azimute for snap V.7 and later<a href="https://forum.step.esa.int/t/snap2stamps-error/16768/150?page=8" title="STEP Forum">8</a>.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml">Try to change <br><span class="hljs-tag">&lt;<span class="hljs-name">useSuppliedShifts</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">useSuppliedShifts</span>&gt;</span> to <br><span class="hljs-tag">&lt;<span class="hljs-name">useSuppliedRangeShift</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">useSuppliedRangeShift</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">useSuppliedAzimuthShift</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">useSuppliedAzimuthShift</span>&gt;</span> <br>in coreg_ifg_computation.xml file This option is changed to two attributes in range and azimute for snap V.7<br></code></pre></td></tr></table></figure><p><strong>IMPORTANT: snap2stamps is a dead end, change to SNAP desktop!</strong></p><p><strong>UPDATE</strong></p><p>This maybe caused by configuration between windows and Ubuntu wsl, so we try to install SNAP in Ubuntu directly.</p><ul><li><p>How to install SNAP in Ubuntu command line?</p><blockquote><p>Building S1TBX from the source<a href="https://github.com/senbox-org/s1tbx" title="The SENTINEL-1 Toolbox">12</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">clone</span> https://github.com/senbox-org/s1tbx.git</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">clone</span> https://github.com/senbox-org/snap-desktop.git</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">clone</span> https://github.com/senbox-org/snap-engine.git</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">clone</span> https://github.com/senbox-org/snap-installer.git</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">mvn clean install</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">If unit tests are failing, you can use the following to skip the tests</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">mvn clean install -Dmaven.test.skip=<span class="hljs-literal">true</span></span><br></code></pre></td></tr></table></figure></li></ul><h4 id="error-6-mvn-clean-install"><a class="markdownIt-Anchor" href="#error-6-mvn-clean-install"></a> <em>Error 6 mvn clean install</em></h4><p>Building SNAP from sources : errors during the “mvn clean install”<a href="https://forum.step.esa.int/t/building-snap-from-sources-errors-during-the-mvn-clean-install/10626" title="Building SNAP from sources : errors during the mvn clean install">13</a>.</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[<span class="hljs-built_in">INFO</span>] Ceres Runtime Library 9.0.0-SNAPSHOT <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span>. FAILURE<br></code></pre></td></tr></table></figure><p><strong>Solution by marpet @ STEPForum</strong></p><p>This happens when you use Java 9 or 10. SNAP is not yet compatible with these Java versions<a href="https://forum.step.esa.int/t/building-snap-from-sources-errors-during-the-mvn-clean-install/10626" title="Building SNAP from sources : errors during the mvn clean install">13</a>.<br />You can either switch to Java 8, that’s what I would suggest, or you can change how Java is handling these incompatibility issues.</p><p>To switch between installed java versions, use the <code>update-java-alternatives</code> command<a href="https://askubuntu.com/questions/740757/switch-between-multiple-java-versions" title="Switch between multiple java versions">14</a>.</p><p>Installing Open JDK 8 on Debian or Ubuntu Systems<a href="https://docs.datastax.com/en/jdk-install/doc/jdk-install/installOpenJdkDeb.html" title="Installing Open JDK 8 on Debian or Ubuntu Systems">15</a>.</p><h4 id="snap-successly-installed-in-ubuntu"><a class="markdownIt-Anchor" href="#snap-successly-installed-in-ubuntu"></a> SNAP successly installed in Ubuntu</h4><p>Check post ‘<a href="https://mengyuchi.github.io/2022/04/14/Setup-and-Problem-Solving-in-WSL2/">Setup and Problem-Solving in WSL2</a>’ for details in SNAP install in WSL.</p><h3 id="add-breakpoints-in-python"><a class="markdownIt-Anchor" href="#add-breakpoints-in-python"></a> Add breakpoints in python</h3><p>The module pdb defines an interactive source code debugger for Python programs<a href="https://docs.python.org/3/library/pdb.html" title="pdb — The Python Debugger">10</a>.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs shell">yuchi@DESKTOP-C79LC47:/mnt/i/Software/snap2stamps/bin$ python -m pdb splitting_slaves.py project.conf<br><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">/mnt/i/Software/snap2stamps/bin/splitting_slaves.py(15)&lt;module&gt;()</span><br><span class="hljs-meta prompt_">-&gt; </span><span class="language-bash">import os</span><br>(Pdb) b splitting_slaves.py:78<br>Breakpoint 1 at /mnt/i/Software/snap2stamps/bin/splitting_slaves.py:78<br>(Pdb) c<br>/mnt/i/SAR/Data/Feng_Pei/project<br>/mnt/i/Software/snap2stamps/graphs<br>IW2<br>/mnt/c/&#x27;Program Files&#x27;/snap/bin/gpt.exe<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">####################################################################</span></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment"># TOPSAR Splitting and Apply Orbit</span></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">####################################################################</span></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">/mnt/i/Software/snap2stamps/bin/splitting_slaves.py(78)&lt;module&gt;()</span><br><span class="hljs-meta prompt_">-&gt; </span><span class="language-bash">k=k+1</span><br>(Pdb) p filename<br>*** NameError: NameError(&quot;name &#x27;filename&#x27; is not defined&quot;,)<br>(Pdb) p k<br>0<br>(Pdb) p slavefolder<br>&#x27;/mnt/i/SAR/Data/Feng_Pei/project/slaves&#x27;<br>(Pdb) p acdatefolder<br>&#x27;20150730&#x27;<br>(Pdb) p args<br>*** NameError: NameError(&quot;name &#x27;args&#x27; is not defined&quot;,)<br>(Pdb) p graphfolder<br>&#x27;/mnt/i/SAR/Data/Feng_Pei/project/graphs&#x27;<br>(Pdb)<br></code></pre></td></tr></table></figure><h4 id="error-7-unknown-element-usesuppliedshifts"><a class="markdownIt-Anchor" href="#error-7-unknown-element-usesuppliedshifts"></a> <em>Error 7 Unknown element ‘useSuppliedShifts’</em></h4><p>Error: [NodeId: Enhanced-Spectral-Diversity] Operator ‘SpectralDiversityOp’: Unknown element ‘useSuppliedShifts’</p><p><strong>Solution</strong></p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xquery">Try <span class="hljs-keyword">to</span> change <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">useSuppliedShifts</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">useSuppliedShifts</span>&gt;</span></span> <span class="hljs-keyword">to</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">useSuppliedRangeShift</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">useSuppliedRangeShift</span>&gt;</span></span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">useSuppliedAzimuthShift</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">useSuppliedAzimuthShift</span>&gt;</span></span> <span class="hljs-keyword">in</span> coreg_ifg_computation.xml file This <span class="hljs-keyword">option</span> <span class="hljs-literal">is</span> changed <span class="hljs-keyword">to</span> two attributes <span class="hljs-keyword">in</span> range <span class="hljs-keyword">and</span> azimute <span class="hljs-keyword">for</span> snap V.<span class="hljs-number">7</span>[<span class="hljs-number">16</span>]<br></code></pre></td></tr></table></figure><h4 id="error-8-java-heap-space-error"><a class="markdownIt-Anchor" href="#error-8-java-heap-space-error"></a> <em>Error 8 Java Heap Space Error</em></h4><p><strong>Solution</strong></p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">I upgraded my <span class="hljs-keyword">system</span> RAM <span class="hljs-built_in">from</span> <span class="hljs-number">8</span> Gb <span class="hljs-built_in">to</span> <span class="hljs-number">16</span> Gb.<br>I even tried increasing <span class="hljs-keyword">the</span> size <span class="hljs-keyword">of</span> xmx parameter <span class="hljs-built_in">to</span> <span class="hljs-number">32</span>Gb <span class="hljs-keyword">in</span> SNAP interface[<span class="hljs-number">17</span>].<br><br>Increasing <span class="hljs-keyword">the</span> available memory only has <span class="hljs-keyword">an</span> effect <span class="hljs-keyword">if</span> your PC has this amount <span class="hljs-keyword">of</span> RAM. It only defines how much <span class="hljs-keyword">of</span> your RAM can be used <span class="hljs-keyword">by</span> Java (SNAP <span class="hljs-keyword">in</span> this <span class="hljs-keyword">case</span>).<br>For example, <span class="hljs-keyword">if</span> you have <span class="hljs-number">8</span> GB <span class="hljs-keyword">of</span> RAM, increasing <span class="hljs-keyword">the</span> <span class="hljs-built_in">max</span> <span class="hljs-built_in">value</span> <span class="hljs-built_in">to</span> <span class="hljs-number">16</span> GB has no effect.<br>m <span class="hljs-keyword">in</span> this context stands <span class="hljs-keyword">or</span> megabytes <span class="hljs-keyword">and</span> <span class="hljs-keyword">the</span> values should ideally be <span class="hljs-keyword">a</span> multiple <span class="hljs-keyword">of</span> <span class="hljs-number">512</span>[<span class="hljs-number">18</span>].<br></code></pre></td></tr></table></figure><h4 id="error-9-process-stopped-at-20"><a class="markdownIt-Anchor" href="#error-9-process-stopped-at-20"></a> <em>Error 9 Process stopped at 20%</em></h4><p>/mnt/i/SAR/Data/Feng_Pei/project//split/20150730/20150730_IW2.dim<br />Processing slave file :20150730_IW2.dim</p><p>SNAP STDOUT:INFO: org.esa.snap.core.gpf.operators.tooladapter.ToolAdapterIO: Initializing external tool adapters<br />INFO: org.esa.s2tbx.dataio.gdal.GDALVersion: Incompatible GDAL 3.3.2 found on system. Internal GDAL 3.0.0 from distribution will be used.<br />INFO: org.esa.s2tbx.dataio.gdal.GDALVersion: Internal GDAL 3.0.0 set to be used by SNAP.<br />INFO: org.esa.snap.core.util.EngineVersionCheckActivator: Please check regularly for new updates for the best SNAP experience.<br />INFO: org.esa.s2tbx.dataio.gdal.GDALVersion: Internal GDAL 3.0.0 set to be used by SNAP.<br />Executing processing graph<br />INFO: org.hsqldb.persist.Logger: dataFileCache open start<br />INFO: org.esa.s1tbx.sentinel1.gpf.SpectralDiversityOp: Shifts written to file: /home/yuchi/.snap/var/log/IW2_range_shifts.json<br />INFO: org.esa.s1tbx.sentinel1.gpf.SpectralDiversityOp: Estimating azimuth offset for blocks in overlap: 1/6<br />INFO: org.esa.s1tbx.sentinel1.gpf.SpectralDiversityOp: Estimating azimuth offset for blocks in overlap: 2/6<br />INFO: org.esa.s1tbx.sentinel1.gpf.SpectralDiversityOp: Estimating azimuth offset for blocks in overlap: 3/6<br />INFO: org.esa.s1tbx.sentinel1.gpf.SpectralDiversityOp: Estimating azimuth offset for blocks in overlap: 4/6<br />INFO: org.esa.s1tbx.sentinel1.gpf.SpectralDiversityOp: Estimating azimuth offset for blocks in overlap: 5/6<br />INFO: org.esa.s1tbx.sentinel1.gpf.SpectralDiversityOp: Estimating azimuth offset for blocks in overlap: 6/6<br />INFO: org.esa.s1tbx.sentinel1.gpf.SpectralDiversityOp: Shifts written to file: /home/yuchi/.snap/var/log/IW2_azimuth_shifts.json<br />…10%…20%.<br />Finished process in 761.911759138 seconds.</p><p><strong>Solution</strong></p><h3 id="working-in-snap-desktop"><a class="markdownIt-Anchor" href="#working-in-snap-desktop"></a> Working in SNAP Desktop</h3><p>Work base on tutorial written by Amir Shafaei<a href="https://forum.step.esa.int/t/psi-using-snap-stamps-workflow-in-windows-subsystem-for-linux-wsl/23004" title="PSI using SNAP-STaMPS workflow in Windows Subsystem for Linux (WSL)">9</a>.</p><ul><li><p>Applying TOPSAR split and precise orbit on all the SLC data</p></li><li><p>Finding the master SLC: 28.10.2016</p></li><li><p>Making a Stack by back geocoding from the processed data while the master SLC is set at top of the table.<br />Radar&gt;Coregistration &gt;s1top Coregistration&gt; s1 back geocoding</p></li><li><p>TopSAR deburst<br />Radar &gt; sentinel 1 top &gt; S1 top deburst</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Land Subsidence</tag>
      
      <tag>InSAR</tag>
      
      <tag>Sentinel1-A</tag>
      
      <tag>PS-InSAR</tag>
      
      <tag>StaMPS-InSAR</tag>
      
      <tag>Xuzhou</tag>
      
      <tag>LiDO3</tag>
      
      <tag>snap2stamps</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Land subsidence in Xuzhou using Sentinel1A PS-InSAR in SARScape</title>
    <link href="/2022/04/07/Land-subsidence-in-Xuzhou-using-Sentinel1A-PS-InSAR-in-SARScape/"/>
    <url>/2022/04/07/Land-subsidence-in-Xuzhou-using-Sentinel1A-PS-InSAR-in-SARScape/</url>
    
    <content type="html"><![CDATA[<h1 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h1><p>Working step and parameter setting in SARscape.</p><span id="more"></span><h2 id="geocoding"><a class="markdownIt-Anchor" href="#geocoding"></a> Geocoding</h2><p>lat/lon 34.15’5.27&quot;N,117.11’10.17&quot;E</p><p>117.18564917852<br />34.245620476831</p><p>G_SI_velocity_geo in SBAS result<br />File: 3250.7017,3217.9978<br />Data: [-0.020012]</p><p>Stuck at Geocoding (mean), waiting for response! Pls!!</p><p><strong>Update: After change to NIVDA, process works again!</strong> Congrats! Keep Going!</p>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Land Subsidence</tag>
      
      <tag>InSAR</tag>
      
      <tag>Sentinel1-A</tag>
      
      <tag>PS-InSAR</tag>
      
      <tag>SARScape</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>StaMPS-InSAR research based on ENVISAT using LiDO3</title>
    <link href="/2022/04/05/StaMPS-InSAR-research-based-on-ENVISAT-using-LiDO3/"/>
    <url>/2022/04/05/StaMPS-InSAR-research-based-on-ENVISAT-using-LiDO3/</url>
    
    <content type="html"><![CDATA[<h1 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h1><p>This post is about working steps of StaMPS-InSAR using 13 ENVISAT images in LiDO3.</p><span id="more"></span><h2 id="stamps-insar"><a class="markdownIt-Anchor" href="#stamps-insar"></a> StamPS-InSAR</h2><p>StaMPS (Stanford Method for Persistent Scatterers) is a software package that implements an InSAR persistent scatterer (PS) method developed to work even in terrains devoid of man-made structures and/or undergoing non-steady deformation. StaMPS/MTI (Multi-Temporal InSAR) is an extended version of StaMPS that also includes a small baseline method and a combined multi-temporal InSAR method. The original development of StaMPS was undertaken at Stanford University, but subsequent development of StaMPS and StaMPS/MTI has taken place at the University of Iceland, Delft University of Technology, and the University of Leeds. There are also contributions from users of the package based at other institutions<a href="https://github.com/dbekaert/StaMPS" title="StaMPS - Stanford Method for Persistent Scatterers">1</a>.</p><p>StaMPS PS analysis is performed within MATLAB, using the main function stamps(), which takes the first and last StaMPS-step as main arguments. To run StaMPS complete with default arguments, use stamps(1,8)<a href="https://gitlab.com/Rexthor/gis-blog/-/blob/master/StaMPS/2-4_StaMPS-steps.md" title="StaMPS tutorial by Matthias Schloegl">2</a>.</p><h2 id="train"><a class="markdownIt-Anchor" href="#train"></a> Train</h2><p>The Toolbox for Reducing Atmospheric InSAR Noise - TRAIN - is developed in an effort to include current state of the art tropospheric correction methods into the default InSAR processing chain. Initial development was performed at the University of Leeds. The toolbox consists of a combination of command line scripts, shell scripts, and matlab scripts. More information on software is provided in Chapter 3. TRAIN is independent of the used InSAR processor, as long as the data convention is followed. The toolbox is compatible with the StaMPS software. Further initial efforts have been put to include TRAIN into the default -rate processing chain<a href="https://github.com/dbekaert/TRAIN" title="Bekaert, D.P.S., Walters, R.J., Wright, T.J., Hooper, A.J., and Parker, D.J. (2015c), Statistical comparison of InSAR tropospheric correction techniques, Remote Sensing of Environment, doi: 10.1016/j.rse.2015.08.035">3</a>.</p><h1 id="configuration"><a class="markdownIt-Anchor" href="#configuration"></a> Configuration</h1><ul><li><p>edit the StaMPS config file (e.g. via vim ./StaMPS/StaMPS_CONFIG.bash) to contain the correct paths to StAMPS, SNAPHU and triangle</p>  <figure class="highlight bash"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># set environment variables:</span><br><span class="hljs-built_in">export</span> STAMPS=<span class="hljs-string">&quot;/home/username/StaMPS&quot;</span><br><span class="hljs-built_in">export</span> SNAP2STAMPS=<span class="hljs-string">&quot;/home/username/snap2stamps&quot;</span><br>...<br><span class="hljs-comment">#if triangle and snaphu are not installed through the repositories (i.e. compiled locally):</span><br><span class="hljs-built_in">export</span> TRIANGLE_BIN=<span class="hljs-string">&quot;/home/username/software/triangle/bin&quot;</span><br><span class="hljs-built_in">export</span> SNAPHU_BIN=<span class="hljs-string">&quot;/home/username/software/snaphu/bin&quot;</span><br>...<br><span class="hljs-built_in">export</span> MATLABPATH=<span class="hljs-variable">$STAMPS</span>/matlab:`<span class="hljs-built_in">echo</span> <span class="hljs-variable">$MATLABPATH</span>`<br>...<br><span class="hljs-comment"># use points not commas for decimals, and give dates in US english</span><br><span class="hljs-built_in">export</span> LC_NUMERIC=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br><span class="hljs-built_in">export</span> LC_TIME=<span class="hljs-string">&quot;en_US.UTF-8&quot;</span><br>...<br><span class="hljs-built_in">export</span> SAR_TAPE=<span class="hljs-string">&quot;/dev/rmt/0mn&quot;</span><br>...<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$&#123;PATH&#125;</span>:<span class="hljs-variable">$STAMPS</span>/bin:<span class="hljs-variable">$MATLABPATH</span>:<span class="hljs-variable">$SNAP2STAMPS</span>/bin<br></code></pre></td></tr></table></figure></li><li><p>source the StaMPS config file upon opening terminal by adding it to your .bashrc</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># source StaMPS</span><br><span class="hljs-built_in">source</span> /home/username/StaMPS/StaMPS_CONFIG.bash<br></code></pre></td></tr></table></figure></li><li><p>do the same thing for your TRAIN (APS_toolbox) config file</p><ul><li>adjust path in the APS_CONFIG file</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> APS_toolbox=<span class="hljs-string">&quot;/home/username/TRAIN&quot;</span><br></code></pre></td></tr></table></figure><p>-source it upon opening a terminal</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># add TRAIN config</span><br><span class="hljs-built_in">source</span> /home/username/TRAIN/APS_CONFIG.sh<br></code></pre></td></tr></table></figure></li><li><p>install dependencies</p></li></ul><blockquote><p>gwak and tsch was already installed in LiDO3, thank god!</p></blockquote><h1 id="process"><a class="markdownIt-Anchor" href="#process"></a> Process</h1><h2 id="pre-stamps"><a class="markdownIt-Anchor" href="#pre-stamps"></a> Pre-stamps</h2><p>In Stamps official tutorial there is ‘INSAR_master_date’ folder, after search answers in STEP forum, we found the perfect resolution,</p><blockquote><p>I am about to start my step 4- PS processing the ‘PSI’ folder which i obtained from stamps export in windows environment has four folders in it ‘dem’, ‘diff0’, ‘geo’ and ‘rslc’. The following are my queries:</p></blockquote><blockquote><p>Can i proceed or should i rename any of the folders to proceed? In which path should i place this PSI folder?</p></blockquote><ul><li><p>Answer<a href="https://forum.step.esa.int/t/workflow-between-snap-and-stamps/3211/512" title="step forum @falahfakhri">4</a></p><p>1-move the ‘PSI’ folder to your Linux directory,</p><p>2- use the shell to create a new folder, (LINUX)</p><p>mkdir ~/INSAR_master_date</p><p>3- copy the folder ‘PSI’ into this folder ‘INSAR_master_date’</p><p>cp -/PSI -/INSAR_master_date</p><p>Now you’re ready to start as explained in the previous post.</p></li></ul><h2 id="pre-matlab-processing"><a class="markdownIt-Anchor" href="#pre-matlab-processing"></a> Pre-Matlab Processing</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">module avail</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">module matlab</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">matlab</span><br></code></pre></td></tr></table></figure><p>Working in LiDO3 with ThinLinc Client</p><p>cd /work/smyumeng/ENCISAT_project</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">source</span> /work/smyumeng/StaMPS/StaMPS_CONFIG.bash</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">module add matlab</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">mt_prep_snap 20070602 /work/smyumeng/ENVISAT_project/INSAR_20070602 0.4 3 2 50 200</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">$ mt_prep_snap 20070602 /work/smyumeng/ENVISAT_project/INSAR_20070602 0.42 2 2 50 200</span><br><br>working...<br><br><br></code></pre></td></tr></table></figure><h2 id="matlab"><a class="markdownIt-Anchor" href="#matlab"></a> Matlab</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; ps_info<br>  <span class="hljs-number">1</span>  <span class="hljs-number">17</span>-Jun<span class="hljs-number">-2006</span>     <span class="hljs-number">0</span> m<br>  <span class="hljs-number">2</span>  <span class="hljs-number">22</span>-Jul<span class="hljs-number">-2006</span>   <span class="hljs-number">757</span> m<br>  <span class="hljs-number">3</span>  <span class="hljs-number">26</span>-Aug<span class="hljs-number">-2006</span>   <span class="hljs-number">391</span> m<br>  <span class="hljs-number">4</span>  <span class="hljs-number">04</span>-Nov<span class="hljs-number">-2006</span>  <span class="hljs-number">-805</span> m<br>  <span class="hljs-number">5</span>  <span class="hljs-number">09</span>-Dec<span class="hljs-number">-2006</span>    <span class="hljs-number">18</span> m<br>  <span class="hljs-number">6</span>  <span class="hljs-number">17</span>-Feb<span class="hljs-number">-2007</span>  <span class="hljs-number">-245</span> m<br>  <span class="hljs-number">7</span>  <span class="hljs-number">28</span>-Apr<span class="hljs-number">-2007</span>  <span class="hljs-number">-168</span> m<br>  <span class="hljs-number">8</span>  <span class="hljs-number">02</span>-Jun<span class="hljs-number">-2007</span>   <span class="hljs-number">-87</span> m<br>  <span class="hljs-number">9</span>  <span class="hljs-number">07</span>-Jul<span class="hljs-number">-2007</span>  <span class="hljs-number">-261</span> m<br> <span class="hljs-number">10</span>  <span class="hljs-number">11</span>-Aug<span class="hljs-number">-2007</span>  <span class="hljs-number">-251</span> m<br> <span class="hljs-number">11</span>  <span class="hljs-number">15</span>-Sep<span class="hljs-number">-2007</span>   <span class="hljs-number">151</span> m<br> <span class="hljs-number">12</span>  <span class="hljs-number">20</span>-Oct<span class="hljs-number">-2007</span>  <span class="hljs-number">-277</span> m<br> <span class="hljs-number">13</span>  <span class="hljs-number">02</span>-Feb<span class="hljs-number">-2008</span>  <span class="hljs-number">-142</span> m<br>Number of stable-phase pixels: <span class="hljs-number">1364212</span><br></code></pre></td></tr></table></figure><h3 id="step-1-load-data"><a class="markdownIt-Anchor" href="#step-1-load-data"></a> Step 1: Load Data</h3><blockquote><p>Converts the data into the formats required for PS processing and stores them in matlab workspaces.</p></blockquote><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; stamps(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br><br>STAMPS: ########################################<br>STAMPS: ####### StaMPS/MTI Version <span class="hljs-number">4.0</span>b6 #######<br>STAMPS: #######  Beta version, Jun <span class="hljs-number">2018</span>  #######<br>STAMPS: ########################################<br><br>STAMPS: Will process current directory only<br><br>STAMPS: ########################################<br>STAMPS: ################ Step <span class="hljs-number">1</span> ################<br>STAMPS: ########################################<br>STAMPS: Directory is PATCH_1<br><br>...<br>Rotating by <span class="hljs-number">-10.9782</span> degrees<br>PS_LOAD_INITIAL_GAMMA: Finished<br>STAMPS: Finished<br></code></pre></td></tr></table></figure><h3 id="step-2-estimate-phase-noise"><a class="markdownIt-Anchor" href="#step-2-estimate-phase-noise"></a> Step 2: Estimate phase noise</h3><blockquote><p>This is an iterative step that estimates the phase noise value for each candidate pixel in every interferogram.</p></blockquote><p>Error in step2</p><blockquote><p>Index in position 1 is invalid. Array indices must be positive integers or logical values.</p><p>Error in ps_est_gamma_quick (line 236) ph_grid(grid_ij(i,1),grid_ij(i,2),:)=ph_grid(grid_ij(i,1),grid_ij(i,2),:)+shiftdim(ph_weight(i,:),-1);</p><p>Error in stamps (line 326)<br />ps_est_gamma_quick(est_gamma_parm);</p></blockquote><div class="code-wrapper"><pre><code class="hljs">Solution: You may try with this function I have modified time ago. I hope it works for you. [ps_load_initial_gamma.m](https://forum.step.esa.int/uploads/default/original/2X/6/66b076f51da0e68543126e37dccc38937f5806d6.m). It should be used on the stamps step 1. So before you override the current one on the stamps_v4.1b/matlab/ please make a backup. Then please run again the command stamps(1,1) so you re-run step1 to use this function Let me know if this helps[5].</code></pre></div><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; stamps(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br><br>...working<br><br>PS_EST_GAMMA_QUICK: gamma_change_change=<span class="hljs-number">0.000000</span><br>GETPARM: gamma_change_convergence=<span class="hljs-number">0.005</span> <br>GETPARM: gamma_max_iterations=<span class="hljs-number">3</span> <br>PS_EST_GAMMA_QUICK: Finished<br></code></pre></td></tr></table></figure><h3 id="step-3-ps-selection"><a class="markdownIt-Anchor" href="#step-3-ps-selection"></a> Step 3: PS selection</h3><p>Pixels are selected on the basis of their noise characteristics. This step also estimates the percentage of random (non-PS) pixels in a scene from which the density per km2 can be obtained.</p><p>Processing is controlled by the following parameters:</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; stamps(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)<br><br>STAMPS: ########################################<br>STAMPS: ####### StaMPS/MTI Version <span class="hljs-number">4.0</span>b6 #######<br>STAMPS: #######  Beta version, Jun <span class="hljs-number">2018</span>  #######<br>STAMPS: ########################################<br><br>working...<br><br>Warning: Not enough random phase pixels to set <span class="hljs-built_in">gamma</span> threshold - using default threshold of <span class="hljs-number">0.3</span> <br>&gt; In ps_select (line <span class="hljs-number">184</span>)<br>In stamps (line <span class="hljs-number">356</span>) <br>PS_SELECT: Initial <span class="hljs-built_in">gamma</span> threshold: <span class="hljs-number">0.300</span> at D_A=<span class="hljs-number">0.07</span> to <span class="hljs-number">0.300</span> at D_A=<span class="hljs-number">0.40</span><br>PS_SELECT: <span class="hljs-number">0</span> PS selected initially<br>PS_SELECT: Reestimation <span class="hljs-built_in">gamma</span> threshold: <span class="hljs-number">0.300</span> at D_A=<span class="hljs-number">0.07</span> to <span class="hljs-number">0.300</span> at D_A=<span class="hljs-number">0.40</span><br>PS_SELECT: <span class="hljs-number">0</span> ps selected after re-estimation of coherence<br>***No PS points left. Updating the stamps <span class="hljs-built_in">log</span> <span class="hljs-keyword">for</span> this****<br>PS_SELECT: Finished<br></code></pre></td></tr></table></figure><h3 id="step-4"><a class="markdownIt-Anchor" href="#step-4"></a> Step 4:</h3><p>No Aavailable PS points in every batch (1-6), still finding solution. If can not solve, then qiut ENVISAT PS processing in LiDO3.</p><p>Update: After setting <code>clap_beta</code> to 0.6, batch_3 resulted 6006 PS selected initally, so we reset parameter and redo stamps(1,5)</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure><h3 id="step5-8"><a class="markdownIt-Anchor" href="#step5-8"></a> Step5-8</h3><h3 id="matlab-plot"><a class="markdownIt-Anchor" href="#matlab-plot"></a> Matlab plot</h3><p>After stamps(1,8), we copy the file folder /work/smyumeng/ENVISAT_PS/ (except subfolder /INSAR_20070602) to windows H:\StaMPS_result\ENVISAT_PS_1 using WinSCP for further processing.</p><p>To equalize the source .bash command in Windows, we use addpath in matlab.</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; getparm<br><span class="hljs-string">&#x27;getparm&#x27;</span> is not found in the current folder or on the MATLAB path, but exists in:<br>    D:\Software\StaMPS-master\matlab<br><br># Change the MATLAB current folder or add its folder to the MATLAB path.<br><br>&gt;&gt; addpath <span class="hljs-string">&#x27;D:\Software\StaMPS-master\matlab&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="error-1"><a class="markdownIt-Anchor" href="#error-1"></a> <em>Error 1</em></h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs matlab">&gt;&gt; ps_plot(<span class="hljs-string">&#x27;v-do&#x27;</span>, <span class="hljs-string">&#x27;ts&#x27;</span>);<br>This is Envisat, oscilator drift is being removed... <br>Deramping computed on the fly. <br>**** z = ax + by+ c<br><span class="hljs-number">7224</span> ref PS selected<br>Unrecognized <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">or</span> <span class="hljs-title">variable</span> &#x27;<span class="hljs-title">nanmean</span>&#x27;.</span><br><br>Error in ps_plot (line <span class="hljs-number">1579</span>)<br>        ph_uw=ph_uw-<span class="hljs-built_in">repmat</span>(<span class="hljs-built_in">nanmean</span>(ph_uw(ref_ps,:),<span class="hljs-number">1</span>),n_ps,<span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure><p><strong>Solution</strong></p><p>Install all matlab toolbox!</p><h2 id="slurm"><a class="markdownIt-Anchor" href="#slurm"></a> Slurm</h2><p>This section is about test run for slurm to control batch jobs and cluster resources<a href="https://www.lido.tu-dortmund.de/cms/de/LiDO3/index.html" title="LiDO3 page">6</a>.</p><table><thead><tr><th>Queue</th><th>max. wlltime</th><th>remake</th></tr></thead><tbody><tr><td>short</td><td>02:00:00</td><td>/</td></tr><tr><td>med</td><td>08:00:00</td><td>/</td></tr><tr><td>long</td><td>2-00:00:00</td><td>/</td></tr><tr><td>ultralong</td><td>28-00:00:00</td><td>no GPU or “non-bolcking” nodes</td></tr><tr><td>testpart</td><td>02:00:00</td><td>use when instructed by LiDO3 administrators</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">cat</span> stamps_batch_script.sh</span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash -l</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --partition=med</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --nodes=4</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --ntasks-per-node=3</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --time=0:30</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --mem-per-cpu=100</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --job-name=stampsbatch</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --output=/work/smyumeng/project/ENVISAT/stampsbatch.out.txt</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --constraint=cstd01</span><br>srun <br><br><br><br></code></pre></td></tr></table></figure><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">$ <span class="hljs-keyword">sbatch </span>my_submit_script.<span class="hljs-keyword">sh</span><br><span class="hljs-keyword"></span><br>$ <span class="hljs-keyword">scontrol </span><span class="hljs-keyword">show </span><span class="hljs-keyword">job </span><span class="hljs-number">13891</span> <br></code></pre></td></tr></table></figure><h3 id="sbatch-to-run-jobs"><a class="markdownIt-Anchor" href="#sbatch-to-run-jobs"></a> SBATCH to run jobs</h3><blockquote><p>Script dir: /work/smyumeng/project/script</p></blockquote><ul><li>Create script to atuo run stamps jobs in LiDO.</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">[smyumeng@gw02 scripts]$ echo &gt; stamps_testrun.sh #create .sh file<br>[smyumeng@gw02 scripts]$ <br></code></pre></td></tr></table></figure><ul><li>Edit stamps_testrun.sh</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash -l</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --job-name=StampsTestRun</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --time=0-1:00:00</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --partition=short</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --constraint=cquad01|cgpu01</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ask <span class="hljs-keyword">for</span> ten compute cores on one compute node</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --nodes=6 --ntasks-per-node=1 --cpus-per-task=20</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --nodes=1 --ntasks-per-node=1 --cpus-per-task=20 <span class="hljs-comment">#One node for ENVISAT</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">memory requirement per core <span class="hljs-keyword">in</span> megabytes</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --mem-per-cpu=2G</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --output=/work/smyumeng/tmp/slurm_job</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --error=/work/smyumeng/tmp/slurm_job</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">send mail when <span class="hljs-built_in">jobs</span> starts, end, fails, gets requeued etc.</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --mail-type=ALL</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">SBATCH --mail-user=yuchi.meng@tu-dortmund.de</span><br><br><br>source /work/smyumeng/StaMPS/StaMPS_CONFIG.bash <br><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-built_in">cd</span> /work/smyumeng/ENCISAT_project/</span><br>module add matlab<br>srun matlab -nodisplay -nosplash -r &#x27;cd /work/smyumeng/ENVISAT_project/PATCH_1;stamps(1,5);quit&#x27;<br>srun matlab -nodisplay -nosplash -r &#x27;cd /work/smyumeng/ENVISAT_project/PATCH_2;stamps(1,5);quit&#x27;<br>srun matlab -nodisplay -nosplash -r &#x27;cd /work/smyumeng/ENVISAT_project/PATCH_3;stamps(1,5);quit&#x27;<br>srun matlab -nodisplay -nosplash -r &#x27;cd /work/smyumeng/ENVISAT_project/PATCH_4;stamps(1,5);quit&#x27;<br>srun matlab -nodisplay -nosplash -r &#x27;cd /work/smyumeng/ENVISAT_project/PATCH_5;stamps(1,5);quit&#x27;<br>srun matlab -nodisplay -nosplash -r &#x27;cd /work/smyumeng/ENVISAT_project/PATCH_6;stamps(1,5);quit&#x27;<br>echo &quot;executing SLURM_JOB_ID $SLURM_JOB_ID (SLURM_TASK_PID $SLURM_TASK_PID) on $SLURM_NODENAME&quot;<br>sleep 10<br>echo &quot;worker ($SLURM_NODENAME):stop&quot;<br>wait<br></code></pre></td></tr></table></figure><blockquote><p>Error:<br /><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">STAMPS: Will process current directory only<br>STAMPS: ########################################<br>STAMPS: ################ Step 1 ################<br>STAMPS: ########################################<br>STAMPS: Directory is scripts<br><br>PS_LOAD_INITIAL: Starting<br>PS_LOAD_INITIAL: Loading data into matlab...<br>&#123;Error using load<br>Unable to read file &#x27;../day.1.in&#x27;. No such file or directory.<br></code></pre></td></tr></table></figure></p></blockquote><blockquote><p>Solution:<br /><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">missset the working dir in matlab command<br></code></pre></td></tr></table></figure></p></blockquote><div class="code-wrapper"><pre><code class="hljs"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs shell">module add matlab<br>srun matlab -nodisplay -nosplash -r &#x27;cd /work/smyumeng/ENVISAT_project;stamps(1,5);quit<br></code></pre></td></tr></table></figure></code></pre>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>InSAR</tag>
      
      <tag>ENVISAT</tag>
      
      <tag>LiDO3</tag>
      
      <tag>Linux</tag>
      
      <tag>StaMPS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Getting into Land Subsidence Mornitoiring using ENVISAT Dataset</title>
    <link href="/2022/04/01/Getting-into-Land-Subsidence-Mornitoiring-useing-ENVISAT-Dataset/"/>
    <url>/2022/04/01/Getting-into-Land-Subsidence-Mornitoiring-useing-ENVISAT-Dataset/</url>
    
    <content type="html"><![CDATA[<h1 id="getting-into-land-subsidence-mornitoring-using-envisat-dataset"><a class="markdownIt-Anchor" href="#getting-into-land-subsidence-mornitoring-using-envisat-dataset"></a> Getting into Land Subsidence Mornitoring using ENVISAT Dataset</h1><p>This post is about knowladge build of land subsidence mornitoring using ENVISAT<a href="https://earth.esa.int/web/eoportal/satellite-missions/e/envisat" title="Basics of EnviSat (Environmental Satellite)">1</a> dataset.</p><span id="more"></span><p><img src="ENVISAT.png" alt="ENVISAT ASAR" /></p><p>(a) Illustration of ENVISAT ASAR geometry for the Wide-swath Mode, which consists of five narrow-swath beams, each covering a width between 70 and 100 km. Source: ESA 2002. The width of the wide-swath image is about 400 km. (b) Illustration and main terms of satellite SAR geometry. Source: Robinson 2004. Courtesy: Springer, Praxis Publishing Ltd<a href="https://www.researchgate.net/publication/263040396_Sea_Ice_Monitoring_by_Remote_Sensing" title="Sea Ice Monitoring by Remote Sensing">2</a>.</p><blockquote><p>@ABraun<a href="https://forum.step.esa.int/t/how-to-prepare-ers-envisat-images-stack-for-psi-in-snap5/6346/13" title="STEP fprum">3</a></p></blockquote><figure class="highlight mathematica"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><pre><code class="hljs mathematica"><span class="hljs-variable">Stripmap</span> <span class="hljs-variable">data</span> <span class="hljs-variable">is</span> <span class="hljs-variable">less</span> <span class="hljs-variable">difficult</span><span class="hljs-operator">,</span> <span class="hljs-variable">because</span> <span class="hljs-variable">you</span> <span class="hljs-variable">don</span><span class="hljs-operator">&#x27;</span><span class="hljs-variable">t</span> <span class="hljs-variable">need</span> <span class="hljs-built_in">Split</span><span class="hljs-operator">,</span> <span class="hljs-variable">Deburst</span><span class="hljs-operator">...</span><br><br><span class="hljs-built_in">For</span> <span class="hljs-variable">using</span> <span class="hljs-variable">ENVISAT</span> <span class="hljs-variable">in</span> <span class="hljs-variable">StaMPS</span> <span class="hljs-built_in">I</span> <span class="hljs-variable">recommend</span><br><br><span class="hljs-built_in">Subset</span> <span class="hljs-punctuation">(</span><span class="hljs-variable">if</span> <span class="hljs-variable">necessary</span><span class="hljs-punctuation">)</span><br><span class="hljs-built_in">Apply</span> <span class="hljs-variable">orbit</span> <span class="hljs-variable">file</span><br><span class="hljs-variable">coregistration</span> <span class="hljs-punctuation">(</span><span class="hljs-variable">one</span> <span class="hljs-variable">master</span><span class="hljs-operator">,</span> <span class="hljs-variable">multiple</span> <span class="hljs-variable">slaves</span><span class="hljs-punctuation">)</span><br><span class="hljs-variable">Interferogram</span> <span class="hljs-variable">generation</span> <span class="hljs-punctuation">(</span><span class="hljs-variable">including</span> <span class="hljs-variable">topographic</span> <span class="hljs-variable">phase</span> <span class="hljs-variable">removal</span><span class="hljs-punctuation">)</span><br><span class="hljs-variable">StaMPS</span> <span class="hljs-variable">export</span> <span class="hljs-variable">with</span> <span class="hljs-variable">the</span> <span class="hljs-variable">outcomes</span> <span class="hljs-variable">of</span> <span class="hljs-type">#3</span> <span class="hljs-variable">and</span> <span class="hljs-type">#4</span><br></code></pre></td></tr></table></figure><blockquote><p>So where do I download Envest images?</p></blockquote><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">here: https:<span class="hljs-regexp">//</span>esar-ds.eo.esa.int<span class="hljs-regexp">/oads/</span>access/collection<br></code></pre></td></tr></table></figure><blockquote><p>Which image mode should I download?</p></blockquote><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">IMS because <span class="hljs-keyword">it</span> has phase information.<br></code></pre></td></tr></table></figure><blockquote><p>Can I process different Tracks together?</p></blockquote><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-literal">no</span>, InSAR requires data <span class="hljs-keyword">from</span> the same track.<br></code></pre></td></tr></table></figure><h1 id="data-process"><a class="markdownIt-Anchor" href="#data-process"></a> Data Process</h1><h2 id="snap"><a class="markdownIt-Anchor" href="#snap"></a> SNAP</h2><ul><li><p>Apply orbit file</p></li><li><p>Subset for  ENVISAT dataset</p><p>North</p><p>West</p><p>South</p><p>East</p></li></ul><blockquote><p>POLYGON ((117.426 34.548, 116.711 34.548, 116.711 33.922, 117.426 33.922, 117.426 34.548))</p></blockquote><p><img src="subset1.png" alt="subset by SNAP" /></p><blockquote><p>POLYGON ((117.408 34.501, 117.408 33.922, 116.711 33.922, 116.711 34.501, 117.408 34.501))</p></blockquote><ul><li>Coregistration</li></ul><blockquote><p>Find optimal master, others options with default</p></blockquote><ul><li>Interferogram formation with topographic phase removal</li></ul><h2 id="stamps-insar"><a class="markdownIt-Anchor" href="#stamps-insar"></a> StamPS-InSAR</h2><p>StaMPS PS analysis is performed within MATLAB, using the main function stamps(), which takes the first and last StaMPS-step as main arguments. To run StaMPS complete with default arguments, use stamps(1,8)<a href="https://gitlab.com/Rexthor/gis-blog/-/blob/master/StaMPS/2-4_StaMPS-steps.md" title="StaMPS tutorial by Matthias Schloegl">4</a>.</p>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Land Subsidence</tag>
      
      <tag>Reposititory</tag>
      
      <tag>InSAR</tag>
      
      <tag>ENVISAT</tag>
      
      <tag>StamPS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Study of Present and future subsidence of the Vietnamese Mekong delta</title>
    <link href="/2022/03/31/Study-of-Present-and-future-subsidence-of-the-Vietnamese-Mekong-delta/"/>
    <url>/2022/03/31/Study-of-Present-and-future-subsidence-of-the-Vietnamese-Mekong-delta/</url>
    
    <content type="html"><![CDATA[<h1 id="the-sinking-mega-delta-present-and-future-subsidence-of-the-vietnamese-mekong-delta"><a class="markdownIt-Anchor" href="#the-sinking-mega-delta-present-and-future-subsidence-of-the-vietnamese-mekong-delta"></a> The sinking mega-delta: Present and future subsidence of the Vietnamese Mekong delta</h1><span id="more"></span><p>The propose of this bolg is to understand and take notes during the study of a PhD dissertation entitled The sinking mega-delta: Present and future of the Vietamese Mekong delta<a href="https://dspace.library.uu.nl/handle/1874/375843" title="Minderhoud, Philip Simon Johannes. The sinking mega-delta: Present and future subsidence of the Vietnamese Mekong delta, (2019) Utrecht Studies in Earth Sciences, volume 168 (Dissertation)">1</a>,written by Minderhoud, Philip Simon Johannes (2019) Utrecht Studies in Earth Sciences.</p><h2 id="summary"><a class="markdownIt-Anchor" href="#summary"></a> Summary</h2><blockquote><p>The delta is impacted by <strong>decreased fluvial sediment supply</strong>, <strong>salinization</strong>, <strong>coastal erosion</strong> and <strong>global sea-level rise</strong>. On top of that, <strong>annual subsidence</strong> rates up to several centimeters per year cause the Mekong delta to rapidly lose elevation, which increases its vulnerability to <strong>flooding</strong>, <strong>salinization</strong>, <strong>storm surges</strong>, <strong>coastal erosion</strong> and, ultimately, threatens the delta with permanent <strong>inundation</strong>.</p></blockquote><blockquote><p>Land subsidence in deltas can be caused by a range of natural and human-induced mechanisms. Examples of natural processes are natural compaction of unconsolidated sediment, tectonics and isostasy. Human activities in deltas can enhance natural subsidence or create additional anthropogenic subsidence. Human-induced drivers of subsidence are, for example, artificial<br />loading by infrastructure and buildings, phreatic groundwater table lowering and fluid and hydrocarbon extraction from the deeper subsurface (e.g., groundwater, oil or gas). All these drivers result in subsidence of the delta surface.</p></blockquote><p>To create projections of future subsidence and support the development of mitigation and adaptation strategies for sinking deltas, it is a prerequisite to understand driving mechanisms and processes of subsidence and to quantify their individual contribution.</p><p>The main 8objective* of the research of this thesis is to understand and <em>quantify</em> the <strong>main natural and human-induced drivers</strong> and <strong>processes</strong> causing subsidence, and its <strong>impact on current and future surface elevation</strong> of the Vietnamese Mekong delta.</p><p>To reach this objective, the research was subdivided into three steps:<br />- <em>determine</em> the <strong>present elevation</strong> of the delta above local mean sea level,<br />- <em>quantify</em> the <strong>individual contribution of main subsidence mechanisms</strong>,<br />- <em>assess</em> <strong>future subsidence</strong> and the <strong>impact of consequent relative sealevel rise</strong>.</p><p>The results from this thesis aim to provide a knowledge base on delta subsidence that may facilitate well-informed decision-making and development of sustainable and effective mitigation and adaptation strategies in the Mekong delta and deltas elsewhere in the world facing accelerating rates of relative sea-level rise.</p><p>During past decades, following the transformation of Vietnam to an open-market economyin 1986 (Doi Moi), the Mekong delta experienced large-scale anthropogenic land-use changes as a result of <strong>increased agricultural production</strong>, <strong>population growth</strong> and <strong>urbanization</strong>.</p><p>As <strong>land-use changes</strong> can alter the <strong>hydrological system</strong> or increase loading of the delta surface, they may amplify natural subsidence processes or create new anthropogenic subsidence.</p><p><strong>Lowest mean subsidence rates</strong> were found for less-human impacted land-use classes, like marshland and wetland forest (6-7 mm/yr), and highest rates for areas with mixed-crop agriculture and cities (18-20 mm/yr). The strength of the relationship between current land use, land-use history and subsidence was assessed by the ability to predict subsidence<br />rates during the measurement period solely by land-use history, after initial training of all land-use sequences with InSAR-derived subsidence rates.</p><p><strong>Urbanization</strong> and <strong>intensification of agriculture</strong> and aquaculture led to a strong increase in groundwater use.</p><p>Two dominant mechanisms are responsible for causing subsidence and subsequent elevation loss at the scale of the entire Mekong delta:<br />1) compaction of shallow Holocene sediments by natural sediment loading, enhanced by human loading and drainage, and predominantly causing high subsidence rates near the coast and 2) extraction-induced subsidence following groundwater overexploitation from the deeper subsurface.</p><h1 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h1><p>During the last century, humans have dramatically modified the natural dynamics of deltas, and put additional pressures on them (Fig. 1.1).</p><p><img src="fig1.1.png" alt="Changes italic and consequences bold in mordern urbanizing deltas" /></p><h2 id="natureal-subsidence-drivers-and-processes"><a class="markdownIt-Anchor" href="#natureal-subsidence-drivers-and-processes"></a> Natureal subsidence drivers and processes</h2><p>Subsidence can result from a variety of natural processes associated with Earth’s crust dynamics, such as <strong>tectonic movement</strong>, <strong>isostatic adjustment</strong>, and compaction of unconsolidated sediments under natural loading (by e.g. sediments, biomass, water or ice) (Fig 1.2).</p><h2 id="human-induced-subsidence-drivers-and-processes"><a class="markdownIt-Anchor" href="#human-induced-subsidence-drivers-and-processes"></a> Human-induced subsidence drivers and processes</h2><p>Human activities in deltas can enhance natural subsidence processes or create additional anthropogenic subsidence (Fig. 1.2). Shallow compaction processes can be accelerated by increasing load at the delta surface by infrastructure and buildings or by phreatic groundwater table lowering through excessive drainage.</p><p><img src="fig1.2.png" alt="Main drivers and process of subsidence in a deltaic system" /></p><h2 id="research-objectives-and-approaches"><a class="markdownIt-Anchor" href="#research-objectives-and-approaches"></a> Research objectives and approaches</h2><p>This research aimed to enhance the <strong>quantitative</strong> understanding of <strong>drivers</strong>, <strong>mechanisms</strong> and <strong>processes</strong> causing land subsidence in deltas, and building on these insights, to predict future subsidence rates to improve assessments of relative sea-level.</p><p>The main objective of this research is:<br />&gt; To <em>understand</em> and <em>quantify</em> the <strong>main natural</strong> and <strong>human-induced drivers</strong> and <strong>processes</strong> causing subsidence, and its <strong>impact</strong> on <em>current</em> and <em>future</em> surface elevation of the Vietnamese Mekong delta.</p><p>In the <em>first</em> step, the <strong>current elevation</strong> of the Mekong delta to local sea level is quantified as this determines the vulnerability of a delta system to relative sea-level rise and the relative impact of delta subsidence (Chapter 2).</p><p>The <em>second step</em> consists of a <strong>quantification</strong> of the <strong>contribution</strong> of potential <strong>causes</strong> of delta subsidence (Chapter 3-5, 7).</p><p>The <em>third step</em> is to <em>evaluate</em> <strong>future delta subsidence</strong> following different <strong>groundwater management scenarios</strong> and the impact of consequent relative sea-level rise on the Mekong delta (Chapter 6-7).</p><p><em>Step 1: Determining the current elevation of the delta</em></p><blockquote><ul><li>How high is the Mekong delta surface presently elevated above local mean sea level?</li></ul></blockquote><p><em>Step 2: Quantifying the individual contribution of main subsidence mechanisms</em></p><blockquote><ul><li>How much natural compaction occurs at present in the Holocene deposits of the Mekong delta following delta progradation?</li><li>Is land subsidence related to land use in the Mekong delta? Is there a spatial correlation, and which are the causal mechanisms?</li><li>How much land subsidence in the Mekong delta has been caused by increased groundwater extraction during the past decades?</li><li>Which drivers and processes are predominantly causing present-day subsidence in the Mekong delta?</li></ul></blockquote><p><em>Step 3: Future subsidence of the delta and the impact of relative sea-level rise</em></p><blockquote><ul><li>By how much may the Mekong delta subside in the coming century as a result of groundwater extraction, and how much of this subsidence can be mitigated?</li><li>Can restoring natural deposition of Mekong river sediment compensate the elevation loss by subsidence of the delta?</li><li>When will certain parts of the delta fall below sea level in the coming century?</li></ul></blockquote><p>The impact of past, present and future groundwater extraction in the Mekong delta was assessed by creating the first 3D hydrogeological numerical model of an entire mega-delta which could resolve both the hydrogeological and geotechnical response of the multi-aquifer system, using a 1D subsidence module.</p><h2 id="data-and-methods"><a class="markdownIt-Anchor" href="#data-and-methods"></a> Data and Methods</h2><h3 id="spaceborne-elevation-model-srtm-dem"><a class="markdownIt-Anchor" href="#spaceborne-elevation-model-srtm-dem"></a> Spaceborne elevation model: SRTM DEM</h3><blockquote><p>Th e Shuttle Radar Topography Mission (SRTM) Digital Elevation Model (DEM) was created from phase-diff erence measurements of interferometric synthetic aperture radar (InSAR) collected in February 2000 and was the fi rst near-global topography product for the Earth acquired in a consistent way<a href="https://dspace.library.uu.nl/handle/1874/375843" title="Minderhoud, Philip Simon Johannes. The sinking mega-delta: Present and future subsidence of the Vietnamese Mekong delta, (2019) Utrecht Studies in Earth Sciences, volume 168 (Dissertation)">1</a>.</p></blockquote><blockquote><p>The SRTM DEM is a digital surface model, describing the elevation of the Earth’s surface including objects at the surface, like buildings and vegetation. Th erefore, the SRTM DEM has a tendency to overestimate actual ground surface elevation. Th ere are diff erent versions of the SRTM DEM available and efforts have been made to optimize the SRTM DEM, for example through vegetation removal.</p></blockquote><blockquote><p>As this paper aims to assess the effect of using a basic version of the SRTM DEM for SLR assessments, we also selected a readily downloadable and widely-used version of the SRTM DEM without performing postprocessing corrections. We used the SRTM Plus (or void-filled) DEM version 3.0 with an one-arc second grid, approximately ~30 x 30 m and a vertical resolution of 1 meter.</p></blockquote><h3 id="spaceborne-elevation-model-merit-dem"><a class="markdownIt-Anchor" href="#spaceborne-elevation-model-merit-dem"></a> Spaceborne elevation model: MERIT DEM</h3><blockquote><p>The high-accuracy global MERIT DEM (Multi-Error-Removed Improved-Terrain DEM) was developed by removing major error components, i.e. absolute bias, stripe noise, speckle noise, and tree height bias from existing DEMs.</p></blockquote><h1 id="the-role-of-sedimentation-and-natural-compaction-in-a-prograding-delta"><a class="markdownIt-Anchor" href="#the-role-of-sedimentation-and-natural-compaction-in-a-prograding-delta"></a> The role of sedimentation and natural compaction in a prograding delta</h1>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Land Subsidence</tag>
      
      <tag>InSAR</tag>
      
      <tag>LULC</tag>
      
      <tag>Vietname</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Words in InSAR Research</title>
    <link href="/2022/03/23/Words-in-InSAR-Research/"/>
    <url>/2022/03/23/Words-in-InSAR-Research/</url>
    
    <content type="html"><![CDATA[<h1 id="words-in-insar-research"><a class="markdownIt-Anchor" href="#words-in-insar-research"></a> Words in InSAR Research</h1><p>This post is about every new words about InSAR during research, and it’s references!</p><span id="more"></span> <h2 id="new-word"><a class="markdownIt-Anchor" href="#new-word"></a> New Word</h2><p><img src="brick.jpg" alt="word_brick" title="word" /></p><table><thead><tr><th>Word</th><th>Meaning</th><th>Chinese</th><th>Example</th></tr></thead><tbody><tr><td><a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1">retain</a></td><td><ul><li>to keep or continue to have something</li><li>If a substance retains something, such as heat or water, it continues to hold or contain it.</li></ul></td><td>保留，保持，保有 <br><br> 保存；留住；容纳</td><td>SBAS-InSAR techniques can overcome the limitations of DInSAR to some degree by analyzing the pixels that <strong>retain</strong> stable scattering characteristics in a time series to obtain ground deformation information.</td></tr><tr><td><a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1">preliminary</a></td><td><ul><li><em>adj</em> coming before a more important action or event, especially introducing or preparing for it</li><li><em>noun</em> an event or action that introduces or prepares for something else</td><td>初步的，起始的；预备的 <br></br> 开端活动，初步行动</td><td>Then, the development of land subsidence in BTH was <strong>preliminarily</strong> investigated.</td></tr><tr><td><a href="(https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1)">suppress</a></td><td><ul><li>to end something by force</li><li>to prevent something from being seen or expressed or from operating</li></ul></td><td>（用武力）镇压，压制，制止<br></br>抑制，忍住，压抑；查禁</td><td>First, the low-pass filtering in the spatial domain is used to <strong>suppress</strong> the noise phase from the residual.</td></tr><tr><td><a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1">superpose</a></td><td><ul><li> to lay or place on, over, or above something else</li><li> <em>Geometry</em> to make (one figure) coincide with another in all parts, by or as if by placing one on top of the other</li></ul></td><td>vt. 放在上面,重叠</td><td>Thirdly, we <strong>superpose</strong> the non-linear phase to the linear phase to acquire the complete deformation phase.</td></tr><tr><td><a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1">alleviate</a></td><td><ul><li> <strong>VERB</strong> If you alleviate pain, suffering, or an unpleasant condition, you make it less intense or severe.</li><li></td><td>vt. 减轻, 缓解, 缓和</td><td>Since the MSWDP began operation in 2015, the urban water supply has been <strong>alleviated</strong>, and land subsidence has been slowed to some degree.</td></tr><tr><td><a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1">fluctuation</a></td><td><em>NOUN</em> <ul><li>continual change from one point or condition to another </li><li> wavelike motion; undulation </li><li> <em>Genetics</em> a body variation due to environmental factors and not inherited</td><td>变动, &lt;行市&gt; 混乱 <br></br>波动,起伏,涨落</td><td>In Figure 14, the groundwater level shows a drop with a significant <strong>fluctuation</strong> trend, especially in wells h to j.</td></tr><tr><td><a href="https://www.tandfonline.com/doi/full/10.1080/15481603.2016.1227297">resultant</a></td><td><em>ADJECTIVE</em> <ul><li> that results; following as a consequence </li><li> resulting from two or more forces or agents acting together </li></ul><ul><li> <em>NOUN</em> </li><li> something that results; result </li><li> <em>Physics</em> a force, velocity, etc. with an effect equal to that of two or more such forces, etc. acting together</li></ul></td><td><em>形容词</em>  作为结果而产生的 <br></br> 合成的 <br></br> <em>物理</em> 合力 <br></br> <em>可数名词</em> <br></br> 结果[of] <br></br> <em>物理</em>合力,合成运动 <br></br> <em>数学</em>结式</td><td>Doppler separations are below the threshold values, which depend on data availability for the specific application and the expected rate of decorrelation for the given terrain, ensures that the <strong>resultant</strong> network of image pairs contains no isolated clusters</td></tr><tr><td><a href="https://dspace.library.uu.nl/handle/1874/375843">fluvial</a></td><td><em>ADJECTIVE</em> of, relating to, or occurring in a river</td><td>1 河川的 <br></br>因河流的作用而形成的</td><td>The delta is impacted by decreased <strong>fluvial</strong> sediment supply, salinization, coastal erosion and global sea-level rise.</td></tr><tr><td><a href="https://dspace.library.uu.nl/handle/1874/375843">sediment</a></td><td><em>VARIABLE NOUN</em> Sediment is solid material that settles at the bottom of a liquid, especially earth and pieces of rock that have been carried along and then left somewhere by water, ice, or wind.</td><td>沉淀物,渣 <br></br> 『地质』沉积物</td><td>The delta is impacted by decreased fluvial <strong>sediment</strong> supply, salinization, coastal erosion and global sea-level rise.</td></tr><tr><td><a href="https://dspace.library.uu.nl/handle/1874/375843">inundation</a></td><td><ul><li> <em>VERB</em> If you say that you are inundated with things such as letters, demands, or requests, you are emphasizing that you receive so many of them that you cannot deal with them all. </li><li> <em>VERB</em> [usually passive] If an area of land is inundated, it becomes covered with water.</td><td>泛滥,淹水,洪水 <br></br> 充满,涌到[of]an ~ of letters ( 雪片般) 涌到的信函</td><td>which increases its vulnerability to flooding, salinization, storm surges, coastal erosion and, ultimately, threatens the delta with permanent <strong>inundation</strong>.</td></tr><tr><td><a href="https://github.com/dbekaert/StaMPS/tree/master/Manual">iterative</a></td><td><ul><li>repetitious or frequent</li><li>mathematics, logic another word for <em>recursive</em></li><li>grammar another word for frequentative</li></ul></td><td><em>adj.</em> 重复的<br></br>反复的<br></br>迭代的</td><td>This is an <strong>iterative</strong> step that estimates the phase noise value for each candidate pixel in every interferogram.</td></tr><tr><td><a href="">sparse</a></td><td><em>ADJECTIVE</em> Something that is sparse is small in number or amount and spread out over an area.</td><td>&lt;&lt;形容词&gt;&gt; &lt;人口等&gt; 稀疏的,稀少的 <br></br> &lt;头发、树丛等&gt; 稀疏的</td><td>Unfortunately, as many deltas around the world are located in data <strong>sparse</strong> regions, high-accuracy elevation data is often not available, or - when existing - not publicly accessible.</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Landuage</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Reposititory</tag>
      
      <tag>InSAR</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Intro for Land Subsidence</title>
    <link href="/2022/03/21/Intro-for-Land-Subsidence/"/>
    <url>/2022/03/21/Intro-for-Land-Subsidence/</url>
    
    <content type="html"><![CDATA[<h1 id="introduction-for-land-subsidence"><a class="markdownIt-Anchor" href="#introduction-for-land-subsidence"></a> Introduction for Land Subsidence</h1><blockquote><p><strong>Land subsidence</strong>, with decreasing land elevation, has become an important environmental geological phenomenon<span id="more"></span>, and a common urban geological disaster in many large cities. More than 150 cities all over the world have endured land subsidence with rates up to tens of centimeters per year<a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1" title="Chaofan Zhou, Huili Gong. Land Subsidence Response to Different Land Use Types and Water Resource Utilization in Beijing-Tianjin-Hebei, China">1</a>.</p><p>Land subsidence is a slow, long-term geological disaster. It can be caused by natural compaction and human activities. However, most subsidence is caused by anthropogenic activities, including the exploitation of groundwater, oil, and other fluid and solid resources. In fact, the most common cause of land subsidence is the excessive extraction of groundwater<a href="https://www.tandfonline.com/doi/full/10.1080/15481603.2016.1227297" title="Chaofan Zhou, Huili Gong. Land Subsidence under different land use in the eastern Beijing Plain, China 2005-2013 revealed by InSAR timeseries analysis">2</a>.</p><p>Current land subsidence monitoring techniques include leveling, GPS (global positioning system), and synthetic aperture radar interferometry (InSAR). Although leveling and GPS techniques provide precise measurements, they are very <em>time consuming</em>.</p></blockquote><p>Land subsidence increases the risk of <em>environmental</em> and <em>structural hazards</em> such as <strong>seawater intrusion</strong>; <strong>building</strong>, <strong>bridge</strong>, <strong>road</strong>, and <strong>pipe destruction</strong>; and <strong>inaccurate leveling</strong>.</p><p>The Vietnamese Mekong delta is subsiding due to a combination of <strong>natural and human-induced causes</strong><a href="https://pubmed.ncbi.nlm.nih.gov/29649716/" title="Minderhoud PSJ, Coumou L, Erban LE, Middelkoop H, Stouthamer E, Addink EA. The relation between land use and subsidence in the Vietnamese Mekong delta. Sci Total Environ. 2018 Sep 1;634:715-726. doi: 10.1016/j.scitotenv.2018.03.372">3</a>. Over the past several decades, large-scale anthropogenic land-use changes have taken place as a result of increased agricultural production, population growth and urbanization in the delta. Land-use changes can alter the hydrological system or increase loading of the delta surface, amplifying natural subsidence processes or creating new anthropogenic subsidence.</p><h2 id="insar-and-dinsar"><a class="markdownIt-Anchor" href="#insar-and-dinsar"></a> InSAR and DInSAR</h2><p>Compared with these methods (<strong>GPS</strong>, <strong>leveling</strong>), the InSAR technique can obtain a wide range of surface deformation information and its monitoring precision is high, reaching the millimeter scale. In the differential InSAR technique (D-InSAR), land displacement is calculated in the radar <strong>line of sight (LOS)</strong> direction of a satellite (or an airplane) by computing the phase difference between two temporally separated SAR images.</p><p>GPS/leveling is a term covering the efficient determination of physical heights (orthometric, normal, or normalorthometric) based on GNSS-positioning technologies and the geoid.</p><p><strong>Leveling</strong>, however, is a time consuming and expensive technology, and additionally its practical applicability requires the establishment and maintenance (periodic remeasurement) of large continental to national scale infrastructure of height reference networks<a href="http://www.diva-portal.org/smash/get/diva2:420783/FULLTEXT01.pdf" title="Ambrus Kenyeres. GPS/Leveling">4</a>.</p><h3 id="advantage-and-disadvantage"><a class="markdownIt-Anchor" href="#advantage-and-disadvantage"></a> Advantage and Disadvantage</h3><blockquote><p>Compared with traditional earth observation methods, such as global positioning system (GPS), leveling, and layer-wise mark measurement, Interferometric Synthetic Aperture radar (InSAR) is a new earth observation technique used to obtain ground deformation information<a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1" title="Chaofan Zhou, Huili Gong. Land Subsidence Response to Different Land Use Types and Water Resource Utilization in Beijing-Tianjin-Hebei, China">1</a>.</p><p>Synthetic Aperture Radar differential interferometry (DInSAR), which was developed from the InSAR technique, has the advantages of wide coverage, working on <em>all-weather conditions</em>,  and <em>high-precision</em> monitoring of ground deformation. However, the DInSAR technique is limited by <em>spatial</em> and <em>temporal decorrelation</em>, <em>atmospheric errors</em>, <em>orbit errors</em>, and <em>terrain errors</em>. The <strong>Persistent scatterer InSAR (PS-InSAR)</strong> and <strong>Small Baseline Subset InSAR (SBAS-InSAR)</strong> techniques can overcome the limitations of DInSAR to some degree by analyzing the pixels that retain stable scattering characteristics in a time series to obtain ground deformation information.</p><p>Moreover, the SBAS-InSAR technique can reduce the decorrelation influence by recognizing good coherence pixels without strong backscatter and then obtaining time series deformation.</p></blockquote><h3 id="ps-insar-and-sbas-insar"><a class="markdownIt-Anchor" href="#ps-insar-and-sbas-insar"></a> PS-InSAR and SBAS-InSAR</h3><p>However, this calculation contains <em>atmospheric errors</em>, <em>orbit errors</em>, and <em>terrain errors</em>. To overcome these limitations, permanent scatterer interferometry (PSI) and small baseline subset (SBAS) interferometry were used to monitor land subsidence.</p><p><strong>PSI</strong> can analyze the scattering characteristics of permanent scatterer (PS) points for extracting the surface deformation information.</p><p><strong>SBAS</strong> selects interferograms with small spatial and temporal baselines that are substantially coherent to improve the accuracy of the deformation monitoring.</p>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Land Subsidence</tag>
      
      <tag>Reposititory</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Correlation between LULC and Land Subsidence</title>
    <link href="/2022/03/18/Correlation-between-LULC-and-Land-Subsidence/"/>
    <url>/2022/03/18/Correlation-between-LULC-and-Land-Subsidence/</url>
    
    <content type="html"><![CDATA[<h1 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h1><p>To understand the correlation between LULC and Land Subsidence.</p><span id="more"></span><h1 id="investigation-on-the-correlation-between-land-subsidence-and-lulc"><a class="markdownIt-Anchor" href="#investigation-on-the-correlation-between-land-subsidence-and-lulc"></a> Investigation on the correlation between land subsidence and LULC</h1><h2 id="background"><a class="markdownIt-Anchor" href="#background"></a> Background</h2><p>To understand the correlation between LULC and Land Subsidence.</p><blockquote><p><em><strong>Previous</strong></em> studies carried out in a regional-scale might be useful for estimating the correlation between land subsidence and groundwater extraction, but inadequate for local safety management as subsidence may vary over different areas with detailed characters<a href="https://ieeexplore.ieee.org/document/8519236" title="Zheyuan Du; Linlin Gu. INVESTIGATION ON THE CORRELATION BETWEEN THE SUBSIDENCE PATTERN AND LAND USE IN BANDUNG, INDONESIA WITH BOTH SENTINEL-1/2 AND ALOS-2 SATELLITE IMAGES.">1</a>.</p><p>The study is foused promarily on subsidence pheomenon in local, can patchy scales, repectively with <strong>Sentinel-1</strong> dataset acquired from May 2017 and November 2021.</p><p>In order to undetstand the subsidence in a more systematic way, some -20cm <strong>subsidence zones</strong> have been selected and analyzed.</p><p>Further analyses conducted over <strong>multiple scales</strong> show that <em>industrial usage</em> of groundwater is not always the dominant factor that causes the land subsidence and indeed it does not always create large land subsidence either. Regions experiencing subsidence is due to a combined impact of a number of factors, e.g., <em>residential</em>, <em>industrial</em> or <em>agricultural activities</em>.</p></blockquote><p>Several types of land subsidence could be expected to occur in xuzhou region.</p><!-- more --><h2 id="aim-of-this-study"><a class="markdownIt-Anchor" href="#aim-of-this-study"></a> Aim of this study</h2><ul><li><p>analyse the spatial pattern of horizontal movement with both descending and ascending pairs.</p></li><li><p>quantify the rate and magnitude of land subsidence over subsiding zones during 3year period.</p></li><li><p>investgate spatially explicit variations in selected hot-spot regions,</p></li></ul><h2 id="dataset-and-methodology"><a class="markdownIt-Anchor" href="#dataset-and-methodology"></a> Dataset and Methodology</h2><p>131 C-Band Sentinel-1A image (Orb-142 Frame-106 Ascending) from May 2017 to Nov. 2021 were exploited to map the land subsidence in Xuzhou City, Jiangsu, China.</p><p>Figure 1 depict the sentinel-1A based mean velocity maps in LOS direction from ascending mode as regards to the regional-scale land subsidence in Xuzhou. The displacement results are resampled to a grid of <strong>30 * 30 m</strong>.</p><p><img src="subsidence.jpg" alt="subsidence map in xuzhou" /></p><p><img src="Correlatoin.jpg" alt="correlation between the PS point measurements within ROI" /></p><blockquote><p>As xuzhou is a very large metropolitan, in order to study the local subsidence throughly, the ideal way is to segregate the entire ROI into target sub-zones.</p><p>Hence, the local council can deal with these zones separately, and this could also help these organizations to achieve the maximum efficiency.</p></blockquote><p>Many researchers selected the targeted zones with <strong>rectangle- or quadrilateral- window</strong> over areas suffering from the largest subsidence. Nevertheless, as the sinking phenomenon is  correlated in the spatial domain, the sub-regions suffering from the land subsidence are more likely to be in an <em><strong>oval or round shape</strong></em>. Contour maps can be used to outline the precise boundaries of these subsiding zones, and it is introduced following <strong>three-step GIS-based interpolation processes</strong>: 1) a good number of characteristic points are extracted from the original Sentinel-1 derived MVM in vertical direction, 2) smoother mean velocity map (SMVM) is generated with these characteristic points, and 3) the 2-cm-interval contour map can be finally estimated from SMVM.</p><p><em><strong>Contour Map</strong></em></p><p><em><strong>most severe subsidence bowls</strong></em></p><blockquote><p>To exam the land-use types corresponding to each subsiding zone, MLC is exploited to classify the corresponding optical image acquired from <strong>Sentinel-2A</strong> with the <strong>resolution of 20 m</strong>. The classification result is demonstrated in Figure 5 (b), and the entire region is primarily categorised into four classes: i) <em><strong>residential usage</strong></em>, ii) <em><strong>industrial usage</strong></em>, iii) <em><strong>agricultural usage</strong></em>, as well as iv) <em><strong>vegetation</strong></em>.</p></blockquote><blockquote><p>As the MS pixels only exist over regions categorised as classes i and ii, the subsequent analysis thus primarily focused on these two classes.</p></blockquote><h1 id="land-subsidence-response-to-different-land-use-type-in-bth"><a class="markdownIt-Anchor" href="#land-subsidence-response-to-different-land-use-type-in-bth"></a> Land Subsidence response to Different Land Use Type in BTH</h1><blockquote><p>In this paper, an <strong>interferometric point target analysis (IPTA)</strong> with <strong>small baseline subset InSAR (SBAS-InSAR)</strong> technique was used to derive the land subsidence<a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1" title="Chaofan Zhou; Huili Gong. Land Subsidence Response to Different Land Use Types and Water Resource Utilization in Beijing-Tianjin-Hebei, China">2</a>.</p><p>The analysis reveals that the <strong>average subsidence rate</strong> reached <em>118 mm/year</em> from 2012 to 2018. <em>Eleven subsidence features</em> were identified.</p><p>Comparing the different types of land use in subsidence feature areas, the results show that when the land-use type is relatively more complex and superimposed with residential, industrial and agricultural land, the land subsidence is relatively more significant.</p><p>Moreover, the land subsidence development patterns are different in the BTH areas because of the dfferent methods adopted for their water resource development and utilization, with an imbalance in their economic development levels. Finally, we found that the subsidence changes are consistent with groundwater level changes and there is a lag period between land subsidence and groundwater level changes of approximately two months.</p></blockquote><h2 id="research-content"><a class="markdownIt-Anchor" href="#research-content"></a> Research Content</h2><blockquote><p>In this paper<a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1" title="Chaofan Zhou; Huili Gong. Land Subsidence Response to Different Land Use Types and Water Resource Utilization in Beijing-Tianjin-Hebei, China">2</a>, <em><strong>the Interferometric Point Target Analysis (IPTA)</strong></em> with <strong>SBAS-InSAR</strong> technique was used to derive the land subsidence in the <em>BTH</em> region from 2012 to 2018 with 126 Radarsat-2 and 184 Sentinel-1 images. Then, the development of land subsidence in BTH was <strong>preliminarily investigated</strong>. On this basis, we analyzed the <strong>spatial and temporal evolution characteristics of typical subsidence features</strong> . Finally, we discussed the <strong>land subsidence response to different land use types</strong> and <strong>water resource utilization in typical subsidence features</strong>.</p></blockquote><h3 id="data-source"><a class="markdownIt-Anchor" href="#data-source"></a> Data Source</h3><h4 id="sentinel-1a"><a class="markdownIt-Anchor" href="#sentinel-1a"></a> Sentinel-1A</h4><blockquote><p>Sentinel-1 as the first satellite developed by the European Commission (EC) and the European Space Agency (ESA) for the Copernicus global earth observation project which launched in April 2014. This satellite carries a C-band SAR, with a revisit period of 12 days. For this paper, we chose an Interferometric Wide swath (IW) imaging mode with a medium resolution (5 m * 20 m).</p></blockquote><h4 id="dem"><a class="markdownIt-Anchor" href="#dem"></a> DEM</h4><blockquote><p>The external DEM data we selected are the Shuttle Radar Topography Mission DEM (SRTM DEM) data with 90 m resolution.</p></blockquote><h4 id="groundwater-monitoring-well"><a class="markdownIt-Anchor" href="#groundwater-monitoring-well"></a> Groundwater Monitoring Well</h4><blockquote><p>Furthermore, we chose the groundwater monitoring wells near the subsidence features, to compare subsidence changes with groundwater level changes. Because we only had permission to obtain the groundwater level before 2015, only the subsidence obtained by Radarsat-2 from 2012 to 2015 is included in this analysis.</p></blockquote><h3 id="results-in-bth"><a class="markdownIt-Anchor" href="#results-in-bth"></a> Results in BTH</h3><p>In Figure , Zhou and Gong<a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1" title="Chaofan Zhou; Huili Gong. Land Subsidence Response to Different Land Use Types and Water Resource Utilization in Beijing-Tianjin-Hebei, China">2</a> find that the spatial distribution of the land subsidence rates in Beijing is quite different. The <strong>annual subsidence</strong> increased from 2012 to 2013, during which the maximum subsidence increased from 120 mm to 148 mm. The <strong>maximum subsidence</strong> decreased from 148 mm in 2016 to 106 mm in 2018. Furthermore, the <strong>area of land subsidence</strong> exceeding 50 mm (Figure) is calculated and four subsidence features (Figure) are identified.</p><p><img src="result1.jpg" alt="Subsidence results" /></p><p>From 2012 to 2014, the <strong>area of land subsidence over 50 mm</strong> shows an increasing trend from 308 km<sup>2</sup> to 374 km<sup>2</sup> even though the <strong>maximum subsidence</strong> decreased from 148 in 2013 to 131 in 2014. After 2014, the <strong>area of land subsidence over 50 mm</strong> and the <strong>annual subsidence</strong> especially show a <em>decreasing</em> trend.</p><p>As seen in figure above, the <strong>subsidence</strong> in the Jinzhan and Heizhuanghu area shows a <em>similar trend</em>, which <em>increased</em> from 2012 to 2013 and <em>decreased</em> from 2013 to 2018. Significantly, this <strong>subsidence</strong> was maintained at approximately 40 mm from 2012 to 2018 in the Beijing Airport area, so we should pay attention to its development.</p><p>Nevertheless, although the land subsidence decreased, but the <strong>subsidence range in space</strong> did not decrease.</p><h3 id="accuracy-assessemtn-of-insar-resules-and-leveling-data"><a class="markdownIt-Anchor" href="#accuracy-assessemtn-of-insar-resules-and-leveling-data"></a> Accuracy Assessemtn of InSAR Resules and Leveling Data</h3><blockquote><p>To evaluate the <em>accuracy</em> between the <strong>InSAR-derived subsidence</strong> from the Radarsat-2 and Sentinel-1 data and the <strong>leveling data</strong>, we converted the InSAR results into vertical displacements using a <em>trigonometric equation</em> and neglected the horizontal component of movement.</p></blockquote><p><img src="leveling.jpg" alt="InSAR result and Leveling Data" /></p><h3 id="discussion"><a class="markdownIt-Anchor" href="#discussion"></a> Discussion</h3><h4 id="land-subsidence-with-different-land-use-type"><a class="markdownIt-Anchor" href="#land-subsidence-with-different-land-use-type"></a> Land Subsidence with different land use type</h4><p>As seen in Figure and Table, the land-use in subsidence features of Xuzhou is relatively complex<a href="https://www.mdpi.com/2072-4292/12/3/457?type=check_update&amp;version=1" title="Chaofan Zhou; Huili Gong. Land Subsidence Response to Different Land Use Types and Water Resource Utilization in Beijing-Tianjin-Hebei, China">2</a>. The maximun subsidence is in XXX areas exceeds 100 mm/year. In Yunlong area, the <em>dense residential land</em> and <em>high population density</em> in the area lead to a considerable water demand.</p><p>As for Feng-Pei county, the <em>dense population</em> as well as <em>agricultural and industrial lands</em> there all result in an increasing demand of water and furture aggravation of land subsidence. A large number of water-consuming plants and crops are planted in this region, and 85% of the well water is used for residents’ lives and agricultured production.</p><p>Unlike the Feng-Pei area, Gulou mainly fouces on industry, mainly the coal industry, in particular, involves high water consumption industry. Industry with high water consumption may leads to the serious development of land subsidence in this area.</p><blockquote><p>The serious land subsidence could affect the urban public facilities, transportation and buildings, such as the damage of urban underground pipe network, the instability of railway subgrade and cracks of buildings.</p></blockquote><p><em><strong>Remote Sensing Image of Different Area</strong></em></p><h4 id="land-subsidence-response-to-different-water-use"><a class="markdownIt-Anchor" href="#land-subsidence-response-to-different-water-use"></a> Land Subsidence Response to different water use</h4><p>As seen in Figure, we found that the different area rely on different water supply. Xuzhou supplied water mainly from the <em>groundwater</em>, while the Feng-Pei mainly supplied <em>suface water</em>.</p><p>From the poing of view of water consumption, Xuzhou needs more water for residential use, while Feng-Pei need mire water for agricultrual use. The water for residential use in Xuzhou showed an <em>increasing trend</em>.</p><blockquote><p>In summary, after 2015, the exploitation of underground water decreased and the supply of surface water increased, which slowed the land subsidence in BTH.</p></blockquote><p><img src="water.jpg" alt="Water Resources utilization" /></p><h5 id="the-reason-that-behind-groundwater-level-fluctuation"><a class="markdownIt-Anchor" href="#the-reason-that-behind-groundwater-level-fluctuation"></a> The reason that behind groundwater level fluctuation</h5><p>The <strong>groundwater level</strong> is the <em>lowest</em> around May to August in wells h to j, possibly because these wells are located in Hengshui of the Hebei area, which is one of the national grain bases.</p><p>Because the irrigation period of this crop is February and March, and the precipitation is lower at this time, the groundwater exploitation volume is large, and the groundwater level drops significantly.</p><p>Furthermore, the comparison results of land subsidence changes and groundwater level changes reveal that the subsidence changes are <em>consistent</em> with the groundwater level changes, showing a <em>seasonal trend</em>. Meanwhile, we found that there is a <em>time lag</em> between land subsidence and groundwater level.</p><h5 id="time-lag-investigation-betweeb-subsidence-change-and-grooundwater-level-change"><a class="markdownIt-Anchor" href="#time-lag-investigation-betweeb-subsidence-change-and-grooundwater-level-change"></a> Time lag investigation betweeb subsidence change and grooundwater level change</h5><p>Furthermore, we applied the <strong>IRF method</strong> to investigate the lag time between subsidence change and groundwater level change. The <strong>ADF test</strong> and <strong>IRF results</strong> are shown in Table 3 and Figure 14, respectively. It can be seen from Figure 15 that groundwater level change has an <em>obvious effect</em> on land subsidence at each subsidence feature, and this effect has a lag effect.</p><p><img src="orthogonal_impulse_response.jpg" alt="Orthogonal impulse response" /></p><h3 id="conclusions"><a class="markdownIt-Anchor" href="#conclusions"></a> Conclusions</h3><p>Because of the rapid growth of <strong>population</strong> and the <strong>development of industry</strong> and <strong>agriculture</strong> in BTH, the <strong>regional water demand</strong> is huge. However, the over-exploitation of groundwater in the BTH is obvious due to the shortage of water resources, which leads to the serious land subsidence in BTH. The serious subsidence in BTH resulted in the elevation loss, damage of roads, bridges, underground pipes and other municipal facilities, urban flooding and hydrops.</p><h1 id="land-subsidence-under-different-land-use-in-the-eastern-beijing-plain"><a class="markdownIt-Anchor" href="#land-subsidence-under-different-land-use-in-the-eastern-beijing-plain"></a> Land Subsidence under Different Land Use in the Eastern Beijing Plain</h1><p>This paper is organized as follows. We first present the <strong>location and geological settings</strong> of Beijing plain, followed by the <strong>data</strong> and <strong>method</strong> used in this study. After we summarize the <strong>settlement information</strong> obtained using SBAS technique and compare our results with <strong>leveling observations</strong> in our study area, we present the <em>distribution characteristics</em> of <strong>land subsidence</strong> under <strong>different land use</strong> . We then discuss the <em>causes</em> of <strong>subsidence</strong> and why the settlement occurred only in these specific locations . Finally, we give some conclusions of this paper<a href="https://www.tandfonline.com/doi/full/10.1080/15481603.2016.1227297" title="Chaofan Zhou, Huili Gong. Land Subsidence under different land use in the eastern Beijing Plain, China 2005-2013 revealed by InSAR timeseries analysis">3</a>.</p><h2 id="data-source-2"><a class="markdownIt-Anchor" href="#data-source-2"></a> Data Source</h2><p>In this paper, we have two part of SAR data, one is 47 <strong>ENVISAT ASAR</strong> ascending orbit images via June 2003 and August 2010, another is 29 <strong>RADARSAT-2</strong> images which were acquired from the descending orbit between November 2010 and September 2014.</p><p>We used <strong>Advanced Spaceborne Thermal Emission and Reflection Radiometer Global Digital Elevation Model (ASTER GDEM)</strong> data of 30 m to <em>remove the topographic phase</em> for ENVISAT ASAR during SBAS interferometry. The topographic phase was removed using <strong>Shuttle Radar Topography Mission Digital Elevation Model (SRTM DEM)</strong> data of 90 m for RADARSAT-2 during IPTA.</p><table><thead><tr><th>SAR Data</th><th>ASTER GDEM(mm/a)</th><th>SRTM DEM(mm/a)</th></tr></thead><tbody><tr><td>ENVISAT ASAR</td><td>0.523</td><td>0.529</td></tr><tr><td>RADARSAT-2</td><td>1.506</td><td>1.205</td></tr></tbody></table><p>To classify the land use in the Laiguangying and Dongbalizhuang - Dajiaoting land subsidence areas, we used <strong>optical Google Earth image</strong> in 2005. The groundwater information for 200 - 2013 is acquired from <strong>four groundwater level monitoring wells</strong> located in the study areas.</p><h2 id="data-processing"><a class="markdownIt-Anchor" href="#data-processing"></a> Data Processing</h2><h3 id="sbas"><a class="markdownIt-Anchor" href="#sbas"></a> SBAS</h3><p>SBAS was originally proposed by Berardino et al<a href="https://ieeexplore.ieee.org/document/1166596" title="P. Berardino, G. Fornaro, R. Lanari and E. Sansosti. A new algorithm for surface deformation monitoring based on small baseline differential SAR interferograms, in IEEE Transactions on Geoscience and Remote Sensing, vol. 40, no. 11, pp. 2375-2383, Nov. 2002, doi: 10.1109/TGRS.2002.803792">4</a>. The StaMPS SBAS method minimizes the separation in time and the Doppler frequency range of the acquisition pairs to maximize the correlation of the interferograms formed. Selecting image pairs whose perpendicular, temporal, and Doppler separations are below the threshold values, which depend on data availability for the specific application and the expected rate of decorrelation for the given terrain, ensures that the resultant network of image pairs contains no isolated clusters.</p><h3 id="ipta"><a class="markdownIt-Anchor" href="#ipta"></a> IPTA</h3><ul><li>Master image selection</li><li>Image registreation</li><li>Image differential interference processing</li><li>Interferometric point target extraction</li><li>Phase unwarpping</li><li>Residual phase removal</li><li>Deformation calculation</li></ul><h2 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h2><h3 id="time-series-land-subsidence"><a class="markdownIt-Anchor" href="#time-series-land-subsidence"></a> Time Series land subsidence</h3><p>The land subsidence rate maps generated from the ENVISAT ASAR and RADARSAT-2 data are shown in Figure, respectively. The results indicated that the <em>spatial distribution</em> of the land subsidence rates varies widely.</p><p>For 2005 - 2010, we detected 13,107 SFP pixels through the SBAS technique; the maximum mean land subsidence rate reached 32.11 mm/a and the minimum mean land subsidence rate reached 7.3 mm/a. For 2011 - 2013, we detected 56,626 PS points through the IPTA method; the mean land subsidence rate ranged from 143.43 to 8.2 mm/a.</p><p><img src="subsidence2.jpg" alt="Land subsidence rates from 2005 to 2013 in the study area." /></p><p>Land subsidence areas showed <em>uneven distribution characteristics</em>. The research area is located in the key <strong>mining area of groundwater</strong>, and the land-use type is rich, which maybe leads to the uneven development trend of land subsidence from 2005 to 2013.</p><h3 id="sbas-accuracy-assessment"><a class="markdownIt-Anchor" href="#sbas-accuracy-assessment"></a> SBAS accuracy assessment</h3><p>To ensure the accuracy of SBAS and IPTA monitoring data, we compared land subsidence results, respectively, derived by SBAS and IPTA with <strong>level monitoring</strong> results.</p><p>Here, we chose PS points (the SFP points of the SBAS method) within 100 m of the leveling benchmarks, and we averaged the displacement values around the benchmarks.</p><p><img src="comparison.jpg" alt="Comparison between SBAS-derived and IPTA-derived land subsidence and leveling measurements." /></p><p>As seen, there is great agreement between SBAS, IPTA, and leveling measurements. However, certain error between the two measurement results is inevitable.</p><p>The correlation coefficient (the confidence level at 95%) was 0.945 for 2006, 0.98 for 2007, 0.995 for 2011, and 0.994 for 2012.</p><h3 id="spatial-characteristics-of-land-subsidence-in-different-land-use"><a class="markdownIt-Anchor" href="#spatial-characteristics-of-land-subsidence-in-different-land-use"></a> Spatial characteristics of land subsidence in different land use</h3><p><img src="Characteristic.jpg" alt="Spatial characteristics of land subsidence in the Laiguangying land subsidence area presented according to the different land uses" /></p><h3 id="subsidence-due-to-groundwater-in-agricultural-and-industrial-areas"><a class="markdownIt-Anchor" href="#subsidence-due-to-groundwater-in-agricultural-and-industrial-areas"></a> Subsidence due to groundwater in agricultural and industrial areas</h3><p>The groundwater level in the Beijing plain rapidly decreased because of the large amount of groundwater extraction that led to land subsidence. From 2003, with the rapid development<br />and increasing groundwater exploitation in the eastern suburbs of Beijing, the regional groundwater level was gradually reduced, leading to an expansion of the groundwater overdraft area, and the groundwater level decline increasing year after year.</p><p>Unfortunately, most detailed information about groundwater mining in recent years in Beijing is not publically accessible. Therefore, in this study, we only had groundwater<br />information for 2005 - 2013 from four groundwater level monitoring wells located in the study areas.</p><p>The land subsidence trend was consistent with the dynamic change of the groundwater level, the groundwater level was in a state of continuous decline, and the ground subsidence was continuously increasing.</p>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Land Subsidence</tag>
      
      <tag>InSAR</tag>
      
      <tag>LULC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>InSAR Basics</title>
    <link href="/2022/03/18/InSAR-Basics/"/>
    <url>/2022/03/18/InSAR-Basics/</url>
    
    <content type="html"><![CDATA[<p>InSAR Basic</p><h1 id="whats-sar-insar"><a class="markdownIt-Anchor" href="#whats-sar-insar"></a> Whats SAR InSAR</h1><span id="more"></span><h1 id="insar-tutorials-and-courses"><a class="markdownIt-Anchor" href="#insar-tutorials-and-courses"></a> InSAR Tutorials and Courses</h1><blockquote><p>The <a href="https://scihub.copernicus.eu/">official site</a> of Sentinel.</p></blockquote><p>But there are a lot of other ones, in case the official one is not suitbale for you.</p><p>There are lots of tutorials and courses<a href="https://forum.step.esa.int/t/sentinel1a-1w-slc-issv-poducts-free-downloads/22904/3" title="STEP Forum">4</a></p><blockquote><p><a href="http://step.esa.int/main/doc/tutorials/">ESA tutorials</a><br /><a href="https://rus-copernicus.eu/portal/the-rus-library/learn-by-yourself/">Copernicus Research and User Support (RUS)</a> (RUS lectures)<br /><a href="http://polarimetrycourse2019.esa.int/">ESA polarimetry course 2019</a><br /><a href="http://landtraining2019.esa.int/">ESA Land Training 2019</a><br /><a href="https://asf.alaska.edu/how-to/data-recipes/data-recipe-tutorials/">ASF data recipes</a><br /><a href="https://eo-college.org/resources">Echoes in Space</a> (free registration required)<br /><a href="https://eo4society.esa.int/training-education/">EO4Society</a><br /><a href="https://earthdata.nasa.gov/learn/user-resources/webinars-and-tutorials">NASA webinars and tutorials</a><br /><a href="https://arset.gsfc.nasa.gov/">NASA ARSET</a><br /><a href="https://www.ll.mit.edu/outreach/introduction-radar-systems">MIT lecture</a><br /><a href="https://radar.community.uaf.edu/">UAF lecture</a><br /><a href="https://sar-tutor-en.iosb.fraunhofer.de/">SARTutor</a>(login: student, pw: student)<br /><a href="https://www.nrcan.gc.ca/maps-tools-publications/satellite-imagery-air-photos/tutorial-fundamentals-remote-sensing/9309">NRCan</a><br /><a href="https://site.tre-altamira.com/insar/">TRE ALTAMIRA</a></p></blockquote><p>Youtube channels:</p><blockquote><p><a href="https://www.youtube.com/channel/UCR_W9FE-AxRHeOQr-hocHqg">ESA SNAP</a><br /><a href="https://www.youtube.com/channel/UCka-UP2X3y3JpJRRvARzEhQ">Echoes in Space</a><br /><a href="https://www.youtube.com/channel/UCEhAhlYOmRLMXkTzZIUZVKw">Remote Sensing &amp; GIS</a><br /><a href="https://www.youtube.com/user/ziom19831">MrGIS</a><br /><a href="https://www.youtube.com/channel/UCmgsOOq1_sfK6R21DAHFI2A">Geo2004</a><br /><a href="https://www.youtube.com/channel/UCB01WjameYMvL7-XfI8vRIA">RUS Copernicus</a></p></blockquote><h1 id="sbas-insar"><a class="markdownIt-Anchor" href="#sbas-insar"></a> SBAS-InSAR</h1><p><strong>Small baseline differential interferograms generation</strong></p><p>The differential interferometric phase is as follows:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>φ</mi><mrow><mi>d</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>φ</mi><mrow><mi>d</mi><mi>e</mi><mi>f</mi></mrow></msub><mo>+</mo><msub><mi>φ</mi><mrow><mi>t</mi><mi>o</mi><mi>p</mi><mi>o</mi></mrow></msub><mo>+</mo><msub><mi>φ</mi><mrow><mi>a</mi><mi>t</mi><mi>m</mi></mrow></msub><mo>+</mo><msub><mi>φ</mi><mrow><mi>o</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>φ</mi><mrow><mi>n</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>e</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\varphi_{dint} = \varphi_{def}+\varphi_{topo}+\varphi_{atm}+\varphi_{orbit}+\varphi_{noise}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8694379999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8694379999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.28055599999999997em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>where <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>φ</mi><mrow><mi>d</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\varphi_{dint}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the differential interferometric phase, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>φ</mi><mrow><mi>d</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\varphi_{def}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> is the deformation phase including the line deformation and non-line deformation phases, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>φ</mi><mrow><mi>t</mi><mi>o</mi><mi>p</mi><mi>o</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\varphi_{topo}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.28055599999999997em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> is the topographic phase, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>φ</mi><mrow><mi>a</mi><mi>t</mi><mi>m</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\varphi_{atm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the atmpspheric phase, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>φ</mi><mrow><mi>o</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\varphi_{orbit}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the orbit phase, and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>φ</mi><mrow><mi>n</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>e</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\varphi_{noise}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the noise phase.</p><h2 id="interferometric-point-analysis"><a class="markdownIt-Anchor" href="#interferometric-point-analysis"></a> Interferometric point analysis</h2><blockquote><p>The <strong>residual phase</strong> includes the atmospheric, non-linear deformation, and noise phases.</p><p>The <strong>non-linear phase</strong> shows a high correlation in the spatial domain, while the atmospheric delay shows a high correlation in the spatial domain and low correlation in the temporal domain.</p><p><strong>Noise</strong> shows a low correlation in both the spatial and temporal domains.</p></blockquote><h3 id="low-pass-and-high-pass-filter"><a class="markdownIt-Anchor" href="#low-pass-and-high-pass-filter"></a> Low-pass and High-pass filter</h3><blockquote><p>First, the <em>low-pass</em> filtering in the <strong>spatial domain</strong> is used to suppress the noise phase from the residual. Secondly, in the <strong>temporal domain</strong>, the <em>low-pass</em> filtering is again used for spatially filtered residual phases to <em><strong>identify the non-linear phase</strong></em>. Thirdly, we superpose the non-linear phase to the linear phase to acquire the complete deformation phase. Finally, <em>phase unwrapping</em> is used to acquire the deformation with point targets.</p></blockquote><h2 id="ps-insar"><a class="markdownIt-Anchor" href="#ps-insar"></a> PS-InSAR</h2><blockquote><p>The PS technique is one of the multi-temporal Differential interferometric Synthetic Aperture Radar (DInSAR) techniques which is based on the basic principles of the interferometry<a href="https://www.sarmap.ch/tutorials/PS_v56.pdf" title="PS tutorial for SARscape">1</a>.</p></blockquote><p>The PS technique is based on:</p><blockquote><ul><li>the identification of <strong>point targets</strong> (single pixels or group of pixels) which are <strong>radiometrically stable in time</strong>. The point targets are characterized by <strong>strong reflection (high backscatter)</strong> and <strong>high coherence</strong> in the observation period. Radiometrically stable targets are <strong>urban infrastructures</strong> (buildings, bridges, greenhouses, dams, metallic features, etc) or <strong>natural objects</strong> (outcrops, exposed rocks etc.).</li><li>the availability of a <strong>high number of input images</strong> for the pixel coherence estimation. The larger the number of acquisitions the better the reliability and quality of the measured PS deformation (in terms of displacement and velocity) and their temporal evolution. A minimum of 20 acquisitions are needed to perform PS analysis to obtained reliable results<a href="https://ieeexplore.ieee.org/document/898661" title="Permanent scatterers in SAR interferometry">2</a>.</li><li>the <strong>linear model</strong> used as assumption to derive the estimate deformations. Non-linearity can be detected if the displacement between two consecutive acquisitions does not exceed λ/4.</li></ul></blockquote><blockquote><p>The better the reference Digital Elevation Model accuracy/resolution the better the result in terms of <strong>topography removal</strong>.</p></blockquote><blockquote><p>The selection of the <strong>stable ground control point</strong> is based on the identification of a defined number of candidates (by default 5 in SARscape). The candidate’s selection is based on the <strong>Amplitude Dispersion Index (D)</strong>, which is defined as</p></blockquote><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mo>=</mo><mi>D</mi><mo>=</mo><mi>μ</mi><mi mathvariant="normal">/</mi><mi>σ</mi></mrow><annotation encoding="application/x-tex">D=D=\mu/\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span></span></p><blockquote><p>Where μ is the temporal amplitude mean value for the single pixel and σ is the temporal standard deviation. Once the candidates are identified, for each one of them <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>H</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">H&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>V</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">V&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> and temporal coherence are computed. The candidate restituting the highest temporal coherence is select as the stable ground control point.</p></blockquote><blockquote><p>Once the Reference Points are identified, a linear model is used to estimate the residual height (H’) and displacement velocity (V’) from all the re-flattened interferograms and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>H</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">H&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>V</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">V&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> are computed for each pixel.</p></blockquote><blockquote><p>The velocity, height, coherence and displacements are computed without atmospheric compensation.</p></blockquote><blockquote><p>The atmospheric component has <strong>high spatial correlation</strong> and <strong>low temporal correlation</strong>, to estimate the atmospheric effect, the Second Inversion is performed.</p></blockquote><p><img src="ps_insar.jpg" alt="Logical workflow for the PS module" /></p><h3 id="stamps-insar"><a class="markdownIt-Anchor" href="#stamps-insar"></a> StaMPS-InSAR</h3><p>Processing is controlled by the following parameters<a href="https://gitlab.com/Rexthor/gis-blog/-/blob/master/StaMPS/2-4_StaMPS-steps.md" title="gis bolg: StaMPS-InSAR">3</a>:</p><table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><em>max_topo_err</em></td><td>20 (10)</td><td>Maximum uncorrelated DEM error (in m). Pixels with uncorrelated DEM error greater than this will not be picked. This includes error due to the phase center of the resolution element being off-set from the middle of the pixel in range). Setting this higher, however, increases the mean <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span></span></span></span> value (coherence-like measure) of pixels that have random phase. Typical values are around 10 m.</td></tr><tr><td><em>filter_grid_size</em></td><td>50</td><td>Pixel size of grid (in m). Candidate pixels are resampled to a grid with this spacing before filtering to determine the spatially-correlated phase. <br></br> First, the noise term must be isolated in order to assess the phase stability. To do this, the first four terms on the right side of equation <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>φ</mi><mrow><mi>d</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>φ</mi><mrow><mi>d</mi><mi>e</mi><mi>f</mi></mrow></msub><mo>+</mo><msub><mi>φ</mi><mrow><mi>t</mi><mi>o</mi><mi>p</mi><mi>o</mi></mrow></msub><mo>+</mo><msub><mi>φ</mi><mrow><mi>a</mi><mi>t</mi><mi>m</mi></mrow></msub><mo>+</mo><msub><mi>φ</mi><mrow><mi>o</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>φ</mi><mrow><mi>n</mi><mi>o</mi><mi>i</mi><mi>s</mi><mi>e</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\varphi_{dint} = \varphi_{def}+\varphi_{topo}+\varphi_{atm}+\varphi_{orbit}+\varphi_{noise}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8694379999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8694379999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.28055599999999997em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> are estimated for each point and subtracted from the measured phase. The first three and parts of the fourth term are <strong>spatially correlated</strong> and can be estimated using <strong>adaptive bandpass filtering</strong>. This <strong>bandpass filtering</strong> is based on the combination of a <strong>simple low pass filter</strong> with an <strong>adaptive filter</strong> in the <strong>frequency domain</strong>, wherein the transfer function of the adaptive part of the filter is calculated on the basis of the smoothed data spectrum. The construction of this adaptive filter portion is based on the <strong>Goldstein phase filter</strong>. For the application of this filter technique, the irregular grid of the provisionally selected points must be transformed to a regular grid, whereby the grid width must be sufficiently small, so that over an element of this grid no strong variation in the phase takes place (typical values would be 40 to 100 m). The filter works like the Goldstein filter on individual sections of the image (windowed Fourier transformation).</td></tr><tr><td><em>filter_weighting</em></td><td>‘P-square’</td><td>Candidate pixels are weighted during resampling according to this scheme. P-squared was found to be better. <br></br></td></tr><tr><td><em>clap_win</em></td><td>32</td><td><strong>CLAP (Combined Low-pass and Adaptive Phase)</strong> filter window size (pixel x pixel). Depending on over what distance pixels are expected to remain spatially correlated. Together with filter grid size, determines the area included in the spatially-correlated phase estimation. <br></br> The 2-D FFT is applied to a grid size of typically 32 x 32 or 64 x 64 cells, depending on over what distance we expect pixels to remain spatially correlated.</td></tr><tr><td><em>clap_alpha</em></td><td>1</td><td>Weighting parameter for <strong>phase filtering</strong> (CLAP <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span> term). Together with the <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span> term, determines the relative contribution of the low-pass and adaptive phase elements to the CLAP filter.  <br></br>  The adaptive phase filter response, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H(u,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span>, is combined with a narrow low-pass filter response, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(u,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span>, to form the new filter response, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>+</mo><mi>β</mi><msup><mrow><mo fence="true">(</mo><mfrac><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><mrow><mover accent="true"><mi>H</mi><mo stretchy="true">~</mo></mover><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>−</mo><mn>1</mn><mo fence="true">)</mo></mrow><mi>α</mi></msup></mrow><annotation encoding="application/x-tex">G(u,v)=L(u,v)+\beta\left(\frac{H(u,v)}{\widetilde{H}(u,v)}-1\right)^\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.854312em;vertical-align:-0.65002em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.5296689999999997em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.94333em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span><span class="svg-align" style="width:calc(100% - 0.11112em);margin-left:0.11112em;top:-3.38333em;"><span class="pstrut" style="height:2.7em;"></span><span class="mtight" style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.645331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.204292em;"><span style="top:-3.6029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span></span></span></span></span></span></span></span> where <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(u,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span> is a fifth-order Butterworth filter, with a typical cutoff wavelength of 800 m, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span> are adjustable weighting parameters (typical values being 1 and 0.3, respectively, and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>H</mi><mo stretchy="true">~</mo></mover><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\widetilde{H}(u,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.19333em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.94333em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span></span><span class="svg-align" style="width:calc(100% - 0.11112em);margin-left:0.11112em;top:-3.6833299999999998em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span> is the median value of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H(u,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span></td></tr><tr><td><em>clap_beta</em></td><td>0.3</td><td>Weighting parameter for phase filtering (CLAP <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span> term).</td></tr><tr><td><em>weed_standard_dev</em></td><td>1</td><td><strong>Threshold standard deviation</strong>. For each pixel, the phase noise standard deviation for all pixel pairs including the pixel is calculated. If the minimum standard deviation is greater than the threshold, the pixel is dropped. If set to 10, no noise-based weeding is performed. <br></br>Increasing the SD increases the selected PS but also the noise level.(1-1.2) are good initial values.</td></tr><tr><td><em>weed_time_win</em></td><td>730</td><td><strong>Smoothing window (in days)</strong> for estimating phase noise distribution for each pair of <strong>neighbouring pixels</strong>. The time series phase for each pair is smoothed using a <strong>Gaussian-weighted piecewise linear fit</strong>. <em>weed-time-win</em> specifies the standard deviation of the Gaussian. The original phase minus the smoothed phase is assumed to be noise.</td></tr><tr><td><em>weed_neighbours</em></td><td>‘n’</td><td>Flag for proximity weeding. If set to ‘y’, pixels are dropped based in their proximity to each other.<br></br>A Scatterer that is bright can dominate pixels other than the pixel corresponding to its physical location. The error in look angle and squint angle due to the offset of the pixel from the physical location usually results in these pixels not being selected as PS. However, the slight oversampling of the resolution cells can cause pixels immediately adjacent to the PS pixel to be dominated by the same scatterer where the error may be sufficiently small that the pixel appears stable. To avoid picking these pixels, we assume that adjacent pixels selected as PS are due to the same dominant scatterer. As we expect the pixel that corresponds to the physical location to have the highest SNR, for groups of adjacent stable pixels we select as the PS only the pixel with the highest value of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>γ</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">\gamma_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>.<br></br>Should be set to ‘y’</td></tr><tr><td>unwrap_prefilter_flag</td><td>‘y’</td><td>Prefilter phase before unwrapping to reduce noise. <strong>SCLA (spatially-correlated look angle)</strong> and <strong>AOE (atmosphere and orbit error)</strong> subtraction is applied when step 6 is redone after step 7. To avoid subtraction use <em>scla_reset</em></td></tr><tr><td></td><td></td><td></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>SAR</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Reposititory</tag>
      
      <tag>InSAR</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Markdown Image Testing</title>
    <link href="/2022/03/17/Markdown-Image-Testing/"/>
    <url>/2022/03/17/Markdown-Image-Testing/</url>
    
    <content type="html"><![CDATA[<h1 id="markdown-image-testing"><a class="markdownIt-Anchor" href="#markdown-image-testing"></a> Markdown Image Testing</h1><span id="more"></span><h2 id="embedding-an-image-using-markdown"><a class="markdownIt-Anchor" href="#embedding-an-image-using-markdown"></a> Embedding an image using markdown</h2><blockquote><p>hexo-renderer-marked 3.1.0 introduced a new option that allows you to embed an image in markdown without using asset_img tag plugin.</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">post_asset_folder:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">marked:</span><br>  <span class="hljs-attr">prependRoot:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">postAsset:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><blockquote><p>Once enabled, an asset image will be automatically resolved to its corresponding post’s path.</p></blockquote><p><img src="avatar.JPG" alt="Me" title="Me in Greece" /></p><!-- more --><h2 id="path-to-image"><a class="markdownIt-Anchor" href="#path-to-image"></a> Path to image</h2><p>To understand the true ralative path to images in hexo posts using marksdown syntax, we tries several ways and the result is:</p><blockquote><p>Evenso we enabled everything mentioned before, the true path of 'avatar.JPG’is not <strong>/Blog/source/_posts\Markdown-Image-Testing/avatar.JPG</strong> but <strong>/Blog/public/2022/03/17/Markdown-Image-Testing/avatar.JPG</strong></p></blockquote><h1 id="tag-plugin"><a class="markdownIt-Anchor" href="#tag-plugin"></a> Tag Plugin</h1><img src="/2022/03/17/Markdown-Image-Testing/avatar.JPG" class="" title="Me"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Hello World!&quot;</span>);<br><span class="hljs-keyword">var</span> myVar = <span class="hljs-string">&quot;Hello World!&quot;</span>;<br></code></pre></td></tr></table></figure><div class="video-container"><iframe src="https://www.youtube.com/embed/I07XMi7MHd4" frameborder="0" loading="lazy" allowfullscreen></iframe></div>]]></content>
    
    
    <categories>
      
      <category>Testing</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Testing</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Getting Started with Markdown</title>
    <link href="/2022/03/17/Learning-Markdown/"/>
    <url>/2022/03/17/Learning-Markdown/</url>
    
    <content type="html"><![CDATA[<h1 id="getting-started-with-markdown"><a class="markdownIt-Anchor" href="#getting-started-with-markdown"></a> Getting Started with Markdown</h1><h2 id="a"><a class="markdownIt-Anchor" href="#a"></a> A</h2><h3 id="b"><a class="markdownIt-Anchor" href="#b"></a> B</h3><h4 id="c"><a class="markdownIt-Anchor" href="#c"></a> C</h4><p><strong>This text is bold</strong></p><p><em>italicized</em></p><span id="more"></span><blockquote><p>Anders Antonsen</p></blockquote><p>I really like using Markdown.</p><p>I think i will use it to format all of my documents from now on.</p><p>First line with two spaces after.<br />And the next line.</p><p>First line with the HTML tag after.<br><br />And the next line.</p><p>I jsut love <strong>bold text</strong>.<br />I just love <strong>bold text</strong>.<br />love<strong>is</strong>bold</p><p>Itilicized text is the <em>cat’s meow</em>.<br />Itilicized text is the <em>cat’s meow</em>.<br />A<em>cat</em>meow</p><p>This text is <em><strong>really important</strong></em>.<br />This text is <em><strong>really important</strong></em>.<br />This is really***very***important text.</p><blockquote><p>Dorothy followed her through many of the beautiful rooms in her castle.</p></blockquote><blockquote><p>A<br />B<br />C</p><p>D</p></blockquote><blockquote><p>Dorothy followed her through many of the beautiful rooms in her castle.</p><blockquote><p>The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood.</p><blockquote><p>And test.</p></blockquote></blockquote></blockquote><blockquote><h1 id="looks-good"><a class="markdownIt-Anchor" href="#looks-good"></a> Looks Good!</h1><ul><li>Revenue was off the chart.</li><li>Profits was higher then ever.</li></ul><p><em>everything</em> is going according to <strong>Plan</strong>.</p></blockquote><ol><li>First item</li><li>Secong item</li><li>Third item<ol><li>Indented item</li><li>Indented item</li></ol></li><li>Forth item</li></ol><ul><li>First item</li><li>Secong item<ul><li>Intended item</li><li>Intended item</li></ul></li><li>Third item</li><li>Forth item</li></ul><ul><li>First item</li><li>Second item</li></ul><ul><li>First item</li><li>Second item</li></ul><ul><li><p>1909. A great year.</p></li><li><p>Ihink 2008 was the secong best.</p></li><li><p>This is the first list item.</p></li><li><p>Here’s the secong list item.</p><p>I need to add another paragraph below the second item list.</p><blockquote><p>A blockquote would look great below the second list item.</p></blockquote></li><li><p>And here’s the third list item.</p></li></ul><p>At the command prompt, type <code>nano</code>.</p><p><code>code</code></p><p><code>use `code` in your Markdown file.</code></p><hr /><hr /><hr /><p>Search <a href="www.google.com" title="not Baidu.com">Google</a></p><p><a href="https://mengyuchi.github.io">https://mengyuchi.github.io</a></p><p><a href="mailto:mengyuchile@gmail.com">mengyuchile@gmail.com</a></p><p>I love supporting the <strong><a href="https://eff.org">EFF</a></strong>.</p><p>This is the <em><a href="https://www.markdownguide.org">Markdown Guide</a></em>.</p><p>See the section on <a href="#a"><code>A</code></a>.</p><p>This post is based on <a href="https://www.markdownguide.org/basic-syntax#lists-1" title="Markdown">Markdown Guide</a></p><p><img src="/../../themes/next/source/images/avatar.JPG" alt="Me" title="me in Greece" /></p><p>Result see post <strong>Markdown Image Testing</strong></p><p>* without the backslash, this would be a bullet in an unordered list.</p><h1 id="extended-syntax"><a class="markdownIt-Anchor" href="#extended-syntax"></a> Extended Syntax</h1><h2 id="tables"><a class="markdownIt-Anchor" href="#tables"></a> Tables</h2><table><thead><tr><th>Syntax</th><th>Descrption</th></tr></thead><tbody><tr><td>Header</td><td>Title</td></tr><tr><td>Paragraph</td><td>Text</td></tr></tbody></table><p>Or use <a href="https://www.tablesgenerator.com/markdown_tables#" title="Markdown Tables Generator">Markdown Tables Generator</a></p><p>see <a href="https://www.markdownguide.org/extended-syntax/">Guide</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><pre><code class="hljs javascript">&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Hello World!&quot;</span>);<br>    <span class="hljs-keyword">var</span> myVar = <span class="hljs-string">&quot;Hello World!&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>#Extended Syntax</p><blockquote><p>Some of the extended syntax not working in VScode!</p></blockquote><h2 id="footnotes-not-working"><a class="markdownIt-Anchor" href="#footnotes-not-working"></a> Footnotes Not Working</h2><blockquote><p>Add hexo plugin</p></blockquote><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-footnotes <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><p>This extension is outdated, so got uninstalled.</p><p>After research we understand there are different Markdown rendering tools. In case we needed it after, here are some references that give you an idea.</p><p><a href="https://github.com/hexojs/hexo-renderer-markdown-it" title="renderer">hexo-renderer-markdown-it</a><br /><a href="https://lamirs.vercel.app/">A blog based on Hexo about hexo-renderer-makedown-it and others</a><br /><a href="https://bugwz.com/2019/09/17/hexo-markdown-renderer/" title="Compare renderer">Compare of differernt renderer</a></p><p><mark>Fixed by adding <em><strong>Extensions: Markdown Preview Enhanced</strong></em></mark></p><p>Here’s a simple footnote.<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="This is the first footnote."><a href="https://www.markdownguide.org/basic-syntax#lists-1" title="Markdown">1</a></span></a></sup></p><h2 id="task-list"><a class="markdownIt-Anchor" href="#task-list"></a> Task List</h2><ul><li>[x] Write the press release</li><li>[ ] Update the website</li><li>[ ] Contact the media</li></ul><p>[x] Write the press release<br />[ ] Update the website<br />[ ] Contact the media</p><p>Gone camping! ⛺️ Be back soon.<br />😀</p><p>😊</p><p>That is so funny! 😂</p><p>I need to highlight these <mark>very important words</mark>.</p><p><mark>very important words</mark></p><p><mark>spaces are important in highlighting texts!</mark></p><h2 id="katex-test"><a class="markdownIt-Anchor" href="#katex-test"></a> Katex Test</h2><p>Aha! <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>=</mo><mi>m</mi><msup><mi>c</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">E = mc^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>.</p>\begin{equation} \label{eq1}e=mc^2\end{equation}<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mo fence="true">(</mo><mi>β</mi><mi>m</mi><msup><mi>c</mi><mn>2</mn></msup><mo>+</mo><mi>c</mi><mrow><mo fence="true">(</mo><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mn>3</mn></munderover><msub><mi>α</mi><mi>n</mi></msub><msub><mi>p</mi><mi>n</mi></msub><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mi>ψ</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>i</mi><mi mathvariant="normal">ℏ</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>ψ</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\left(\beta m c^2 + c \left(\sum_{n=1}^3\alpha_n p_n\right)\right) \psi(x,t)= i\hbar \frac{\partial \psi(x,t)}{\partial t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.068226em;vertical-align:-1.267113em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mord mathdefault">m</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8011130000000004em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">ψ</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord mathdefault">i</span><span class="mord">ℏ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathdefault" style="margin-right:0.03588em;">ψ</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h1 id="enjoy-markdown"><a class="markdownIt-Anchor" href="#enjoy-markdown"></a> Enjoy Markdown!</h1><p>Happy Life!<section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>This is the first footnote.<br /><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section></p>]]></content>
    
    
    <categories>
      
      <category>Testing</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Reposititory</tag>
      
      <tag>Testing</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MyFirstArticle</title>
    <link href="/2022/03/16/MyFirstArticle/"/>
    <url>/2022/03/16/MyFirstArticle/</url>
    
    <content type="html"><![CDATA[<h2 id="testing"><a class="markdownIt-Anchor" href="#testing"></a> Testing</h2><p>Hello</p><h2 id="dont-respond"><a class="markdownIt-Anchor" href="#dont-respond"></a> Dont Respond</h2><span id="more"></span><p>Dont respond! Dont respond! Dont respond!</p><h2 id="references"><a class="markdownIt-Anchor" href="#references"></a> References</h2><p>[1] Codingsheep@Bilibili</p>]]></content>
    
    
    <categories>
      
      <category>Testing</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Testing</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2022/03/16/hello-world/"/>
    <url>/2022/03/16/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><span id="more"></span><h2 id="quick-start"><a class="markdownIt-Anchor" href="#quick-start"></a> Quick Start</h2><h3 id="create-a-new-post"><a class="markdownIt-Anchor" href="#create-a-new-post"></a> Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="run-server"><a class="markdownIt-Anchor" href="#run-server"></a> Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="generate-static-files"><a class="markdownIt-Anchor" href="#generate-static-files"></a> Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="deploy-to-remote-sites"><a class="markdownIt-Anchor" href="#deploy-to-remote-sites"></a> Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
